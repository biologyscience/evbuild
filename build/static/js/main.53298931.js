/*! For license information please see main.53298931.js.LICENSE.txt */
(()=>{var t={14:t=>{t.exports=function(){return!1}},61:t=>{t.exports=function(t,e){return t<e}},143:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},149:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},191:(t,e)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function g(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case i:case a:case o:case u:case h:return t;default:switch(t=t&&t.$$typeof){case l:case c:case p:case d:case s:return t;default:return e}}case r:return e}}}e.Hy=function(t){return"string"===typeof t||"function"===typeof t||t===i||t===a||t===o||t===u||t===h||t===f||"object"===typeof t&&null!==t&&(t.$$typeof===p||t.$$typeof===d||t.$$typeof===l||t.$$typeof===s||t.$$typeof===c||t.$$typeof===m||void 0!==t.getModuleId)}},219:(t,e,n)=>{"use strict";var r=n(3763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&t(e,i,r)}var a=u(n);h&&(a=a.concat(h(n)));for(var s=l(e),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var v=d(n,y);try{c(e,y,v)}catch(_){}}}}return e}},228:function(t,e){!function(t){"use strict";var e="1.9.4";function n(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(e in i=arguments[n])t[e]=i[e];return t}var r=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function i(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(t){return"_leaflet_id"in t||(t._leaflet_id=++o),t._leaflet_id}function s(t,e,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(a,e),r=!0)},o}function l(t,e,n){var r=e[1],i=e[0],o=r-i;return t===r&&n?t:((t-i)%o+o)%o+i}function c(){return!1}function u(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return h(t).split(/\s+/)}function p(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?r(t.options):{}),e)t.options[n]=e[n];return t.options}function f(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(t,e){return t.replace(m,(function(t,n){var r=e[n];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"===typeof r&&(r=r(e)),r}))}var y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var x=0;function w(t){var e=+new Date,n=Math.max(0,16-(e-x));return x=e+n,window.setTimeout(t,n)}var S=window.requestAnimationFrame||b("RequestAnimationFrame")||w,k=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function P(t,e,n){if(!n||S!==w)return S.call(window,i(t,e));t.call(e)}function T(t){t&&k.call(window,t)}var E={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:a,throttle:s,wrapNum:l,falseFn:c,formatNum:u,trim:h,splitWords:d,setOptions:p,getParamString:f,template:g,isArray:y,indexOf:v,emptyImageUrl:_,requestFn:S,cancelFn:k,requestAnimFrame:P,cancelAnimFrame:T};function C(){}function A(t){if("undefined"!==typeof L&&L&&L.Mixin){t=y(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}C.extend=function(t){var e=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,o=r(i);for(var a in o.constructor=e,e.prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(e[a]=this[a]);return t.statics&&n(e,t.statics),t.includes&&(A(t.includes),n.apply(null,[o].concat(t.includes))),n(o,t),delete o.statics,delete o.includes,o.options&&(o.options=i.options?r(i.options):{},n(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},C.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},C.mergeOptions=function(t){return n(this.prototype.options,t),this},C.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var M={on:function(t,e,n){if("object"===typeof t)for(var r in t)this._on(r,t[r],e);else for(var i=0,o=(t=d(t)).length;i<o;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"===typeof t)for(var r in t)this._off(r,t[r],e);else{t=d(t);for(var i=1===arguments.length,o=0,a=t.length;o<a;o++)i?this._off(t[o]):this._off(t[o],e,n)}else delete this._events;return this},_on:function(t,e,n,r){if("function"===typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var i={fn:e,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(i)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var r,i,o;if(this._events&&(r=this._events[t]))if(1!==arguments.length)if("function"===typeof e){var a=this._listens(t,e,n);if(!1!==a){var s=r[a];this._firingCount&&(s.fn=c,this._events[t]=r=r.slice()),r.splice(a,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=c;delete this._events[t]}},fire:function(t,e,r){if(!this.listens(t,r))return this;var i=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var l=o[a],c=l.fn;l.once&&this.off(t,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(t,e,n,r){"string"!==typeof t&&console.warn('"string" type argument expected');var i=e;"function"!==typeof e&&(r=!!e,i=void 0,n=void 0);var o=this._events&&this._events[t];if(o&&o.length&&!1!==this._listens(t,i,n))return!0;if(r)for(var a in this._eventParents)if(this._eventParents[a].listens(t,e,n,r))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var r=this._events[t]||[];if(!e)return!!r.length;n===this&&(n=void 0);for(var i=0,o=r.length;i<o;i++)if(r[i].fn===e&&r[i].ctx===n)return i;return!1},once:function(t,e,n){if("object"===typeof t)for(var r in t)this._on(r,t[r],e,!0);else for(var i=0,o=(t=d(t)).length;i<o;i++)this._on(t[i],e,n,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};M.addEventListener=M.on,M.removeEventListener=M.clearAllEventListeners=M.off,M.addOneTimeEventListener=M.once,M.fireEvent=M.fire,M.hasEventListeners=M.listens;var O=C.extend(M);function I(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var z=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function D(t,e,n){return t instanceof I?t:y(t)?new I(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new I(t.x,t.y):new I(t,e,n)}function j(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function R(t,e){return!t||t instanceof j?t:new j(t,e)}function B(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function N(t,e){return t instanceof B?t:new B(t,e)}function F(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function $(t,e,n){return t instanceof F?t:y(t)&&"object"!==typeof t[0]?3===t.length?new F(t[0],t[1],t[2]):2===t.length?new F(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new F(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new F(t,e,n)}I.prototype={clone:function(){return new I(this.x,this.y)},add:function(t){return this.clone()._add(D(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(D(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new I(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new I(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=z(this.x),this.y=z(this.y),this},distanceTo:function(t){var e=(t=D(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=D(t)).x===this.x&&t.y===this.y},contains:function(t){return t=D(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},j.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof I||"number"===typeof t[0]||"x"in t)e=n=D(t);else if(e=(t=R(t)).min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"===typeof t[0]||t instanceof I?D(t):R(t))instanceof j?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=R(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>=e.x&&r.x<=n.x,a=i.y>=e.y&&r.y<=n.y;return o&&a},overlaps:function(t){t=R(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>e.x&&r.x<n.x,a=i.y>e.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,r=Math.abs(e.x-n.x)*t,i=Math.abs(e.y-n.y)*t;return R(D(e.x-r,e.y-i),D(n.x+r,n.y+i))},equals:function(t){return!!t&&(t=R(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},B.prototype={extend:function(t){var e,n,r=this._southWest,i=this._northEast;if(t instanceof F)e=t,n=t;else{if(!(t instanceof B))return t?this.extend($(t)||N(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return r||i?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new F(e.lat,e.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new B(new F(e.lat-r,e.lng-i),new F(n.lat+r,n.lng+i))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof F||"lat"in t?$(t):N(t);var e,n,r=this._southWest,i=this._northEast;return t instanceof B?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=i.lat&&e.lng>=r.lng&&n.lng<=i.lng},intersects:function(t){t=N(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>=e.lat&&r.lat<=n.lat,a=i.lng>=e.lng&&r.lng<=n.lng;return o&&a},overlaps:function(t){t=N(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>e.lat&&r.lat<n.lat,a=i.lng>e.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=N(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(t,e){return!!t&&(t=$(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return U.distance(this,$(t))},wrap:function(){return U.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return N([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var V={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new j(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new F(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,i=e.lng-n.lng;if(0===r&&0===i)return t;var o=t.getSouthWest(),a=t.getNorthEast();return new B(new F(o.lat-r,o.lng-i),new F(a.lat-r,a.lng-i))}},U=n({},V,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),Z=6378137,q={R:Z,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),i=Math.sin(r*e);return new I(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new F((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=Z*Math.PI;return new j([-t,-t],[t,t])}()};function H(t,e,n,r){if(y(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=r}function W(t,e,n,r){return new H(t,e,n,r)}H.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new I((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var G=n({},U,{code:"EPSG:3857",projection:q,transformation:function(){var t=.5/(Math.PI*q.R);return W(t,.5,-t,.5)}()}),X=n({},G,{code:"EPSG:900913"});function K(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Y(t,e){var n,r,i,o,a,s,l="";for(n=0,i=t.length;n<i;n++){for(r=0,o=(a=t[n]).length;r<o;r++)l+=(r?"L":"M")+(s=a[r]).x+" "+s.y;l+=e?jt.svg?"z":"x":""}return l||"M0 0"}var J=document.documentElement.style,Q="ActiveXObject"in window,tt=Q&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=Dt("webkit"),rt=Dt("android"),it=Dt("android 2")||Dt("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),at=rt&&Dt("Google")&&ot<537&&!("AudioNode"in window),st=!!window.opera,lt=!et&&Dt("chrome"),ct=Dt("gecko")&&!nt&&!st&&!Q,ut=!lt&&Dt("safari"),ht=Dt("phantom"),dt="OTransition"in J,pt=0===navigator.platform.indexOf("Win"),ft=Q&&"transition"in J,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,gt="MozPerspective"in J,yt=!window.L_DISABLE_3D&&(ft||mt||gt)&&!dt&&!ht,vt="undefined"!==typeof orientation||Dt("mobile"),_t=vt&&nt,bt=vt&&mt,xt=!window.PointerEvent&&window.MSPointerEvent,wt=!(!window.PointerEvent&&!xt),St="ontouchstart"in window||!!window.TouchEvent,kt=!window.L_NO_TOUCH&&(St||wt),Pt=vt&&st,Tt=vt&&ct,Et=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ct=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",c,e),window.removeEventListener("testPassiveEventSupport",c,e)}catch(n){}return t}(),At=!!document.createElement("canvas").getContext,Mt=!(!document.createElementNS||!K("svg").createSVGRect),Ot=!!Mt&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),It=!Mt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(n){return!1}}(),zt=0===navigator.platform.indexOf("Mac"),Lt=0===navigator.platform.indexOf("Linux");function Dt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var jt={ie:Q,ielt9:tt,edge:et,webkit:nt,android:rt,android23:it,androidStock:at,opera:st,chrome:lt,gecko:ct,safari:ut,phantom:ht,opera12:dt,win:pt,ie3d:ft,webkit3d:mt,gecko3d:gt,any3d:yt,mobile:vt,mobileWebkit:_t,mobileWebkit3d:bt,msPointer:xt,pointer:wt,touch:kt,touchNative:St,mobileOpera:Pt,mobileGecko:Tt,retina:Et,passiveEvents:Ct,canvas:At,svg:Mt,vml:It,inlineSvg:Ot,mac:zt,linux:Lt},Rt=jt.msPointer?"MSPointerDown":"pointerdown",Bt=jt.msPointer?"MSPointerMove":"pointermove",Nt=jt.msPointer?"MSPointerUp":"pointerup",Ft=jt.msPointer?"MSPointerCancel":"pointercancel",$t={touchstart:Rt,touchmove:Bt,touchend:Nt,touchcancel:Ft},Vt={touchstart:Jt,touchmove:Yt,touchend:Yt,touchcancel:Yt},Ut={},Zt=!1;function qt(t,e,n){return"touchstart"===e&&Kt(),Vt[e]?(n=Vt[e].bind(this,n),t.addEventListener($t[e],n,!1),n):(console.warn("wrong event specified:",e),c)}function Ht(t,e,n){$t[e]?t.removeEventListener($t[e],n,!1):console.warn("wrong event specified:",e)}function Wt(t){Ut[t.pointerId]=t}function Gt(t){Ut[t.pointerId]&&(Ut[t.pointerId]=t)}function Xt(t){delete Ut[t.pointerId]}function Kt(){Zt||(document.addEventListener(Rt,Wt,!0),document.addEventListener(Bt,Gt,!0),document.addEventListener(Nt,Xt,!0),document.addEventListener(Ft,Xt,!0),Zt=!0)}function Yt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],Ut)e.touches.push(Ut[n]);e.changedTouches=[e],t(e)}}function Jt(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&We(e),Yt(t,e)}function Qt(t){var e,n,r={};for(n in t)e=t[n],r[n]=e&&e.bind?e.bind(t):e;return t=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var te=200;function ee(t,e){t.addEventListener("dblclick",e);var n,r=0;function i(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var i=Xe(t);if(!i.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||i.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var o=Date.now();o-r<=te?2===++n&&e(Qt(t)):n=1,r=o}}}else n=t.detail}return t.addEventListener("click",i),{dblclick:e,simDblclick:i}}function ne(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var re,ie,oe,ae,se,le=Pe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ce=Pe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ue="webkitTransition"===ce||"OTransition"===ce?ce+"End":"transitionend";function he(t){return"string"===typeof t?document.getElementById(t):t}function de(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n}function pe(t,e,n){var r=document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function fe(t){var e=t.parentNode;e&&e.removeChild(t)}function me(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ge(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ye(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ve(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=we(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function _e(t,e){if(void 0!==t.classList)for(var n=d(e),r=0,i=n.length;r<i;r++)t.classList.add(n[r]);else if(!ve(t,e)){var o=we(t);xe(t,(o?o+" ":"")+e)}}function be(t,e){void 0!==t.classList?t.classList.remove(e):xe(t,h((" "+we(t)+" ").replace(" "+e+" "," ")))}function xe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function we(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function Se(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&ke(t,e)}function ke(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(i){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}function Pe(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Te(t,e,n){var r=e||new I(0,0);t.style[le]=(jt.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Ee(t,e){t._leaflet_pos=e,jt.any3d?Te(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ce(t){return t._leaflet_pos||new I(0,0)}if("onselectstart"in document)re=function(){Re(window,"selectstart",We)},ie=function(){Ne(window,"selectstart",We)};else{var Ae=Pe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);re=function(){if(Ae){var t=document.documentElement.style;oe=t[Ae],t[Ae]="none"}},ie=function(){Ae&&(document.documentElement.style[Ae]=oe,oe=void 0)}}function Me(){Re(window,"dragstart",We)}function Oe(){Ne(window,"dragstart",We)}function Ie(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(ze(),ae=t,se=t.style.outlineStyle,t.style.outlineStyle="none",Re(window,"keydown",ze))}function ze(){ae&&(ae.style.outlineStyle=se,ae=void 0,se=void 0,Ne(window,"keydown",ze))}function Le(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function De(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var je={__proto__:null,TRANSFORM:le,TRANSITION:ce,TRANSITION_END:ue,get:he,getStyle:de,create:pe,remove:fe,empty:me,toFront:ge,toBack:ye,hasClass:ve,addClass:_e,removeClass:be,setClass:xe,getClass:we,setOpacity:Se,testProp:Pe,setTransform:Te,setPosition:Ee,getPosition:Ce,get disableTextSelection(){return re},get enableTextSelection(){return ie},disableImageDrag:Me,enableImageDrag:Oe,preventOutline:Ie,restoreOutline:ze,getSizedParentNode:Le,getScale:De};function Re(t,e,n,r){if(e&&"object"===typeof e)for(var i in e)Ve(t,i,e[i],n);else for(var o=0,a=(e=d(e)).length;o<a;o++)Ve(t,e[o],n,r);return this}var Be="_leaflet_events";function Ne(t,e,n,r){if(1===arguments.length)Fe(t),delete t[Be];else if(e&&"object"===typeof e)for(var i in e)Ue(t,i,e[i],n);else if(e=d(e),2===arguments.length)Fe(t,(function(t){return-1!==v(e,t)}));else for(var o=0,a=e.length;o<a;o++)Ue(t,e[o],n,r);return this}function Fe(t,e){for(var n in t[Be]){var r=n.split(/\d/)[0];e&&!e(r)||Ue(t,r,null,null,n)}}var $e={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ve(t,e,n,r){var i=e+a(n)+(r?"_"+a(r):"");if(t[Be]&&t[Be][i])return this;var o=function(e){return n.call(r||t,e||window.event)},s=o;!jt.touchNative&&jt.pointer&&0===e.indexOf("touch")?o=qt(t,e,o):jt.touch&&"dblclick"===e?o=ee(t,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener($e[e]||e,o,!!jt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,Qe(t,e)&&s(e)},t.addEventListener($e[e],o,!1)):t.addEventListener(e,s,!1):t.attachEvent("on"+e,o),t[Be]=t[Be]||{},t[Be][i]=o}function Ue(t,e,n,r,i){i=i||e+a(n)+(r?"_"+a(r):"");var o=t[Be]&&t[Be][i];if(!o)return this;!jt.touchNative&&jt.pointer&&0===e.indexOf("touch")?Ht(t,e,o):jt.touch&&"dblclick"===e?ne(t,o):"removeEventListener"in t?t.removeEventListener($e[e]||e,o,!1):t.detachEvent("on"+e,o),t[Be][i]=null}function Ze(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function qe(t){return Ve(t,"wheel",Ze),this}function He(t){return Re(t,"mousedown touchstart dblclick contextmenu",Ze),t._leaflet_disable_click=!0,this}function We(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ge(t){return We(t),Ze(t),this}function Xe(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Ke(t,e){if(!e)return new I(t.clientX,t.clientY);var n=De(e),r=n.boundingClientRect;return new I((t.clientX-r.left)/n.x-e.clientLeft,(t.clientY-r.top)/n.y-e.clientTop)}var Ye=jt.linux&&jt.chrome?window.devicePixelRatio:jt.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Je(t){return jt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ye:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Qe(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(r){return!1}return n!==t}var tn={__proto__:null,on:Re,off:Ne,stopPropagation:Ze,disableScrollPropagation:qe,disableClickPropagation:He,preventDefault:We,stop:Ge,getPropagationPath:Xe,getMousePosition:Ke,getWheelDelta:Je,isExternalTarget:Qe,addListener:Re,removeListener:Ne},en=O.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Ce(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=P(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Ee(this._el,n),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),nn=O.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=p(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView($(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ce&&jt.any3d&&!jt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,ue,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter($(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e,r.pan&&r.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(jt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(jt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),i=this.getSize().divideBy(2),o=(t instanceof I?t:this.latLngToContainerPoint(t)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():N(t);var n=D(e.paddingTopLeft||e.padding||[0,0]),r=D(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,n.add(r));if((i="number"===typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),i),s=this.project(t.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(t,e){if(!(t=N(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=D(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new en,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){_e(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!jt.any3d)return this.setView(t,e,n);this._stop();var r=this.project(this.getCenter()),i=this.project(t),o=this.getSize(),a=this._zoom;t=$(t),e=void 0===e?a:e;var s=Math.max(o.x,o.y),l=s*this.getZoomScale(a,e),c=i.distanceTo(r)||1,u=1.42,h=u*u;function d(t){var e=(l*l-s*s+(t?-1:1)*h*h*c*c)/(2*(t?l:s)*h*c),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}function m(t){return p(t)/f(t)}var g=d(0);function y(t){return s*(f(g)/f(g+u*t))}function v(t){return s*(f(g)*m(g+u*t)-p(g))/h}function _(t){return 1-Math.pow(1-t,1.5)}var b=Date.now(),x=(d(1)-g)/u,w=n.duration?1e3*n.duration:1e3*x*.8;function S(){var n=(Date.now()-b)/w,o=_(n)*x;n<=1?(this._flyToFrame=P(S,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(v(o)/c)),a),this.getScaleZoom(s/y(o),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=N(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,N(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=D((e=e||{}).paddingTopLeft||e.padding||[0,0]),r=D(e.paddingBottomRight||e.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(t),a=this.getPixelBounds(),s=R([a.min.add(n),a.max.subtract(r)]),l=s.getSize();if(!s.contains(o)){this._enforcingBounds=!0;var c=o.subtract(s.getCenter()),u=s.extend(o).getSize().subtract(l);i.x+=c.x<0?-u.x:u.x,i.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(i),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=e.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new F(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(e,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)"number"===typeof t.coords[a]&&(o[a]=t.coords[a]);this.fire("locationfound",o)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)fe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=pe("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new B(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=N(t),n=D(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),c=R(this.project(s,r),this.project(a,r)).getSize(),u=jt.any3d?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,p=e?Math.max(h,d):Math.min(h,d);return r=this.getScaleZoom(p,r),u&&(r=Math.round(r/(u/100))*(u/100),r=e?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new j(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint($(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(D(t),e)},layerPointToLatLng:function(t){var e=D(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project($(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng($(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(N(t))},distance:function(t,e){return this.options.crs.distance($(t),$(e))},containerPointToLayerPoint:function(t){return D(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return D(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(D(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint($(t)))},mouseEventToContainerPoint:function(t){return Ke(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=he(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Re(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&jt.any3d,_e(t,"leaflet-container"+(jt.touch?" leaflet-touch":"")+(jt.retina?" leaflet-retina":"")+(jt.ielt9?" leaflet-oldie":"")+(jt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=de(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ee(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_e(t.markerPane,"leaflet-zoom-hide"),_e(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){Ee(this._mapPane,new I(0,0));var r=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,n)._move(t,e)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,r){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ee(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?Ne:Re;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),jt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=P((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],i="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(i&&!Qe(o,t))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!this.listens(e,!0)||(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&Ie(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if("click"===t.type){var i=n({},t);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var o=this._findEventTargets(t,e);if(r){for(var a=[],s=0;s<r.length;s++)r[s].listens(e,!0)&&a.push(r[s]);o=a.concat(o)}if(o.length){"contextmenu"===e&&We(t);var l=o[0],c={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<o.length;s++)if(o[s].fire(e,c,!0),c.originalEvent._stopped||!1===o[s].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ce(this._mapPane)||new I(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return R([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),i=this.getSize().divideBy(2),o=new j(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,e);return Math.abs(a.x)<=1&&Math.abs(a.y)<=1?t:this.unproject(r.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new j(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=R(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=r.min.subtract(t.min),o=r.max.subtract(t.max);return new I(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=jt.any3d?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=pe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=le,n=this._proxy.style[e];Te(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Te(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(P((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,_e(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(t,e){return new nn(t,e)}var on=C.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return _e(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),an=function(t){return new on(t)};nn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=pe("div",e+"control-container",this._container);function r(r,i){var o=e+r+" "+e+i;t[r+i]=pe("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)fe(this._controlCorners[t]);fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return on.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){_e(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(_e(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=pe("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),He(e),qe(e);var r=this._section=pe("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Re(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=pe("a",t+"-toggle",e);i.href="#",i.title="Layers",i.setAttribute("role","button"),Re(i,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){We(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=pe("div",t+"-base",r),this._separator=pe("div",t+"-separator",r),this._overlaysList=pe("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;me(this._baseLayersList),me(this._overlaysList),this._layerControlInputs=[];var t,e,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&i>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(e),e.layerId=a(t.layer),Re(e,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(e),o.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t,e,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?r.push(e):t.checked||i.push(e);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&r<e.options.minZoom||void 0!==e.options.maxZoom&&r>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Re(t,"click",We),this.expand();var e=this;setTimeout((function(){Ne(t,"click",We),e._preventClick=!1}))}}),ln=function(t,e,n){return new sn(t,e,n)},cn=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=pe("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,i){var o=pe("a",n,r);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),He(o),Re(o,"click",Ge),Re(o,"click",i,this),Re(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";be(this._zoomInButton,e),be(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(_e(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(_e(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var un=function(t){return new cn(t)},hn=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=pe("div",e),r=this.options;return this._addScales(r,e+"-line",n),t.on(r.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=pe("div",e,n)),t.imperial&&(this._iScale=pe("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,r,i=3.2808399*t;i>5280?(e=i/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),dn=function(t){return new hn(t)},pn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(jt.inlineSvg?pn+" ":"")+"Leaflet</a>"},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=pe("div","leaflet-control-attribution"),He(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new fn).addTo(this)}));var mn=function(t){return new fn(t)};on.Layers=sn,on.Zoom=cn,on.Scale=hn,on.Attribution=fn,an.layers=ln,an.zoom=un,an.scale=dn,an.attribution=mn;var gn=C.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(t,e){return t.addHandler(e,this),this};var yn={Events:M},vn=jt.touch?"touchstart mousedown":"mousedown",_n=O.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){p(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Re(this._dragStartTarget,vn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_n._dragging===this&&this.finishDrag(!0),Ne(this._dragStartTarget,vn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ve(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)_n._dragging===this&&this.finishDrag();else if(!(_n._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(_n._dragging=this,this._preventOutline&&Ie(this._element),Me(),re(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=Le(this._element);this._startPoint=new I(e.clientX,e.clientY),this._startPos=Ce(this._element),this._parentScale=De(n);var r="mousedown"===t.type;Re(document,r?"mousemove":"touchmove",this._onMove,this),Re(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new I(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,We(t),this._moved||(this.fire("dragstart"),this._moved=!0,_e(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_e(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ee(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){be(document.body,"leaflet-dragging"),this._lastTarget&&(be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ne(document,"mousemove touchmove",this._onMove,this),Ne(document,"mouseup touchend touchcancel",this._onUp,this),Oe(),ie();var e=this._moved&&this._moving;this._moving=!1,_n._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function bn(t,e,n){var r,i,o,a,s,l,c,u,h,d=[1,4,2,8];for(i=0,c=t.length;i<c;i++)t[i]._code=zn(t[i],e);for(a=0;a<4;a++){for(u=d[a],r=[],i=0,o=(c=t.length)-1;i<c;o=i++)s=t[i],l=t[o],s._code&u?l._code&u||((h=In(l,s,u,e,n))._code=zn(h,e),r.push(h)):(l._code&u&&((h=In(l,s,u,e,n))._code=zn(h,e),r.push(h)),r.push(s));t=r}return t}function xn(t,e){var n,r,i,o,a,s,l,c,u;if(!t||0===t.length)throw new Error("latlngs not passed");jn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=$([0,0]),d=N(t);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(h=wn(t));var p=t.length,f=[];for(n=0;n<p;n++){var m=$(t[n]);f.push(e.project($([m.lat-h.lat,m.lng-h.lng])))}for(s=l=c=0,n=0,r=p-1;n<p;r=n++)i=f[n],o=f[r],a=i.y*o.x-o.y*i.x,l+=(i.x+o.x)*a,c+=(i.y+o.y)*a,s+=3*a;u=0===s?f[0]:[l/s,c/s];var g=e.unproject(D(u));return $([g.lat+h.lat,g.lng+h.lng])}function wn(t){for(var e=0,n=0,r=0,i=0;i<t.length;i++){var o=$(t[i]);e+=o.lat,n+=o.lng,r++}return $([e/r,n/r])}var Sn,kn={__proto__:null,clipPolygon:bn,polygonCenter:xn,centroid:wn};function Pn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Cn(t=Mn(t,n),n)}function Tn(t,e,n){return Math.sqrt(Dn(t,e,n,!0))}function En(t,e,n){return Dn(t,e,n)}function Cn(t,e){var n=t.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,An(t,r,e,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(t[i]);return o}function An(t,e,n,r,i){var o,a,s,l=0;for(a=r+1;a<=i-1;a++)(s=Dn(t[a],t[r],t[i],!0))>l&&(o=a,l=s);l>n&&(e[o]=1,An(t,e,n,r,o),An(t,e,n,o,i))}function Mn(t,e){for(var n=[t[0]],r=1,i=0,o=t.length;r<o;r++)Ln(t[r],t[i])>e&&(n.push(t[r]),i=r);return i<o-1&&n.push(t[o-1]),n}function On(t,e,n,r,i){var o,a,s,l=r?Sn:zn(t,n),c=zn(e,n);for(Sn=c;;){if(!(l|c))return[t,e];if(l&c)return!1;s=zn(a=In(t,e,o=l||c,n,i),n),o===l?(t=a,l=s):(e=a,c=s)}}function In(t,e,n,r,i){var o,a,s=e.x-t.x,l=e.y-t.y,c=r.min,u=r.max;return 8&n?(o=t.x+s*(u.y-t.y)/l,a=u.y):4&n?(o=t.x+s*(c.y-t.y)/l,a=c.y):2&n?(o=u.x,a=t.y+l*(u.x-t.x)/s):1&n&&(o=c.x,a=t.y+l*(c.x-t.x)/s),new I(o,a,i)}function zn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Ln(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function Dn(t,e,n,r){var i,o=e.x,a=e.y,s=n.x-o,l=n.y-a,c=s*s+l*l;return c>0&&((i=((t.x-o)*s+(t.y-a)*l)/c)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=l*i)),s=t.x-o,l=t.y-a,r?s*s+l*l:new I(o,a)}function jn(t){return!y(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function Rn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),jn(t)}function Bn(t,e){var n,r,i,o,a,s,l,c;if(!t||0===t.length)throw new Error("latlngs not passed");jn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var u=$([0,0]),h=N(t);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(u=wn(t));var d=t.length,p=[];for(n=0;n<d;n++){var f=$(t[n]);p.push(e.project($([f.lat-u.lat,f.lng-u.lng])))}for(n=0,r=0;n<d-1;n++)r+=p[n].distanceTo(p[n+1])/2;if(0===r)c=p[0];else for(n=0,o=0;n<d-1;n++)if(a=p[n],s=p[n+1],(o+=i=a.distanceTo(s))>r){l=(o-r)/i,c=[s.x-l*(s.x-a.x),s.y-l*(s.y-a.y)];break}var m=e.unproject(D(c));return $([m.lat+u.lat,m.lng+u.lng])}var Nn={__proto__:null,simplify:Pn,pointToSegmentDistance:Tn,closestPointOnSegment:En,clipSegment:On,_getEdgeIntersection:In,_getBitCode:zn,_sqClosestPointOnSegment:Dn,isFlat:jn,_flat:Rn,polylineCenter:Bn},Fn={project:function(t){return new I(t.lng,t.lat)},unproject:function(t){return new F(t.y,t.x)},bounds:new j([-180,-90],[180,90])},$n={R:6378137,R_MINOR:6356752.314245179,bounds:new j([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new I(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-t.y/r),s=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),s+=c=Math.PI/2-2*Math.atan(a*e)-s;return new F(s*n,t.x*n/r)}},Vn={__proto__:null,LonLat:Fn,Mercator:$n,SphericalMercator:q},Un=n({},U,{code:"EPSG:3395",projection:$n,transformation:function(){var t=.5/(Math.PI*$n.R);return W(t,.5,-t,.5)}()}),Zn=n({},U,{code:"EPSG:4326",projection:Fn,transformation:W(1/180,1,-1/180,.5)}),qn=n({},V,{projection:Fn,transformation:W(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0});V.Earth=U,V.EPSG3395=Un,V.EPSG3857=G,V.EPSG900913=X,V.EPSG4326=Zn,V.Simple=qn;var Hn=O.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?y(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wn=Hn.extend({initialize:function(t,e){var n,r;if(p(this,e),this._layers={},t)for(n=0,r=t.length;n<r;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"===typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),Gn=function(t,e){return new Wn(t,e)},Xn=Wn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Wn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Wn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new B;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Kn=function(t,e){return new Xn(t,e)},Yn=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"===typeof r&&(r=[r,r]);var i=D(r),o=D("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return jt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Jn(t){return new Yn(t)}var Qn=Yn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!==typeof Qn.imagePath&&(Qn.imagePath=this._detectIconPath()),(this.options.imagePath||Qn.imagePath)+Yn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var r=e.exec(t);return r&&r[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=pe("div","leaflet-default-icon-path",document.body),e=de(t,"background-image")||de(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),tr=gn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new _n(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_e(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=Ce(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=R(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!l.contains(o)){var c=D((Math.max(l.max.x,o.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Ee(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=P(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=P(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,r=Ce(e._icon),i=e._map.layerPointToLatLng(r);n&&Ee(n,r),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),er=Hn.extend({options:{icon:new Qn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e),this._latlng=$(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=$(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),_e(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(n,"focus",this._panOnFocus,this);var i=t.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(_e(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ne(this._icon,"focus",this._panOnFocus,this),fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ee(this._icon,t),this._shadow&&Ee(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(_e(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tr)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tr(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Se(this._icon,t),this._shadow&&Se(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?D(e.iconSize):D(0,0),r=e.iconAnchor?D(e.iconAnchor):D(0,0);t.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nr(t,e){return new er(t,e)}var rr=Hn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ir=rr.extend({options:{fill:!0,radius:10},initialize:function(t,e){p(this,e),this._latlng=$(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=$(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return rr.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new j(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function or(t,e){return new ir(t,e)}var ar=ir.extend({initialize:function(t,e,r){if("number"===typeof e&&(e=n({},r,{radius:e})),p(this,e),this._latlng=$(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:rr.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===U.distance){var i=Math.PI/180,o=this._mRadius/U.R/i,a=n.project([e+o,t]),s=n.project([e-o,t]),l=a.add(s).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(o*i)-Math.sin(e*i)*Math.sin(c*i))/(Math.cos(e*i)*Math.cos(c*i)))/i;(isNaN(u)||0===u)&&(u=o/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,t-u]).x,this._radiusY=l.y-a.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function sr(t,e,n){return new ar(t,e,n)}var lr=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){p(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,i=null,o=Dn,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],c=1,u=l.length;c<u;c++){var h=o(t,e=l[c-1],n=l[c],!0);h<r&&(r=h,i=o(t,e,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=$(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new B,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return jn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=jn(t),r=0,i=t.length;r<i;r++)n?(e[r]=$(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new I(t,t);this._rawPxBounds&&(this._pxBounds=new j([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var r,i,o=t[0]instanceof F,a=t.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(t[r]),n.extend(i[r]);e.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,r,i,o,a,s,l=this._parts;for(e=0,r=0,i=this._rings.length;e<i;e++)for(n=0,o=(s=this._rings[e]).length;n<o-1;n++)(a=On(s[n],s[n+1],t,n,!0))&&(l[r]=l[r]||[],l[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(l[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=Pn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,i,o,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((e||0!==r)&&Tn(t,s[i],s[r])<=l)return!0;return!1}});function cr(t,e){return new lr(t,e)}lr._flat=Rn;var ur=lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=lr.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof F&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){lr.prototype._setLatLngs.call(this,t),jn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return jn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new I(e,e);if(t=new j(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=bn(this._rings[i],t,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,r,i,o,a,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(l=(e=this._parts[i]).length)-1;o<l;a=o++)n=e[o],r=e[a],n.y>t.y!==r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||lr.prototype._containsPoint.call(this,t,!0)}});function hr(t,e){return new ur(t,e)}var dr=Xn.extend({initialize:function(t,e){p(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,i=y(t)?t:t.features;if(i){for(e=0,n=i.length;e<n;e++)((r=i[e]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=pr(t,o);return a?(a.feature=br(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function pr(t,e){var n,r,i,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||mr;if(!s&&!a)return null;switch(a.type){case"Point":return fr(c,t,n=u(s),e);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=u(s[i]),l.push(fr(c,t,n,e));return new Xn(l);case"LineString":case"MultiLineString":return r=gr(s,"LineString"===a.type?0:1,u),new lr(r,e);case"Polygon":case"MultiPolygon":return r=gr(s,"Polygon"===a.type?1:2,u),new ur(r,e);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var h=pr({geometry:a.geometries[i],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Xn(l);case"FeatureCollection":for(i=0,o=a.features.length;i<o;i++){var d=pr(a.features[i],e);d&&l.push(d)}return new Xn(l);default:throw new Error("Invalid GeoJSON object.")}}function fr(t,e,n,r){return t?t(e,n):new er(n,r&&r.markersInheritOptions&&r)}function mr(t){return new F(t[1],t[0],t[2])}function gr(t,e,n){for(var r,i=[],o=0,a=t.length;o<a;o++)r=e?gr(t[o],e-1,n):(n||mr)(t[o]),i.push(r);return i}function yr(t,e){return void 0!==(t=$(t)).alt?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function vr(t,e,n,r){for(var i=[],o=0,a=t.length;o<a;o++)i.push(e?vr(t[o],jn(t[o])?0:e-1,n,r):yr(t[o],r));return!e&&n&&i.length>0&&i.push(i[0].slice()),i}function _r(t,e){return t.feature?n({},t.feature,{geometry:e}):br(e)}function br(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var xr={toGeoJSON:function(t){return _r(this,{type:"Point",coordinates:yr(this.getLatLng(),t)})}};function wr(t,e){return new dr(t,e)}er.include(xr),ar.include(xr),ir.include(xr),lr.include({toGeoJSON:function(t){var e=!jn(this._latlngs);return _r(this,{type:(e?"Multi":"")+"LineString",coordinates:vr(this._latlngs,e?1:0,!1,t)})}}),ur.include({toGeoJSON:function(t){var e=!jn(this._latlngs),n=e&&!jn(this._latlngs[0]),r=vr(this._latlngs,n?2:e?1:0,!0,t);return e||(r=[r]),_r(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Wn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),_r(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,r=[];return this.eachLayer((function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(n)r.push(i.geometry);else{var o=br(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?_r(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Sr=wr,kr=Hn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=N(e),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_e(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ge(this._image),this},bringToBack:function(){return this._map&&ye(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=N(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:pe("img");_e(e,"leaflet-image-layer"),this._zoomAnimated&&_e(e,"leaflet-zoom-animated"),this.options.className&&_e(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onload=i(this.fire,this,"load"),e.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Te(this._image,n,e)},_reset:function(){var t=this._image,e=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Ee(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){Se(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Pr=function(t,e,n){return new kr(t,e,n)},Tr=kr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:pe("video");if(_e(e,"leaflet-image-layer"),this._zoomAnimated&&_e(e,"leaflet-zoom-animated"),this.options.className&&_e(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onloadeddata=i(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[e.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var s=pe("source");s.src=this._url[a],e.appendChild(s)}}}});function Er(t,e,n){return new Tr(t,e,n)}var Cr=kr.extend({_initImage:function(){var t=this._image=this._url;_e(t,"leaflet-image-layer"),this._zoomAnimated&&_e(t,"leaflet-zoom-animated"),this.options.className&&_e(t,this.options.className),t.onselectstart=c,t.onmousemove=c}});function Ar(t,e,n){return new Cr(t,e,n)}var Mr=Hn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof F||y(t))?(this._latlng=$(t),p(this,e)):(p(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Se(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Se(this._container,1),this.bringToFront(),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Se(this._container,0),this._removeTimeout=setTimeout(i(fe,void 0,this._container),200)):fe(this._container),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=$(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ge(this._container),this},bringToBack:function(){return this._map&&ye(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Xn){e=null;var n=this._source._layers;for(var r in n)if(n[r]._map){e=n[r];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=D(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ee(this._container,t.add(n)):e=e.add(t).add(n);var r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(t,e,n,r){var i=e;return i instanceof t||(i=new t(r).setContent(e)),n&&i.setLatLng(n),i}}),Hn.include({_initOverlay:function(t,e,n,r){var i=n;return i instanceof t?(p(i,r),i._source=this):(i=e&&!r?e:new t(r,this)).setContent(n),i}});var Or=Mr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Mr.prototype.openOn.call(this,t)},onAdd:function(t){Mr.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",Ze))},onRemove:function(t){Mr.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",Ze))},getEvents:function(){var t=Mr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=pe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=pe("div",t+"-content-wrapper",e);if(this._contentNode=pe("div",t+"-content",n),He(e),qe(this._contentNode),Re(e,"contextmenu",Ze),this._tipContainer=pe("div",t+"-tip-container",e),this._tip=pe("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=pe("a",t+"-close-button",e);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Re(r,"click",(function(t){We(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(e.height=i+"px",_e(t,o)):be(t,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Ee(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(de(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,i=new I(this._containerLeft,-n-this._containerBottom);i._add(Ce(this._container));var o=t.layerPointToContainerPoint(i),a=D(this.options.autoPanPadding),s=D(this.options.autoPanPaddingTopLeft||a),l=D(this.options.autoPanPaddingBottomRight||a),c=t.getSize(),u=0,h=0;o.x+r+l.x>c.x&&(u=o.x+r-c.x+l.x),o.x-u-s.x<0&&(u=o.x-s.x),o.y+n+l.y>c.y&&(h=o.y+n-c.y+l.y),o.y-h-s.y<0&&(h=o.y-s.y),(u||h)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([u,h]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ir=function(t,e){return new Or(t,e)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(t,e,n){return this._initOverlay(Or,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Hn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Or,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Xn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ge(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof rr?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var zr=Mr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Mr.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Mr.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Mr.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pe("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),a=r.layerPointToContainerPoint(t),s=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,u=D(this.options.offset),h=this._getAnchor();"top"===s?(e=l/2,n=c):"bottom"===s?(e=l/2,n=0):"center"===s?(e=l/2,n=c/2):"right"===s?(e=0,n=c/2):"left"===s?(e=l,n=c/2):a.x<o.x?(s="right",e=0,n=c/2):(s="left",e=l+2*(u.x+h.x),n=c/2),t=t.subtract(D(e,n,!0)).add(u).add(h),be(i,"leaflet-tooltip-right"),be(i,"leaflet-tooltip-left"),be(i,"leaflet-tooltip-top"),be(i,"leaflet-tooltip-bottom"),_e(i,"leaflet-tooltip-"+s),Ee(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Se(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Lr=function(t,e){return new zr(t,e)};nn.include({openTooltip:function(t,e,n){return this._initOverlay(zr,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Hn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(zr,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Xn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&(Re(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Re(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",(function(){e._openOnceFlag=!1,e._openTooltip(t)}))}else this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Dr=Yn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(me(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=D(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function jr(t){return new Dr(t)}Yn.Default=Qn;var Rr=Hn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:jt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),fe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ge(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ye(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof I?t:new I(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-1/0,1/0),i=0,o=n.length;i<o;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!jt.ielt9){Se(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(t-i.loaded)/200);Se(i.el,o),o<1?e=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(T(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=pe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(fe(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[t],i=this._map;return r||((r=this._levels[t]={}).el=pe("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)fe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,r){var i=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new I(+i,+o);s.z=+a;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(t,e,n,r){for(var i=2*t;i<2*t+2;i++)for(var o=2*e;o<2*e+2;o++){var a=new I(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,r){var i=Math.round(e);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();jt.any3d?Te(t.el,i,r):Ee(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*r);return new j(i.subtract(o),i.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,l=new j(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new I(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var d=i.min.x;d<=i.max.x;d++){var p=new I(d,h);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:a.push(p)}}if(a.sort((function(t,e){return t.distanceTo(o)-e.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return N(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),i=r.add(n);return[e.unproject(r,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new B(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new I(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(fe(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){_e(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=c,t.onmousemove=c,jt.ielt9&&this.options.opacity<1&&Se(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&P(i(this._tileReady,this,t,null,o)),Ee(o,n),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var r=this._tileCoordsToKey(t);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(Se(n.el,0),T(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(_e(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),jt.ielt9||!this._map._fadeAnimated?P(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new I(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new j(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Br(t){return new Rr(t)}var Nr=Rr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=p(this,e)).detectRetina&&jt.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Re(n,"load",i(this._tileOnLoad,this,e,n)),Re(n,"error",i(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:jt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return g(this._url,n(e,this.options))},_tileOnLoad:function(t,e){jt.ielt9?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=c,e.onerror=c,!e.complete)){e.src=_;var n=this._tiles[t].coords;fe(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",_),Rr.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==_))return Rr.prototype._tileReady.call(this,t,e,n)}});function Fr(t,e){return new Nr(t,e)}var $r=Nr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=n({},this.defaultWmsParams);for(var i in e)i in this.options||(r[i]=e[i]);var o=(e=p(this,e)).detectRetina&&jt.retina?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Nr.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,r=R(n.project(e[0]),n.project(e[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===Zn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=Nr.prototype.getTileUrl.call(this,t);return s+f(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Vr(t,e){return new $r(t,e)}Nr.WMS=$r,Fr.wms=Vr;var Ur=Hn.extend({options:{padding:.1},initialize:function(t){p(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_e(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,e),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(t,e));jt.any3d?Te(this._container,o,n):Ee(this._container,o)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new j(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zr=Ur.extend({options:{tolerance:0},getEvents:function(){var t=Ur.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Re(t,"mousemove",this._onMouseMove,this),Re(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,fe(this._container),Ne(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ur.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=jt.retina?2:1;Ee(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",jt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,n,r=t.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(e=Number(r[n]),isNaN(e))return;i.push(e)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||P(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,r,i,o,a=t._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],l[r?"lineTo":"moveTo"](o.x,o.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,r=Math.max(Math.round(t._radius),1),i=(Math.max(Math.round(t._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(e.x,e.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,r=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(r)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(be(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(_e(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function qr(t){return jt.canvas?new Zr(t):null}var Hr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Wr={_initContainer:function(){this._container=pe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ur.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Hr("shape");_e(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Hr("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;fe(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,i=t._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(e||(e=t._stroke=Hr("stroke")),i.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=y(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(i.removeChild(e),t._stroke=null),r.fill?(n||(n=t._fill=Hr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ge(t._container)},_bringToBack:function(t){ye(t._container)}},Gr=jt.vml?Hr:K,Xr=Ur.extend({_initContainer:function(){this._container=Gr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fe(this._container),Ne(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ur.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Ee(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Gr("path");t.options.className&&_e(e,t.options.className),t.options.interactive&&_e(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){fe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Y(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),r="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ge(t._path)},_bringToBack:function(t){ye(t._path)}});function Kr(t){return jt.svg||jt.vml?new Xr(t):null}jt.vml&&Xr.include(Wr),nn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&qr(t)||Kr(t)}});var Yr=ur.extend({initialize:function(t,e){ur.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=N(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Jr(t,e){return new Yr(t,e)}Xr.create=Gr,Xr.pointsToPath=Y,dr.geometryToLayer=pr,dr.coordsToLatLng=mr,dr.coordsToLatLngs=gr,dr.latLngToCoords=yr,dr.latLngsToCoords=vr,dr.getFeature=_r,dr.asFeature=br,nn.mergeOptions({boxZoom:!0});var Qr=gn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ne(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),re(),Me(),this._startPoint=this._map.mouseEventToContainerPoint(t),Re(document,{contextmenu:Ge,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=pe("div","leaflet-zoom-box",this._container),_e(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new j(this._point,this._startPoint),n=e.getSize();Ee(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(fe(this._box),be(this._container,"leaflet-crosshair")),ie(),Oe(),Ne(document,{contextmenu:Ge,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Qr),nn.mergeOptions({doubleClickZoom:!0});var ti=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",ti),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ei=gn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new _n(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}_e(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){be(this._map._container,"leaflet-grab"),be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=N(this._map.options.maxBounds);this._offsetLimit=R(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,o=(r+e+n)%t-e-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=s.multiplyBy(c/l),h=c/(n.inertiaDeceleration*a),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),P((function(){e.panBy(d,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ei),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ni=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Re(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ne(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,r=this._panKeys={},i=this.keyCodes;for(e=0,n=i.left.length;e<n;e++)r[i.left[e]]=[-1*t,0];for(e=0,n=i.right.length;e<n;e++)r[i.right[e]]=[t,0];for(e=0,n=i.down.length;e<n;e++)r[i.down[e]]=[0,t];for(e=0,n=i.up.length;e<n;e++)r[i.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,r=this._zoomKeys={},i=this.keyCodes;for(e=0,n=i.zoomIn.length;e<n;e++)r[i.zoomIn[e]]=t;for(e=0,n=i.zoomOut.length;e<n;e++)r[i.zoomOut[e]]=-t},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ne(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=D(e).multiplyBy(3)),r.options.maxBounds&&(e=r._limitOffset(D(e),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(e)));r.panTo(i)}else r.panBy(e)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Ge(t)}}});nn.addInitHook("addHandler","keyboard",ni),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ri=gn.extend({addHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ne(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Je(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Ge(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});nn.addInitHook("addHandler","scrollWheelZoom",ri);var ii=600;nn.mergeOptions({tapHold:jt.touchNative&&jt.safari&&jt.mobile,tapTolerance:15});var oi=gn.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ne(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new I(e.clientX,e.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Re(document,"touchend",We),Re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),ii),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Ne(document,"touchend",We),Ne(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Ne(document,"touchend touchcancel contextmenu",this._cancel,this),Ne(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new I(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",oi),nn.mergeOptions({touchZoom:jt.touch,bounceAtZoomLimits:!0});var ai=gn.extend({addHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){be(this._map._container,"leaflet-touch-zoom"),Ne(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),We(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var s=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=P(s,this,!0),We(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,T(this._animRequest),Ne(document,"touchmove",this._onTouchMove,this),Ne(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",ai),nn.BoxZoom=Qr,nn.DoubleClickZoom=ti,nn.Drag=ei,nn.Keyboard=ni,nn.ScrollWheelZoom=ri,nn.TapHold=oi,nn.TouchZoom=ai,t.Bounds=j,t.Browser=jt,t.CRS=V,t.Canvas=Zr,t.Circle=ar,t.CircleMarker=ir,t.Class=C,t.Control=on,t.DivIcon=Dr,t.DivOverlay=Mr,t.DomEvent=tn,t.DomUtil=je,t.Draggable=_n,t.Evented=O,t.FeatureGroup=Xn,t.GeoJSON=dr,t.GridLayer=Rr,t.Handler=gn,t.Icon=Yn,t.ImageOverlay=kr,t.LatLng=F,t.LatLngBounds=B,t.Layer=Hn,t.LayerGroup=Wn,t.LineUtil=Nn,t.Map=nn,t.Marker=er,t.Mixin=yn,t.Path=rr,t.Point=I,t.PolyUtil=kn,t.Polygon=ur,t.Polyline=lr,t.Popup=Or,t.PosAnimation=en,t.Projection=Vn,t.Rectangle=Yr,t.Renderer=Ur,t.SVG=Xr,t.SVGOverlay=Cr,t.TileLayer=Nr,t.Tooltip=zr,t.Transformation=H,t.Util=E,t.VideoOverlay=Tr,t.bind=i,t.bounds=R,t.canvas=qr,t.circle=sr,t.circleMarker=or,t.control=an,t.divIcon=jr,t.extend=n,t.featureGroup=Kn,t.geoJSON=wr,t.geoJson=Sr,t.gridLayer=Br,t.icon=Jn,t.imageOverlay=Pr,t.latLng=$,t.latLngBounds=N,t.layerGroup=Gn,t.map=rn,t.marker=nr,t.point=D,t.polygon=hr,t.polyline=cr,t.popup=Ir,t.rectangle=Jr,t.setOptions=p,t.stamp=a,t.svg=Kr,t.svgOverlay=Ar,t.tileLayer=Fr,t.tooltip=Lr,t.transformation=W,t.version=e,t.videoOverlay=Er;var si=window.L;t.noConflict=function(){return window.L=si,this},window.L=t}(e)},247:function(t,e,n){var r,i,o;"undefined"!==typeof globalThis?globalThis:this||self,i=[n(228),n(4066)],void 0===(o="function"===typeof(r=function(t,e){t.MaplibreGL=t.Layer.extend({options:{updateInterval:32,padding:.1,interactive:!1,pane:"tilePane"},initialize:function(e){t.setOptions(this,e),this._throttledUpdate=t.Util.throttle(this._update,this.options.updateInterval,this)},onAdd:function(e){this._container||this._initContainer();var n=this.getPaneName();e.getPane(n).appendChild(this._container),this._initGL(),this._offset=this._map.containerPointToLayerPoint([0,0]),e.options.zoomAnimation&&t.DomEvent.on(e._proxy,t.DomUtil.TRANSITION_END,this._transitionEnd,this)},onRemove:function(e){this._map._proxy&&this._map.options.zoomAnimation&&t.DomEvent.off(this._map._proxy,t.DomUtil.TRANSITION_END,this._transitionEnd,this);var n=this.getPaneName();e.getPane(n).removeChild(this._container),this._glMap.remove(),this._glMap=null},getEvents:function(){return{move:this._throttledUpdate,zoomanim:this._animateZoom,zoom:this._pinchZoom,zoomstart:this._zoomStart,zoomend:this._zoomEnd,resize:this._resize}},getMaplibreMap:function(){return this._glMap},getCanvas:function(){return this._glMap.getCanvas()},getSize:function(){return this._map.getSize().multiplyBy(1+2*this.options.padding)},getBounds:function(){var e=this.getSize().multiplyBy(.5),n=this._map.latLngToContainerPoint(this._map.getCenter());return t.latLngBounds(this._map.containerPointToLatLng(n.subtract(e)),this._map.containerPointToLatLng(n.add(e)))},getContainer:function(){return this._container},getPaneName:function(){return this._map.getPane(this.options.pane)?this.options.pane:"tilePane"},_roundPoint:function(t){return{x:Math.round(t.x),y:Math.round(t.y)}},_initContainer:function(){var e=this._container=t.DomUtil.create("div","leaflet-gl-layer"),n=this.getSize(),r=this._map.getSize().multiplyBy(this.options.padding);e.style.width=n.x+"px",e.style.height=n.y+"px";var i=this._map.containerPointToLayerPoint([0,0]).subtract(r);t.DomUtil.setPosition(e,this._roundPoint(i))},_initGL:function(){var n=this._map.getCenter(),r=t.extend({},this.options,{container:this._container,center:[n.lng,n.lat],zoom:this._map.getZoom()-1,attributionControl:!1});this._glMap=new e.Map(r),this._glMap.transform.latRange=null,this._glMap.transform.maxValidLatitude=1/0,this._transformGL(this._glMap),this._glMap._canvas.canvas?this._glMap._actualCanvas=this._glMap._canvas.canvas:this._glMap._actualCanvas=this._glMap._canvas;var i=this._glMap._actualCanvas;t.DomUtil.addClass(i,"leaflet-image-layer"),t.DomUtil.addClass(i,"leaflet-zoom-animated"),this.options.interactive&&t.DomUtil.addClass(i,"leaflet-interactive"),this.options.className&&t.DomUtil.addClass(i,this.options.className)},_update:function(e){if(this._map&&(this._offset=this._map.containerPointToLayerPoint([0,0]),!this._zooming)){var n=this.getSize(),r=this._container,i=this._glMap,o=this._map.getSize().multiplyBy(this.options.padding),a=this._map.containerPointToLayerPoint([0,0]).subtract(o);t.DomUtil.setPosition(r,this._roundPoint(a)),this._transformGL(i),i.transform.width!==n.x||i.transform.height!==n.y?(r.style.width=n.x+"px",r.style.height=n.y+"px",null!==i._resize&&void 0!==i._resize?i._resize():i.resize()):null!==i._update&&void 0!==i._update?i._update():i.update()}},_transformGL:function(t){var n=this._map.getCenter(),r=t.transform;r.center=e.LngLat.convert([n.lng,n.lat]),r.zoom=this._map.getZoom()-1},_pinchZoom:function(t){this._glMap.jumpTo({zoom:this._map.getZoom()-1,center:this._map.getCenter()})},_animateZoom:function(e){var n=this._map.getZoomScale(e.zoom),r=this._map.getSize().multiplyBy(this.options.padding*n),i=this.getSize()._divideBy(2),o=this._map.project(e.center,e.zoom)._subtract(i)._add(this._map._getMapPanePos().add(r))._round(),a=this._map.project(this._map.getBounds().getNorthWest(),e.zoom)._subtract(o);t.DomUtil.setTransform(this._glMap._actualCanvas,a.subtract(this._offset),n)},_zoomStart:function(t){this._zooming=!0},_zoomEnd:function(){var e=this._map.getZoomScale(this._map.getZoom());t.DomUtil.setTransform(this._glMap._actualCanvas,null,e),this._zooming=!1,this._update()},_transitionEnd:function(e){t.Util.requestAnimFrame((function(){var e=this._map.getZoom(),n=this._map.getCenter(),r=this._map.latLngToContainerPoint(this._map.getBounds().getNorthWest());t.DomUtil.setTransform(this._glMap._actualCanvas,r,1),this._glMap.once("moveend",t.Util.bind((function(){this._zoomEnd()}),this)),this._glMap.jumpTo({center:n,zoom:e-1})}),this)},_resize:function(t){this._transitionEnd(t)}}),t.maplibreGL=function(e){return new t.MaplibreGL(e)}})?r.apply(e,i):r)||(t.exports=o)},320:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},396:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},438:(t,e,n)=>{var r=n(2622);t.exports=function(t){return r(this,t).get(t)}},539:(t,e,n)=>{var r=n(9742),i=n(7498),o=n(3279);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},579:(t,e,n)=>{"use strict";t.exports=n(2799)},620:(t,e,n)=>{var r=n(6913),i=n(4052),o=n(2761);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},643:(t,e,n)=>{var r=n(7676)("toUpperCase");t.exports=r},644:t=>{t.exports=function(t){return t!==t}},705:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},715:t=>{var e="\\ud800-\\udfff",n="["+e+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+e+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+l+")*"),h="(?:"+[o+r+"?",r,a,s,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+h+u,"g");t.exports=function(t){return t.match(d)||[]}},755:(t,e,n)=>{var r=n(8895),i=n(7116);t.exports=function t(e,n,o,a,s){var l=-1,c=e.length;for(o||(o=i),s||(s=[]);++l<c;){var u=e[l];n>0&&o(u)?n>1?t(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},793:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},801:(t,e,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},914:(t,e,n)=>{var r=n(9841);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},929:(t,e,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},977:(t,e,n)=>{var r=n(9096),i=n(4416);t.exports=function(t,e){return t&&t.length?i(t,r(e,2)):[]}},1069:(t,e,n)=>{var r=n(8541);t.exports=function(t){return null==t?"":r(t)}},1141:(t,e,n)=>{var r=n(143),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},1143:(t,e,n)=>{var r=n(3028)(Object.keys,Object);t.exports=r},1170:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},1268:(t,e,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},1310:t=>{t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},1340:(t,e,n)=>{var r=n(3211);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},1497:(t,e,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1558:t=>{t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},1629:(t,e,n)=>{var r=n(6913),i=n(6686);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1714:(t,e,n)=>{var r=n(1340);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},1733:(t,e,n)=>{var r=n(1775),i=n(4664),o=n(9096);t.exports=function(t,e){var n={};return e=o(e,3),i(t,(function(t,i,o){r(n,i,e(t,i,o))})),n}},1775:(t,e,n)=>{var r=n(5654);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},1946:(t,e,n)=>{var r=n(1340);t.exports=function(t){return r(this.__data__,t)>-1}},2070:(t,e,n)=>{var r=n(7937)(n(6552),"Set");t.exports=r},2074:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},2154:(t,e,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},2165:(t,e,n)=>{var r=n(5652);t.exports=function(t,e){var n;return r(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}},2322:(t,e,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(t,e,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(t,i(e,3),l)}},2536:(t,e,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),h=n(4052);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return h(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[u];var d=-1;e=r(e,l(o));var p=a(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++d,value:t}}));return s(p,(function(t,e){return c(t,e,n)}))}},2541:t=>{t.exports=function(t){return function(){return t}}},2587:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},2597:(t,e,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},2622:(t,e,n)=>{var r=n(705);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},2662:(t,e,n)=>{var r=n(5575);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},2761:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},2777:(t,e,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},2799:(t,e)=>{"use strict";var n=Symbol.for("react.transitional.element");function r(t,e,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==e.key&&(i=""+e.key),"key"in e)for(var o in r={},e)"key"!==o&&(r[o]=e[o]);else r=e;return e=r.ref,{$$typeof:n,type:t,key:i,ref:void 0!==e?e:null,props:r}}Symbol.for("react.fragment"),e.jsx=r,e.jsxs=r},2866:(t,e,n)=>{var r=n(2969);t.exports=function(t){return function(e){return r(e,t)}}},2929:(t,e,n)=>{var r=n(6552).Uint8Array;t.exports=r},2969:(t,e,n)=>{var r=n(5324),i=n(914);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},3028:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},3097:(t,e,n)=>{var r=n(2969);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},3204:(t,e,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),u=!n&&i(t),h=!n&&!u&&a(t),d=!n&&!u&&!h&&l(t),p=n||u||h||d,f=p?r(t.length,String):[],m=f.length;for(var g in t)!e&&!c.call(t,g)||p&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},3211:t=>{t.exports=function(t,e){return t===e||t!==t&&e!==e}},3218:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:t=>{t.exports=function(t){return t}},3331:(t,e,n)=>{var r=n(9676),i=n(929),o=n(7303);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&i(e,n,a)&&(n=a=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),a=void 0===a?e<n?1:-1:o(a),r(e,n,a,t)}}},3343:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},3366:(t,e,n)=>{var r=n(7894),i=n(9057);t.exports=function(t,e){return null!=t&&i(t,e,r)}},3411:(t,e,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},3440:(t,e,n)=>{var r=n(6552)["__core-js_shared__"];t.exports=r},3538:(t,e,n)=>{var r=n(755),i=n(3411);t.exports=function(t,e){return r(i(t,e),1)}},3668:(t,e,n)=>{var r=n(8902),i=n(2587),o=n(8114);t.exports=function(t,e,n,a,s,l){var c=1&n,u=t.length,h=e.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(t),p=l.get(e);if(d&&p)return d==e&&p==t;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++f<u;){var y=t[f],v=e[f];if(a)var _=c?a(v,y,f,e,t,l):a(y,v,f,t,e,l);if(void 0!==_){if(_)continue;m=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(y===t||s(y,t,n,a,l)))return g.push(e)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,a,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},3713:(t,e,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},3763:(t,e,n)=>{"use strict";t.exports=n(4983)},3781:(t,e,n)=>{var r=n(9417),i=n(8673);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},3871:t=>{t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},3892:t=>{t.exports=function(t){return this.__data__.has(t)}},3932:(t,e,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);t.exports=function(t){return o(t)?r(a(t)):i(t)}},3950:(t,e,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;t.exports=function(t,e,n){var l,c,u,h,d,p,f=0,m=!1,g=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var n=l,r=c;return l=c=void 0,f=e,h=t.apply(r,n)}function _(t){var n=t-p;return void 0===p||n>=e||n<0||g&&t-f>=u}function b(){var t=i();if(_(t))return x(t);d=setTimeout(b,function(t){var n=e-(t-p);return g?s(n,u-(t-f)):n}(t))}function x(t){return d=void 0,y&&l?v(t):(l=c=void 0,h)}function w(){var t=i(),n=_(t);if(l=arguments,c=this,p=t,n){if(void 0===d)return function(t){return f=t,d=setTimeout(b,e),m?v(t):h}(p);if(g)return clearTimeout(d),d=setTimeout(b,e),v(p)}return void 0===d&&(d=setTimeout(b,e)),h}return e=o(e)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,e):u,y="trailing"in n?!!n.trailing:y),w.cancel=function(){void 0!==d&&clearTimeout(d),f=0,l=p=c=d=void 0},w.flush=function(){return void 0===d?h:x(i())},w}},4020:t=>{t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},4052:t=>{var e=Array.isArray;t.exports=e},4065:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},4066:function(t){t.exports=function(){"use strict";var t={},e={};function n(n,r,i){if(e[n]=i,"index"===n){var o="var sharedModule = {}; ("+e.shared+")(sharedModule); ("+e.worker+")(sharedModule);",a={};return e.shared(a),e.index(t,a),"undefined"!==typeof window&&t.setWorkerUrl(window.URL.createObjectURL(new Blob([o],{type:"text/javascript"}))),t}}return n("shared",["exports"],(function(t){function e(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}"function"==typeof SuppressedError&&SuppressedError;var r=i;function i(t,e){this.x=t,this.y=e}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-r*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t};var o=n(r),a=s;function s(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=e,this.p2x=n,this.p2y=r}s.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,e){if(void 0===e&&(e=1e-6),t<0)return 0;if(t>1)return 1;for(var n=t,r=0;r<8;r++){var i=this.sampleCurveX(n)-t;if(Math.abs(i)<e)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=i/o}var a=0,s=1;for(n=t,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-t)<e));r++)t>i?a=n:s=n,n=.5*(s-a)+a;return n},solve:function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}};var l=n(a);let c,u;function h(){return null==c&&(c="undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),c}function d(){if(null==u&&(u=!1,h())){const t=5,e=new OffscreenCanvas(t,t).getContext("2d",{willReadFrequently:!0});if(e){for(let r=0;r<t*t;r++){const n=4*r;e.fillStyle=`rgb(${n},${n+1},${n+2})`,e.fillRect(r%t,Math.floor(r/t),1,1)}const n=e.getImageData(0,0,t,t).data;for(let e=0;e<t*t*4;e++)if(e%4!=3&&n[e]!==e){u=!0;break}}}return u||!1}function p(t,e,n,r){const i=new l(t,e,n,r);return t=>i.solve(t)}const f=p(.25,.1,.25,1);function m(t,e,n){return Math.min(n,Math.max(e,t))}function g(t,e,n){const r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i}function y(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(const i of n)for(const e in i)t[e]=i[e];return t}let v=1;function _(t,e,n){const r={};for(const i in t)r[i]=e.call(this,t[i],i,t);return r}function b(t,e,n){const r={};for(const i in t)e.call(this,t[i],i,t)&&(r[i]=t[i]);return r}function x(t){return Array.isArray(t)?t.map(x):"object"==typeof t&&t?_(t,x):t}const w={};function S(t){w[t]||("undefined"!=typeof console&&console.warn(t),w[t]=!0)}function k(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function P(t){return"undefined"!=typeof WorkerGlobalScope&&void 0!==t&&t instanceof WorkerGlobalScope}let T=null;function E(t){return"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap}const C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function A(t,n,r,i,o){return e(this,void 0,void 0,(function*(){if("undefined"==typeof VideoFrame)throw new Error("VideoFrame not supported");const e=new VideoFrame(t,{timestamp:0});try{const a=null==e?void 0:e.format;if(!a||!a.startsWith("BGR")&&!a.startsWith("RGB"))throw new Error(`Unrecognized format ${a}`);const s=a.startsWith("BGR"),l=new Uint8ClampedArray(i*o*4);if(yield e.copyTo(l,function(t,e,n,r,i){const o=4*Math.max(-e,0),a=(Math.max(0,n)-n)*r*4+o,s=4*r,l=Math.max(0,e),c=Math.max(0,n);return{rect:{x:l,y:c,width:Math.min(t.width,e+r)-l,height:Math.min(t.height,n+i)-c},layout:[{offset:a,stride:s}]}}(t,n,r,i,o)),s)for(let t=0;t<l.length;t+=4){const e=l[t];l[t]=l[t+2],l[t+2]=e}return l}finally{e.close()}}))}let M,O;const I="AbortError";function z(){return new Error(I)}const L={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function D(t){return L.REGISTERED_PROTOCOLS[t.substring(0,t.indexOf("://"))]}const j="global-dispatcher";class R extends Error{constructor(t,e,n,r){super(`AJAXError: ${e} (${t}): ${n}`),this.status=t,this.statusText=e,this.url=n,this.body=r}}const B=()=>P(self)?self.worker&&self.worker.referrer:("blob:"===window.location.protocol?window.parent:window).location.href,N=function(t,n){if(/:\/\//.test(t.url)&&!/^https?:|^file:/.test(t.url)){const e=D(t.url);if(e)return e(t,n);if(P(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:t,targetMapId:j},n)}if(!(/^file:/.test(r=t.url)||/^file:/.test(B())&&!/^\w+:/.test(r))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(t,n){return e(this,void 0,void 0,(function*(){const e=new Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,cache:t.cache,referrer:B(),signal:n.signal});"json"!==t.type||e.headers.has("Accept")||e.headers.set("Accept","application/json");const r=yield fetch(e);if(!r.ok){const e=yield r.blob();throw new R(r.status,r.statusText,t.url,e)}let i;i="arrayBuffer"===t.type||"image"===t.type?r.arrayBuffer():"json"===t.type?r.json():r.text();const o=yield i;if(n.signal.aborted)throw z();return{data:o,cacheControl:r.headers.get("Cache-Control"),expires:r.headers.get("Expires")}}))}(t,n);if(P(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:t,mustQueue:!0,targetMapId:j},n)}var r;return function(t,e){return new Promise(((n,r)=>{var i;const o=new XMLHttpRequest;o.open(t.method||"GET",t.url,!0),"arrayBuffer"!==t.type&&"image"!==t.type||(o.responseType="arraybuffer");for(const e in t.headers)o.setRequestHeader(e,t.headers[e]);"json"===t.type&&(o.responseType="text",(null===(i=t.headers)||void 0===i?void 0:i.Accept)||o.setRequestHeader("Accept","application/json")),o.withCredentials="include"===t.credentials,o.onerror=()=>{r(new Error(o.statusText))},o.onload=()=>{if(!e.signal.aborted)if((o.status>=200&&o.status<300||0===o.status)&&null!==o.response){let e=o.response;if("json"===t.type)try{e=JSON.parse(o.response)}catch(t){return void r(t)}n({data:e,cacheControl:o.getResponseHeader("Cache-Control"),expires:o.getResponseHeader("Expires")})}else{const e=new Blob([o.response],{type:o.getResponseHeader("Content-Type")});r(new R(o.status,o.statusText,t.url,e))}},e.signal.addEventListener("abort",(()=>{o.abort(),r(z())})),o.send(t.body)}))}(t,n)};function F(t){if(!t||t.indexOf("://")<=0||0===t.indexOf("data:image/")||0===t.indexOf("blob:"))return!0;const e=new URL(t),n=window.location;return e.protocol===n.protocol&&e.host===n.host}function $(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function V(t,e,n){if(n&&n[t]){const r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}class U{constructor(t){y(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.type=t}}class Z extends U{constructor(t){super("error",y({error:t},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}}class q{on(t,e){return this._listeners=this._listeners||{},$(t,e,this._listeners),this}off(t,e){return V(t,e,this._listeners),V(t,e,this._oneTimeListeners),this}once(t,e){return e?(this._oneTimeListeners=this._oneTimeListeners||{},$(t,e,this._oneTimeListeners),this):new Promise((e=>this.once(t,e)))}fire(t,e){"string"==typeof t&&(t=new U(t,e||{}));const n=t.type;if(this.listens(n)){t.target=this;const e=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(const n of e)n.call(this,t);const r=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(const o of r)V(n,o,this._oneTimeListeners),o.call(this,t);const i=this._eventedParent;i&&(y(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(t))}else t instanceof Z&&console.error(t.error);return this}listens(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)}setEventedParent(t,e){return this._eventedParent=t,this._eventedParentData=e,this}}var H={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const W=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function G(t,e){const n={};for(const r in t)"ref"!==r&&(n[r]=t[r]);return W.forEach((t=>{t in e&&(n[t]=e[t])})),n}function X(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!X(t[n],e[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!X(t[n],e[n]))return!1;return!0}return t===e}function K(t,e){t.push(e)}function Y(t,e,n){K(n,{command:"addSource",args:[t,e[t]]})}function J(t,e,n){K(e,{command:"removeSource",args:[t]}),n[t]=!0}function Q(t,e,n,r){J(t,n,r),Y(t,e,n)}function tt(t,e,n){let r;for(r in t[n])if(Object.prototype.hasOwnProperty.call(t[n],r)&&"data"!==r&&!X(t[n][r],e[n][r]))return!1;for(r in e[n])if(Object.prototype.hasOwnProperty.call(e[n],r)&&"data"!==r&&!X(t[n][r],e[n][r]))return!1;return!0}function et(t,e,n,r,i,o){t=t||{},e=e||{};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(X(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&!Object.prototype.hasOwnProperty.call(t,a)&&(X(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}))}function nt(t){return t.id}function rt(t,e){return t[e.id]=e,t}class it{constructor(t,e,n,r){this.message=(t?`${t}: `:"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)}}function ot(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(const i of n)for(const e in i)t[e]=i[e];return t}class at extends Error{constructor(t,e){super(e),this.message=e,this.key=t}}class st{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.parent=t,this.bindings={};for(const[n,r]of e)this.bindings[n]=r}concat(t){return new st(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const lt={kind:"null"},ct={kind:"number"},ut={kind:"string"},ht={kind:"boolean"},dt={kind:"color"},pt={kind:"object"},ft={kind:"value"},mt={kind:"collator"},gt={kind:"formatted"},yt={kind:"padding"},vt={kind:"resolvedImage"},_t={kind:"variableAnchorOffsetCollection"};function bt(t,e){return{kind:"array",itemType:t,N:e}}function xt(t){if("array"===t.kind){const e=xt(t.itemType);return"number"==typeof t.N?`array<${e}, ${t.N}>`:"value"===t.itemType.kind?"array":`array<${e}>`}return t.kind}const wt=[lt,ct,ut,ht,dt,gt,pt,bt(ft),yt,vt,_t];function St(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!St(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(const t of wt)if(!St(t,e))return null}return`Expected ${xt(t)} but found ${xt(e)} instead.`}function kt(t,e){return e.some((e=>e.kind===t.kind))}function Pt(t,e){return e.some((e=>"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t))}function Tt(t,e){return"array"===t.kind&&"array"===e.kind?t.itemType.kind===e.itemType.kind&&"number"==typeof t.N:t.kind===e.kind}const Et=.96422,Ct=.82521,At=4/29,Mt=6/29,Ot=3*Mt*Mt,It=Mt*Mt*Mt,zt=Math.PI/180,Lt=180/Math.PI;function Dt(t){return(t%=360)<0&&(t+=360),t}function jt(t){let e,n,[r,i,o,a]=t;const s=Bt((.2225045*(r=Rt(r))+.7168786*(i=Rt(i))+.0606169*(o=Rt(o)))/1);r===i&&i===o?e=n=s:(e=Bt((.4360747*r+.3850649*i+.1430804*o)/Et),n=Bt((.0139322*r+.0971045*i+.7141733*o)/Ct));const l=116*s-16;return[l<0?0:l,500*(e-s),200*(s-n),a]}function Rt(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Bt(t){return t>It?Math.pow(t,1/3):t/Ot+At}function Nt(t){let[e,n,r,i]=t,o=(e+16)/116,a=isNaN(n)?o:o+n/500,s=isNaN(r)?o:o-r/200;return o=1*$t(o),a=Et*$t(a),s=Ct*$t(s),[Ft(3.1338561*a-1.6168667*o-.4906146*s),Ft(-.9787684*a+1.9161415*o+.033454*s),Ft(.0719453*a-.2289914*o+1.4052427*s),i]}function Ft(t){return(t=t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055)<0?0:t>1?1:t}function $t(t){return t>Mt?t*t*t:Ot*(t-At)}function Vt(t){return parseInt(t.padEnd(2,t),16)/255}function Ut(t,e){return Zt(e?t/100:t,0,1)}function Zt(t,e,n){return Math.min(Math.max(e,t),n)}function qt(t){return!t.some(Number.isNaN)}const Ht={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Wt{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.r=t,this.g=e,this.b=n,this.a=r,i||(this.r*=r,this.g*=r,this.b*=r,r||this.overwriteGetter("rgb",[t,e,n,r]))}static parse(t){if(t instanceof Wt)return t;if("string"!=typeof t)return;const e=function(t){if("transparent"===(t=t.toLowerCase().trim()))return[0,0,0,0];const e=Ht[t];if(e){const[t,n,r]=e;return[t/255,n/255,r/255,1]}if(t.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(t)){const e=t.length<6?1:2;let n=1;return[Vt(t.slice(n,n+=e)),Vt(t.slice(n,n+=e)),Vt(t.slice(n,n+=e)),Vt(t.slice(n,n+e)||"ff")]}if(t.startsWith("rgb")){const e=t.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(e){const[t,n,r,i,o,a,s,l,c,u,h,d]=e,p=[i||" ",s||" ",u].join("");if("  "===p||"  /"===p||",,"===p||",,,"===p){const t=[r,a,c].join(""),e="%%%"===t?100:""===t?255:0;if(e){const t=[Zt(+n/e,0,1),Zt(+o/e,0,1),Zt(+l/e,0,1),h?Ut(+h,d):1];if(qt(t))return t}}return}}const n=t.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(n){const[t,e,r,i,o,a,s,l,c]=n,u=[r||" ",o||" ",s].join("");if("  "===u||"  /"===u||",,"===u||",,,"===u){const t=[+e,Zt(+i,0,100),Zt(+a,0,100),l?Ut(+l,c):1];if(qt(t))return function(t){let[e,n,r,i]=t;function o(t){const i=(t+e/30)%12,o=n*Math.min(r,1-r);return r-o*Math.max(-1,Math.min(i-3,9-i,1))}return e=Dt(e),n/=100,r/=100,[o(0),o(8),o(4),i]}(t)}}}(t);return e?new Wt(...e,!1):void 0}get rgb(){const{r:t,g:e,b:n,a:r}=this,i=r||1/0;return this.overwriteGetter("rgb",[t/i,e/i,n/i,r])}get hcl(){return this.overwriteGetter("hcl",function(t){const[e,n,r,i]=jt(t),o=Math.sqrt(n*n+r*r);return[Math.round(1e4*o)?Dt(Math.atan2(r,n)*Lt):NaN,o,e,i]}(this.rgb))}get lab(){return this.overwriteGetter("lab",jt(this.rgb))}overwriteGetter(t,e){return Object.defineProperty(this,t,{value:e}),e}toString(){const[t,e,n,r]=this.rgb;return`rgba(${[t,e,n].map((t=>Math.round(255*t))).join(",")},${r})`}}Wt.black=new Wt(0,0,0,1),Wt.white=new Wt(1,1,1,1),Wt.transparent=new Wt(0,0,0,0),Wt.red=new Wt(1,0,0,1);class Gt{constructor(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Xt{constructor(t,e,n,r,i){this.text=t,this.image=e,this.scale=n,this.fontStack=r,this.textColor=i}}class Kt{constructor(t){this.sections=t}static fromString(t){return new Kt([new Xt(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((t=>0!==t.text.length||t.image&&0!==t.image.name.length))}static factory(t){return t instanceof Kt?t:Kt.fromString(t)}toString(){return 0===this.sections.length?"":this.sections.map((t=>t.text)).join("")}}class Yt{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Yt)return t;if("number"==typeof t)return new Yt([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const e of t)if("number"!=typeof e)return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]]}return new Yt(t)}}toString(){return JSON.stringify(this.values)}}const Jt=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Qt{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Qt)return t;if(Array.isArray(t)&&!(t.length<1)&&t.length%2==0){for(let e=0;e<t.length;e+=2){const n=t[e],r=t[e+1];if("string"!=typeof n||!Jt.has(n))return;if(!Array.isArray(r)||2!==r.length||"number"!=typeof r[0]||"number"!=typeof r[1])return}return new Qt(t)}}toString(){return JSON.stringify(this.values)}}class te{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new te({name:t,available:!1}):null}}function ee(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:`Invalid rgba value [${[t,e,n,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ne(t){if(null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t||t instanceof Wt||t instanceof Gt||t instanceof Kt||t instanceof Yt||t instanceof Qt||t instanceof te)return!0;if(Array.isArray(t)){for(const e of t)if(!ne(e))return!1;return!0}if("object"==typeof t){for(const e in t)if(!ne(t[e]))return!1;return!0}return!1}function re(t){if(null===t)return lt;if("string"==typeof t)return ut;if("boolean"==typeof t)return ht;if("number"==typeof t)return ct;if(t instanceof Wt)return dt;if(t instanceof Gt)return mt;if(t instanceof Kt)return gt;if(t instanceof Yt)return yt;if(t instanceof Qt)return _t;if(t instanceof te)return vt;if(Array.isArray(t)){const e=t.length;let n;for(const r of t){const t=re(r);if(n){if(n===t)continue;n=ft;break}n=t}return bt(n||ft,e)}return pt}function ie(t){const e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof Wt||t instanceof Kt||t instanceof Yt||t instanceof Qt||t instanceof te?t.toString():JSON.stringify(t)}class oe{constructor(t,e){this.type=t,this.value=e}static parse(t,e){if(2!==t.length)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!ne(t[1]))return e.error("invalid value");const n=t[1];let r=re(n);const i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new oe(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class ae{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}const se={string:ut,number:ct,boolean:ht,object:pt};class le{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");let n,r=1;const i=t[0];if("array"===i){let i,o;if(t.length>2){const n=t[1];if("string"!=typeof n||!(n in se)||"object"===n)return e.error('The item type argument of "array" must be one of string, number, boolean',1);i=se[n],r++}else i=ft;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);o=t[2],r++}n=bt(i,o)}else{if(!se[i])throw new Error(`Types doesn't contain name = ${i}`);n=se[i]}const o=[];for(;r<t.length;r++){const n=e.parse(t[r],r,ft);if(!n)return null;o.push(n)}return new le(n,o)}evaluate(t){for(let e=0;e<this.args.length;e++){const n=this.args[e].evaluate(t);if(!St(this.type,re(n)))return n;if(e===this.args.length-1)throw new ae(`Expected value to be of type ${xt(this.type)}, but found ${xt(re(n))} instead.`)}throw new Error}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}}const ce={"to-boolean":ht,"to-color":dt,"to-number":ct,"to-string":ut};class ue{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const n=t[0];if(!ce[n])throw new Error(`Can't parse ${n} as it is not part of the known types`);if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");const r=ce[n],i=[];for(let o=1;o<t.length;o++){const n=e.parse(t[o],o,ft);if(!n)return null;i.push(n)}return new ue(r,i)}evaluate(t){switch(this.type.kind){case"boolean":return Boolean(this.args[0].evaluate(t));case"color":{let e,n;for(const r of this.args){if(e=r.evaluate(t),n=null,e instanceof Wt)return e;if("string"==typeof e){const n=t.parseColor(e);if(n)return n}else if(Array.isArray(e)&&(n=e.length<3||e.length>4?`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:ee(e[0],e[1],e[2],e[3]),!n))return new Wt(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new ae(n||`Could not parse color from value '${"string"==typeof e?e:JSON.stringify(e)}'`)}case"padding":{let e;for(const n of this.args){e=n.evaluate(t);const r=Yt.parse(e);if(r)return r}throw new ae(`Could not parse padding from value '${"string"==typeof e?e:JSON.stringify(e)}'`)}case"variableAnchorOffsetCollection":{let e;for(const n of this.args){e=n.evaluate(t);const r=Qt.parse(e);if(r)return r}throw new ae(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof e?e:JSON.stringify(e)}'`)}case"number":{let e=null;for(const n of this.args){if(e=n.evaluate(t),null===e)return 0;const r=Number(e);if(!isNaN(r))return r}throw new ae(`Could not convert ${JSON.stringify(e)} to number.`)}case"formatted":return Kt.fromString(ie(this.args[0].evaluate(t)));case"resolvedImage":return te.fromString(ie(this.args[0].evaluate(t)));default:return ie(this.args[0].evaluate(t))}}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}}const he=["Unknown","Point","LineString","Polygon"];class de{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?he[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=Wt.parse(t)),e}}class pe{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new st,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];this.registry=t,this.path=n,this.key=n.map((t=>`[${t}]`)).join(""),this.scope=i,this.errors=o,this.expectedType=r,this._isConstant=e}parse(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)}_parse(t,e){function n(t,e,n){return"assert"===n?new le(e,[t]):"coerce"===n?new ue(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=t[0];if("string"!=typeof r)return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[r];if(i){let r=i.parse(t,this);if(!r)return null;if(this.expectedType){const t=this.expectedType,i=r.type;if("string"!==t.kind&&"number"!==t.kind&&"boolean"!==t.kind&&"object"!==t.kind&&"array"!==t.kind||"value"!==i.kind)if("color"!==t.kind&&"formatted"!==t.kind&&"resolvedImage"!==t.kind||"value"!==i.kind&&"string"!==i.kind)if("padding"!==t.kind||"value"!==i.kind&&"number"!==i.kind&&"array"!==i.kind)if("variableAnchorOffsetCollection"!==t.kind||"value"!==i.kind&&"array"!==i.kind){if(this.checkSubtype(t,i))return null}else r=n(r,t,e.typeAnnotation||"coerce");else r=n(r,t,e.typeAnnotation||"coerce");else r=n(r,t,e.typeAnnotation||"coerce");else r=n(r,t,e.typeAnnotation||"assert")}if(!(r instanceof oe)&&"resolvedImage"!==r.type.kind&&this._isConstant(r)){const e=new de;try{r=new oe(r.type,r.evaluate(e))}catch(t){return this.error(t.message),null}}return r}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,e,n){const r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new pe(this.registry,this._isConstant,r,e||null,i,this.errors)}error(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=`${this.key}${n.map((t=>`[${t}]`)).join("")}`;this.errors.push(new at(i,t))}checkSubtype(t,e){const n=St(t,e);return n&&this.error(n),n}}class fe{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result)}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const n=[];for(let i=1;i<t.length-1;i+=2){const r=t[i];if("string"!=typeof r)return e.error(`Expected string, but found ${typeof r} instead.`,i);if(/[^a-zA-Z0-9_]/.test(r))return e.error("Variable names must contain only alphanumeric characters or '_'.",i);const o=e.parse(t[i+1],i+1);if(!o)return null;n.push([r,o])}const r=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return r?new fe(n,r):null}outputDefined(){return this.result.outputDefined()}}class me{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e}static parse(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");const n=t[1];return e.scope.has(n)?new me(n,e.scope.get(n)):e.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}}class ge{constructor(t,e,n){this.type=t,this.index=e,this.input=n}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,ct),r=e.parse(t[2],2,bt(e.expectedType||ft));return n&&r?new ge(r.type.itemType,n,r):null}evaluate(t){const e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new ae(`Array index out of bounds: ${e} < 0.`);if(e>=n.length)throw new ae(`Array index out of bounds: ${e} > ${n.length-1}.`);if(e!==Math.floor(e))throw new ae(`Array index must be an integer, but found ${e} instead.`);return n[e]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}}class ye{constructor(t,e){this.type=ht,this.needle=t,this.haystack=e}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,ft),r=e.parse(t[2],2,ft);return n&&r?kt(n.type,[ht,ut,ct,lt,ft])?new ye(n,r):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${xt(n.type)} instead`):null}evaluate(t){const e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!n)return!1;if(!Pt(e,["boolean","string","number","null"]))throw new ae(`Expected first argument to be of type boolean, string, number or null, but found ${xt(re(e))} instead.`);if(!Pt(n,["string","array"]))throw new ae(`Expected second argument to be of type array or string, but found ${xt(re(n))} instead.`);return n.indexOf(e)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}}class ve{constructor(t,e,n){this.type=ct,this.needle=t,this.haystack=e,this.fromIndex=n}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,ft),r=e.parse(t[2],2,ft);if(!n||!r)return null;if(!kt(n.type,[ht,ut,ct,lt,ft]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${xt(n.type)} instead`);if(4===t.length){const i=e.parse(t[3],3,ct);return i?new ve(n,r,i):null}return new ve(n,r)}evaluate(t){const e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!Pt(e,["boolean","string","number","null"]))throw new ae(`Expected first argument to be of type boolean, string, number or null, but found ${xt(re(e))} instead.`);let r;if(this.fromIndex&&(r=this.fromIndex.evaluate(t)),Pt(n,["string"])){const t=n.indexOf(e,r);return-1===t?-1:[...n.slice(0,t)].length}if(Pt(n,["array"]))return n.indexOf(e,r);throw new ae(`Expected second argument to be of type array or string, but found ${xt(re(n))} instead.`)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}}class _e{constructor(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return e.error("Expected an even number of arguments.");let n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);const i={},o=[];for(let l=2;l<t.length-1;l+=2){let a=t[l];const s=t[l+1];Array.isArray(a)||(a=[a]);const c=e.concat(l);if(0===a.length)return c.error("Expected at least one branch label.");for(const t of a){if("number"!=typeof t&&"string"!=typeof t)return c.error("Branch labels must be numbers or strings.");if("number"==typeof t&&Math.abs(t)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof t&&Math.floor(t)!==t)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,re(t)))return null}else n=re(t);if(void 0!==i[String(t)])return c.error("Branch labels must be unique.");i[String(t)]=o.length}const u=e.parse(s,l,r);if(!u)return null;r=r||u.type,o.push(u)}const a=e.parse(t[1],1,ft);if(!a)return null;const s=e.parse(t[t.length-1],t.length-1,r);return s?"value"!==a.type.kind&&e.concat(1).checkSubtype(n,a.type)?null:new _e(n,r,a,i,o,s):null}evaluate(t){const e=this.input.evaluate(t);return(re(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))&&this.otherwise.outputDefined()}}class be{constructor(t,e,n){this.type=t,this.branches=e,this.otherwise=n}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return e.error("Expected an odd number of arguments.");let n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);const r=[];for(let o=1;o<t.length-1;o+=2){const i=e.parse(t[o],o,ht);if(!i)return null;const a=e.parse(t[o+1],o+1,n);if(!a)return null;r.push([i,a]),n=n||a.type}const i=e.parse(t[t.length-1],t.length-1,n);if(!i)return null;if(!n)throw new Error("Can't infer output type");return new be(n,r,i)}evaluate(t){for(const[e,n]of this.branches)if(e.evaluate(t))return n.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,n]of this.branches)t(e),t(n);t(this.otherwise)}outputDefined(){return this.branches.every((t=>{let[e,n]=t;return n.outputDefined()}))&&this.otherwise.outputDefined()}}class xe{constructor(t,e,n,r){this.type=t,this.input=e,this.beginIndex=n,this.endIndex=r}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,ft),r=e.parse(t[2],2,ct);if(!n||!r)return null;if(!kt(n.type,[bt(ft),ut,ft]))return e.error(`Expected first argument to be of type array or string, but found ${xt(n.type)} instead`);if(4===t.length){const i=e.parse(t[3],3,ct);return i?new xe(n.type,n,r,i):null}return new xe(n.type,n,r)}evaluate(t){const e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);let r;if(this.endIndex&&(r=this.endIndex.evaluate(t)),Pt(e,["string"]))return[...e].slice(n,r).join("");if(Pt(e,["array"]))return e.slice(n,r);throw new ae(`Expected first argument to be of type array or string, but found ${xt(re(e))} instead.`)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}}function we(t,e){const n=t.length-1;let r,i,o=0,a=n,s=0;for(;o<=a;)if(s=Math.floor((o+a)/2),r=t[s],i=t[s+1],r<=e){if(s===n||e<i)return s;o=s+1}else{if(!(r>e))throw new ae("Input is not a number.");a=s-1}return 0}class Se{constructor(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[r,i]of n)this.labels.push(r),this.outputs.push(i)}static parse(t,e){if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");const n=e.parse(t[1],1,ct);if(!n)return null;const r=[];let i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(let o=1;o<t.length;o+=2){const n=1===o?-1/0:t[o],a=t[o+1],s=o,l=o+1;if("number"!=typeof n)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(r.length&&r[r.length-1][0]>=n)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=e.parse(a,l,i);if(!c)return null;i=i||c.type,r.push([n,c])}return new Se(i,n,r)}evaluate(t){const e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);const r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);const i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[we(e,r)].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}}function ke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pe=Te;function Te(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=e,this.p2x=n,this.p2y=r}Te.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,e){if(void 0===e&&(e=1e-6),t<0)return 0;if(t>1)return 1;for(var n=t,r=0;r<8;r++){var i=this.sampleCurveX(n)-t;if(Math.abs(i)<e)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=i/o}var a=0,s=1;for(n=t,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-t)<e));r++)t>i?a=n:s=n,n=.5*(s-a)+a;return n},solve:function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}};var Ee=ke(Pe);function Ce(t,e,n){return t+n*(e-t)}function Ae(t,e,n){return t.map(((t,r)=>Ce(t,e[r],n)))}const Me={number:Ce,color:function(t,e,n){switch(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb"){case"rgb":{const[r,i,o,a]=Ae(t.rgb,e.rgb,n);return new Wt(r,i,o,a,!1)}case"hcl":{const[r,i,o,a]=t.hcl,[s,l,c,u]=e.hcl;let h,d;if(isNaN(r)||isNaN(s))isNaN(r)?isNaN(s)?h=NaN:(h=s,1!==o&&0!==o||(d=l)):(h=r,1!==c&&0!==c||(d=i));else{let t=s-r;s>r&&t>180?t-=360:s<r&&r-s>180&&(t+=360),h=r+n*t}const[p,f,m,g]=function(t){let[e,n,r,i]=t;return e=isNaN(e)?0:e*zt,Nt([r,Math.cos(e)*n,Math.sin(e)*n,i])}([h,null!=d?d:Ce(i,l,n),Ce(o,c,n),Ce(a,u,n)]);return new Wt(p,f,m,g,!1)}case"lab":{const[r,i,o,a]=Nt(Ae(t.lab,e.lab,n));return new Wt(r,i,o,a,!1)}}},array:Ae,padding:function(t,e,n){return new Yt(Ae(t.values,e.values,n))},variableAnchorOffsetCollection:function(t,e,n){const r=t.values,i=e.values;if(r.length!==i.length)throw new ae(`Cannot interpolate values of different length. from: ${t.toString()}, to: ${e.toString()}`);const o=[];for(let a=0;a<r.length;a+=2){if(r[a]!==i[a])throw new ae(`Cannot interpolate values containing mismatched anchors. from[${a}]: ${r[a]}, to[${a}]: ${i[a]}`);o.push(r[a]);const[t,e]=r[a+1],[s,l]=i[a+1];o.push([Ce(t,s,n),Ce(e,l,n)])}return new Qt(o)}};class Oe{constructor(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[o,a]of i)this.labels.push(o),this.outputs.push(a)}static interpolationFactor(t,e,n,r){let i=0;if("exponential"===t.name)i=Ie(e,t.base,n,r);else if("linear"===t.name)i=Ie(e,1,n,r);else if("cubic-bezier"===t.name){const o=t.controlPoints;i=new Ee(o[0],o[1],o[2],o[3]).solve(Ie(e,1,n,r))}return i}static parse(t,e){let[n,r,i,...o]=t;if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){const t=r[1];if("number"!=typeof t)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:t}}else{if("cubic-bezier"!==r[0])return e.error(`Unknown interpolation type ${String(r[0])}`,1,0);{const t=r.slice(1);if(4!==t.length||t.some((t=>"number"!=typeof t||t<0||t>1)))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:t}}}if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(i=e.parse(i,2,ct),!i)return null;const a=[];let s=null;"interpolate-hcl"===n||"interpolate-lab"===n?s=dt:e.expectedType&&"value"!==e.expectedType.kind&&(s=e.expectedType);for(let l=0;l<o.length;l+=2){const t=o[l],n=o[l+1],r=l+3,i=l+4;if("number"!=typeof t)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',r);if(a.length&&a[a.length-1][0]>=t)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',r);const c=e.parse(n,i,s);if(!c)return null;s=s||c.type,a.push([t,c])}return Tt(s,ct)||Tt(s,dt)||Tt(s,yt)||Tt(s,_t)||Tt(s,bt(ct))?new Oe(s,n,r,i,a):e.error(`Type ${xt(s)} is not interpolatable.`)}evaluate(t){const e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);const r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);const i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);const o=we(e,r),a=Oe.interpolationFactor(this.interpolation,r,e[o],e[o+1]),s=n[o].evaluate(t),l=n[o+1].evaluate(t);switch(this.operator){case"interpolate":return Me[this.type.kind](s,l,a);case"interpolate-hcl":return Me.color(s,l,a,"hcl");case"interpolate-lab":return Me.color(s,l,a,"lab")}}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}}function Ie(t,e,n,r){const i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}class ze{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expectected at least one argument.");let n=null;const r=e.expectedType;r&&"value"!==r.kind&&(n=r);const i=[];for(const a of t.slice(1)){const t=e.parse(a,1+i.length,n,void 0,{typeAnnotation:"omit"});if(!t)return null;n=n||t.type,i.push(t)}if(!n)throw new Error("No output type");const o=r&&i.some((t=>St(r,t.type)));return new ze(o?ft:n,i)}evaluate(t){let e,n=null,r=0;for(const i of this.args)if(r++,n=i.evaluate(t),n&&n instanceof te&&!n.available&&(e||(e=n.name),n=null,r===this.args.length&&(n=e)),null!==n)break;return n}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}}function Le(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function De(t,e,n,r){return 0===r.compare(e,n)}function je(t,e,n){const r="=="!==t&&"!="!==t;return class i{constructor(t,e,n){this.type=ht,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}static parse(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");const n=t[0];let o=e.parse(t[1],1,ft);if(!o)return null;if(!Le(n,o.type))return e.concat(1).error(`"${n}" comparisons are not supported for type '${xt(o.type)}'.`);let a=e.parse(t[2],2,ft);if(!a)return null;if(!Le(n,a.type))return e.concat(2).error(`"${n}" comparisons are not supported for type '${xt(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error(`Cannot compare types '${xt(o.type)}' and '${xt(a.type)}'.`);r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new le(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new le(o.type,[a])));let s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(s=e.parse(t[3],3,mt),!s)return null}return new i(o,a,s)}evaluate(i){const o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){const e=re(o),n=re(a);if(e.kind!==n.kind||"string"!==e.kind&&"number"!==e.kind)throw new ae(`Expected arguments for "${t}" to be (string, string) or (number, number), but found (${e.kind}, ${n.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const t=re(o),n=re(a);if("string"!==t.kind||"string"!==n.kind)return e(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):e(i,o,a)}eachChild(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)}outputDefined(){return!0}}}const Re=je("==",(function(t,e,n){return e===n}),De),Be=je("!=",(function(t,e,n){return e!==n}),(function(t,e,n,r){return!De(0,e,n,r)})),Ne=je("<",(function(t,e,n){return e<n}),(function(t,e,n,r){return r.compare(e,n)<0})),Fe=je(">",(function(t,e,n){return e>n}),(function(t,e,n,r){return r.compare(e,n)>0})),$e=je("<=",(function(t,e,n){return e<=n}),(function(t,e,n,r){return r.compare(e,n)<=0})),Ve=je(">=",(function(t,e,n){return e>=n}),(function(t,e,n,r){return r.compare(e,n)>=0}));class Ue{constructor(t,e,n){this.type=mt,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e}static parse(t,e){if(2!==t.length)return e.error("Expected one argument.");const n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");const r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,ht);if(!r)return null;const i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,ht);if(!i)return null;let o=null;return n.locale&&(o=e.parse(n.locale,1,ut),!o)?null:new Ue(r,i,o)}evaluate(t){return new Gt(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}}class Ze{constructor(t,e,n,r,i){this.type=ut,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i}static parse(t,e){if(3!==t.length)return e.error("Expected two arguments.");const n=e.parse(t[1],1,ct);if(!n)return null;const r=t[2];if("object"!=typeof r||Array.isArray(r))return e.error("NumberFormat options argument must be an object.");let i=null;if(r.locale&&(i=e.parse(r.locale,1,ut),!i))return null;let o=null;if(r.currency&&(o=e.parse(r.currency,1,ut),!o))return null;let a=null;if(r["min-fraction-digits"]&&(a=e.parse(r["min-fraction-digits"],1,ct),!a))return null;let s=null;return r["max-fraction-digits"]&&(s=e.parse(r["max-fraction-digits"],1,ct),!s)?null:new Ze(n,i,o,a,s)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}}class qe{constructor(t){this.type=gt,this.sections=t}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const n=t[1];if(!Array.isArray(n)&&"object"==typeof n)return e.error("First argument must be an image or text section.");const r=[];let i=!1;for(let o=1;o<=t.length-1;++o){const n=t[o];if(i&&"object"==typeof n&&!Array.isArray(n)){i=!1;let t=null;if(n["font-scale"]&&(t=e.parse(n["font-scale"],1,ct),!t))return null;let o=null;if(n["text-font"]&&(o=e.parse(n["text-font"],1,bt(ut)),!o))return null;let a=null;if(n["text-color"]&&(a=e.parse(n["text-color"],1,dt),!a))return null;const s=r[r.length-1];s.scale=t,s.font=o,s.textColor=a}else{const n=e.parse(t[o],1,ft);if(!n)return null;const a=n.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:n,scale:null,font:null,textColor:null})}}return new qe(r)}evaluate(t){return new Kt(this.sections.map((e=>{const n=e.content.evaluate(t);return re(n)===vt?new Xt("",n,null,null,null):new Xt(ie(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))}eachChild(t){for(const e of this.sections)t(e.content),e.scale&&t(e.scale),e.font&&t(e.font),e.textColor&&t(e.textColor)}outputDefined(){return!1}}class He{constructor(t){this.type=vt,this.input=t}static parse(t,e){if(2!==t.length)return e.error("Expected two arguments.");const n=e.parse(t[1],1,ut);return n?new He(n):e.error("No image name provided.")}evaluate(t){const e=this.input.evaluate(t),n=te.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n}eachChild(t){t(this.input)}outputDefined(){return!1}}class We{constructor(t){this.type=ct,this.input=t}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error(`Expected argument of type string or array, but found ${xt(n.type)} instead.`):new We(n):null}evaluate(t){const e=this.input.evaluate(t);if("string"==typeof e)return[...e].length;if(Array.isArray(e))return e.length;throw new ae(`Expected value to be of type string or array, but found ${xt(re(e))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}}const Ge=8192;function Xe(t,e){const n=(180+t[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,i=Math.pow(2,e.z);return[Math.round(n*i*Ge),Math.round(r*i*Ge)]}function Ke(t,e){const n=Math.pow(2,e.z);return[(i=(t[0]/Ge+e.x)/n,360*i-180),(r=(t[1]/Ge+e.y)/n,360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90)];var r,i}function Ye(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function Je(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function Qe(t,e,n){const r=t[0]-e[0],i=t[1]-e[1],o=t[0]-n[0],a=t[1]-n[1];return r*a-o*i==0&&r*o<=0&&i*a<=0}function tn(t,e,n,r){return 0!=(i=[r[0]-n[0],r[1]-n[1]])[0]*(o=[e[0]-t[0],e[1]-t[1]])[1]-i[1]*o[0]&&!(!sn(t,e,n,r)||!sn(n,r,t,e));var i,o}function en(t,e,n){for(const r of n)for(let n=0;n<r.length-1;++n)if(tn(t,e,r[n],r[n+1]))return!0;return!1}function nn(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1;for(const s of e)for(let e=0;e<s.length-1;e++){if(Qe(t,s[e],s[e+1]))return n;(o=s[e])[1]>(i=t)[1]!=(a=s[e+1])[1]>i[1]&&i[0]<(a[0]-o[0])*(i[1]-o[1])/(a[1]-o[1])+o[0]&&(r=!r)}var i,o,a;return r}function rn(t,e){for(const n of e)if(nn(t,n))return!0;return!1}function on(t,e){for(const n of t)if(!nn(n,e))return!1;for(let n=0;n<t.length-1;++n)if(en(t[n],t[n+1],e))return!1;return!0}function an(t,e){for(const n of e)if(on(t,n))return!0;return!1}function sn(t,e,n,r){const i=r[0]-n[0],o=r[1]-n[1],a=(t[0]-n[0])*o-i*(t[1]-n[1]),s=(e[0]-n[0])*o-i*(e[1]-n[1]);return a>0&&s<0||a<0&&s>0}function ln(t,e,n){const r=[];for(let i=0;i<t.length;i++){const o=[];for(let r=0;r<t[i].length;r++){const a=Xe(t[i][r],n);Ye(e,a),o.push(a)}r.push(o)}return r}function cn(t,e,n){const r=[];for(let i=0;i<t.length;i++){const o=ln(t[i],e,n);r.push(o)}return r}function un(t,e,n,r){if(t[0]<n[0]||t[0]>n[2]){const e=.5*r;let i=t[0]-n[0]>e?-r:n[0]-t[0]>e?r:0;0===i&&(i=t[0]-n[2]>e?-r:n[2]-t[0]>e?r:0),t[0]+=i}Ye(e,t)}function hn(t,e,n,r){const i=Math.pow(2,r.z)*Ge,o=[r.x*Ge,r.y*Ge],a=[];for(const s of t)for(const t of s){const r=[t.x+o[0],t.y+o[1]];un(r,e,n,i),a.push(r)}return a}function dn(t,e,n,r){const i=Math.pow(2,r.z)*Ge,o=[r.x*Ge,r.y*Ge],a=[];for(const l of t){const t=[];for(const n of l){const r=[n.x+o[0],n.y+o[1]];Ye(e,r),t.push(r)}a.push(t)}if(e[2]-e[0]<=i/2){(s=e)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const t of a)for(const r of t)un(r,e,n,i)}var s;return a}class pn{constructor(t,e){this.type=ht,this.geojson=t,this.geometries=e}static parse(t,e){if(2!==t.length)return e.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(ne(t[1])){const e=t[1];if("FeatureCollection"===e.type){const t=[];for(const n of e.features){const{type:e,coordinates:r}=n.geometry;"Polygon"===e&&t.push(r),"MultiPolygon"===e&&t.push(...r)}if(t.length)return new pn(e,{type:"MultiPolygon",coordinates:t})}else if("Feature"===e.type){const t=e.geometry.type;if("Polygon"===t||"MultiPolygon"===t)return new pn(e,e.geometry)}else if("Polygon"===e.type||"MultiPolygon"===e.type)return new pn(e,e)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){const o=ln(e.coordinates,r,i),a=hn(t.geometry(),n,r,i);if(!Je(n,r))return!1;for(const t of a)if(!nn(t,o))return!1}if("MultiPolygon"===e.type){const o=cn(e.coordinates,r,i),a=hn(t.geometry(),n,r,i);if(!Je(n,r))return!1;for(const t of a)if(!rn(t,o))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){const o=ln(e.coordinates,r,i),a=dn(t.geometry(),n,r,i);if(!Je(n,r))return!1;for(const t of a)if(!on(t,o))return!1}if("MultiPolygon"===e.type){const o=cn(e.coordinates,r,i),a=dn(t.geometry(),n,r,i);if(!Je(n,r))return!1;for(const t of a)if(!an(t,o))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let fn=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t,e)=>t<e?-1:t>e?1:0;if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(t){this.data.push(t),this._up(this.length++)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return--this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:n}=this,r=e[t];for(;t>0;){const i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r}_down(t){const{data:e,compare:n}=this,r=this.length>>1,i=e[t];for(;t<r;){let r=1+(t<<1);const o=r+1;if(o<this.length&&n(e[o],e[r])<0&&(r=o),n(e[r],i)>=0)break;e[t]=e[r],t=r}e[t]=i}};function mn(t,e,n,r,i){gn(t,e,n,r||t.length-1,i||vn)}function gn(t,e,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,a=e-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);gn(t,e,Math.max(n,Math.floor(e-a*l/o+c)),Math.min(r,Math.floor(e+(o-a)*l/o+c)),i)}var u=t[e],h=n,d=r;for(yn(t,n,e),i(t[r],u)>0&&yn(t,n,r);h<d;){for(yn(t,h,d),h++,d--;i(t[h],u)<0;)h++;for(;i(t[d],u)>0;)d--}0===i(t[n],u)?yn(t,n,d):yn(t,++d,r),d<=e&&(n=d+1),e<=d&&(r=d-1)}}function yn(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function vn(t,e){return t<e?-1:t>e?1:0}function _n(t,e){if(t.length<=1)return[t];const n=[];let r,i;for(const o of t){const t=xn(o);0!==t&&(o.area=Math.abs(t),void 0===i&&(i=t<0),i===t<0?(r&&n.push(r),r=[o]):r.push(o))}if(r&&n.push(r),e>1)for(let o=0;o<n.length;o++)n[o].length<=e||(mn(n[o],e,1,n[o].length-1,bn),n[o]=n[o].slice(0,e));return n}function bn(t,e){return e.area-t.area}function xn(t){let e=0;for(let n,r,i=0,o=t.length,a=o-1;i<o;a=i++)n=t[i],r=t[a],e+=(r.x-n.x)*(n.y+r.y);return e}const wn=1/298.257223563,Sn=wn*(2-wn),kn=Math.PI/180;class Pn{constructor(t){const e=6378.137*kn*1e3,n=Math.cos(t*kn),r=1/(1-Sn*(1-n*n)),i=Math.sqrt(r);this.kx=e*i*n,this.ky=e*i*r*(1-Sn)}distance(t,e){const n=this.wrap(t[0]-e[0])*this.kx,r=(t[1]-e[1])*this.ky;return Math.sqrt(n*n+r*r)}pointOnLine(t,e){let n,r,i,o,a=1/0;for(let s=0;s<t.length-1;s++){let l=t[s][0],c=t[s][1],u=this.wrap(t[s+1][0]-l)*this.kx,h=(t[s+1][1]-c)*this.ky,d=0;0===u&&0===h||(d=(this.wrap(e[0]-l)*this.kx*u+(e[1]-c)*this.ky*h)/(u*u+h*h),d>1?(l=t[s+1][0],c=t[s+1][1]):d>0&&(l+=u/this.kx*d,c+=h/this.ky*d)),u=this.wrap(e[0]-l)*this.kx,h=(e[1]-c)*this.ky;const p=u*u+h*h;p<a&&(a=p,n=l,r=c,i=s,o=d)}return{point:[n,r],index:i,t:Math.max(0,Math.min(1,o))}}wrap(t){for(;t<-180;)t+=360;for(;t>180;)t-=360;return t}}function Tn(t,e){return e[0]-t[0]}function En(t){return t[1]-t[0]+1}function Cn(t,e){return t[1]>=t[0]&&t[1]<e}function An(t,e){if(t[0]>t[1])return[null,null];const n=En(t);if(e){if(2===n)return[t,null];const e=Math.floor(n/2);return[[t[0],t[0]+e],[t[0]+e,t[1]]]}if(1===n)return[t,null];const r=Math.floor(n/2)-1;return[[t[0],t[0]+r],[t[0]+r+1,t[1]]]}function Mn(t,e){if(!Cn(e,t.length))return[1/0,1/0,-1/0,-1/0];const n=[1/0,1/0,-1/0,-1/0];for(let r=e[0];r<=e[1];++r)Ye(n,t[r]);return n}function On(t){const e=[1/0,1/0,-1/0,-1/0];for(const n of t)for(const t of n)Ye(e,t);return e}function In(t){return t[0]!==-1/0&&t[1]!==-1/0&&t[2]!==1/0&&t[3]!==1/0}function zn(t,e,n){if(!In(t)||!In(e))return NaN;let r=0,i=0;return t[2]<e[0]&&(r=e[0]-t[2]),t[0]>e[2]&&(r=t[0]-e[2]),t[1]>e[3]&&(i=t[1]-e[3]),t[3]<e[1]&&(i=e[1]-t[3]),n.distance([0,0],[r,i])}function Ln(t,e,n){const r=n.pointOnLine(e,t);return n.distance(t,r.point)}function Dn(t,e,n,r,i){const o=Math.min(Ln(t,[n,r],i),Ln(e,[n,r],i)),a=Math.min(Ln(n,[t,e],i),Ln(r,[t,e],i));return Math.min(o,a)}function jn(t,e,n,r,i){if(!Cn(e,t.length)||!Cn(r,n.length))return 1/0;let o=1/0;for(let a=e[0];a<e[1];++a){const e=t[a],s=t[a+1];for(let t=r[0];t<r[1];++t){const r=n[t],a=n[t+1];if(tn(e,s,r,a))return 0;o=Math.min(o,Dn(e,s,r,a,i))}}return o}function Rn(t,e,n,r,i){if(!Cn(e,t.length)||!Cn(r,n.length))return NaN;let o=1/0;for(let a=e[0];a<=e[1];++a)for(let e=r[0];e<=r[1];++e)if(o=Math.min(o,i.distance(t[a],n[e])),0===o)return o;return o}function Bn(t,e,n){if(nn(t,e,!0))return 0;let r=1/0;for(const i of e){const e=i[0],o=i[i.length-1];if(e!==o&&(r=Math.min(r,Ln(t,[o,e],n)),0===r))return r;const a=n.pointOnLine(i,t);if(r=Math.min(r,n.distance(t,a.point)),0===r)return r}return r}function Nn(t,e,n,r){if(!Cn(e,t.length))return NaN;for(let o=e[0];o<=e[1];++o)if(nn(t[o],n,!0))return 0;let i=1/0;for(let o=e[0];o<e[1];++o){const e=t[o],a=t[o+1];for(const t of n)for(let n=0,o=t.length,s=o-1;n<o;s=n++){const o=t[s],l=t[n];if(tn(e,a,o,l))return 0;i=Math.min(i,Dn(e,a,o,l,r))}}return i}function Fn(t,e){for(const n of t)for(const t of n)if(nn(t,e,!0))return!0;return!1}function $n(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const i=On(t),o=On(e);if(r!==1/0&&zn(i,o,n)>=r)return r;if(Je(i,o)){if(Fn(t,e))return 0}else if(Fn(e,t))return 0;let a=1/0;for(const s of t)for(let t=0,r=s.length,i=r-1;t<r;i=t++){const r=s[i],o=s[t];for(const t of e)for(let e=0,i=t.length,s=i-1;e<i;s=e++){const i=t[s],l=t[e];if(tn(r,o,i,l))return 0;a=Math.min(a,Dn(r,o,i,l,n))}}return a}function Vn(t,e,n,r,i,o){if(!o)return;const a=zn(Mn(r,o),i,n);a<e&&t.push([a,o,[0,0]])}function Un(t,e,n,r,i,o,a){if(!o||!a)return;const s=zn(Mn(r,o),Mn(i,a),n);s<e&&t.push([s,o,a])}function Zn(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0,o=Math.min(r.distance(t[0],n[0][0]),i);if(0===o)return o;const a=new fn([[0,[0,t.length-1],[0,0]]],Tn),s=On(n);for(;a.length>0;){const i=a.pop();if(i[0]>=o)continue;const l=i[1],c=e?50:100;if(En(l)<=c){if(!Cn(l,t.length))return NaN;if(e){const e=Nn(t,l,n,r);if(isNaN(e)||0===e)return e;o=Math.min(o,e)}else for(let e=l[0];e<=l[1];++e){const i=Bn(t[e],n,r);if(o=Math.min(o,i),0===o)return 0}}else{const n=An(l,e);Vn(a,o,r,t,s,n[0]),Vn(a,o,r,t,s,n[1])}}return o}function qn(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,a=Math.min(o,i.distance(t[0],n[0]));if(0===a)return a;const s=new fn([[0,[0,t.length-1],[0,n.length-1]]],Tn);for(;s.length>0;){const o=s.pop();if(o[0]>=a)continue;const l=o[1],c=o[2],u=e?50:100,h=r?50:100;if(En(l)<=u&&En(c)<=h){if(!Cn(l,t.length)&&Cn(c,n.length))return NaN;let o;if(e&&r)o=jn(t,l,n,c,i),a=Math.min(a,o);else if(e&&!r){const e=t.slice(l[0],l[1]+1);for(let t=c[0];t<=c[1];++t)if(o=Ln(n[t],e,i),a=Math.min(a,o),0===a)return a}else if(!e&&r){const e=n.slice(c[0],c[1]+1);for(let n=l[0];n<=l[1];++n)if(o=Ln(t[n],e,i),a=Math.min(a,o),0===a)return a}else o=Rn(t,l,n,c,i),a=Math.min(a,o)}else{const o=An(l,e),u=An(c,r);Un(s,a,i,t,n,o[0],u[0]),Un(s,a,i,t,n,o[0],u[1]),Un(s,a,i,t,n,o[1],u[0]),Un(s,a,i,t,n,o[1],u[1])}}return a}function Hn(t){return"MultiPolygon"===t.type?t.coordinates.map((t=>({type:"Polygon",coordinates:t}))):"MultiLineString"===t.type?t.coordinates.map((t=>({type:"LineString",coordinates:t}))):"MultiPoint"===t.type?t.coordinates.map((t=>({type:"Point",coordinates:t}))):[t]}class Wn{constructor(t,e){this.type=ct,this.geojson=t,this.geometries=e}static parse(t,e){if(2!==t.length)return e.error(`'distance' expression requires exactly one argument, but found ${t.length-1} instead.`);if(ne(t[1])){const e=t[1];if("FeatureCollection"===e.type)return new Wn(e,e.features.map((t=>Hn(t.geometry))).flat());if("Feature"===e.type)return new Wn(e,Hn(e.geometry));if("type"in e&&"coordinates"in e)return new Wn(e,Hn(e))}return e.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){const n=t.geometry(),r=n.flat().map((e=>Ke([e.x,e.y],t.canonical)));if(0===n.length)return NaN;const i=new Pn(r[0][1]);let o=1/0;for(const a of e){switch(a.type){case"Point":o=Math.min(o,qn(r,!1,[a.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,qn(r,!1,a.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,Zn(r,!1,a.coordinates,i,o))}if(0===o)return o}return o}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){const n=t.geometry(),r=n.flat().map((e=>Ke([e.x,e.y],t.canonical)));if(0===n.length)return NaN;const i=new Pn(r[0][1]);let o=1/0;for(const a of e){switch(a.type){case"Point":o=Math.min(o,qn(r,!0,[a.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,qn(r,!0,a.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,Zn(r,!0,a.coordinates,i,o))}if(0===o)return o}return o}(t,this.geometries);if("Polygon"===t.geometryType())return function(t,e){const n=t.geometry();if(0===n.length||0===n[0].length)return NaN;const r=_n(n,0).map((e=>e.map((e=>e.map((e=>Ke([e.x,e.y],t.canonical))))))),i=new Pn(r[0][0][0][1]);let o=1/0;for(const a of e)for(const t of r){switch(a.type){case"Point":o=Math.min(o,Zn([a.coordinates],!1,t,i,o));break;case"LineString":o=Math.min(o,Zn(a.coordinates,!0,t,i,o));break;case"Polygon":o=Math.min(o,$n(t,a.coordinates,i,o))}if(0===o)return o}return o}(t,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const Gn={"==":Re,"!=":Be,">":Fe,"<":Ne,">=":Ve,"<=":$e,array:le,at:ge,boolean:le,case:be,coalesce:ze,collator:Ue,format:qe,image:He,in:ye,"index-of":ve,interpolate:Oe,"interpolate-hcl":Oe,"interpolate-lab":Oe,length:We,let:fe,literal:oe,match:_e,number:le,"number-format":Ze,object:le,slice:xe,step:Se,string:le,"to-boolean":ue,"to-color":ue,"to-number":ue,"to-string":ue,var:me,within:pn,distance:Wn};class Xn{constructor(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}static parse(t,e){const n=t[0],r=Xn.definitions[n];if(!r)return e.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=o.filter((e=>{let[n]=e;return!Array.isArray(n)||n.length===t.length-1}));let s=null;for(const[l,c]of a){s=new pe(e.registry,tr,e.path,null,e.scope);const r=[];let o=!1;for(let e=1;e<t.length;e++){const n=t[e],i=Array.isArray(l)?l[e-1]:l.type,a=s.parse(n,1+r.length,i);if(!a){o=!0;break}r.push(a)}if(!o)if(Array.isArray(l)&&l.length!==r.length)s.error(`Expected ${l.length} arguments, but found ${r.length} instead.`);else{for(let t=0;t<r.length;t++){const e=Array.isArray(l)?l[t]:l.type,n=r[t];s.concat(t+1).checkSubtype(e,n.type)}if(0===s.errors.length)return new Xn(n,i,c,r)}}if(1===a.length)e.errors.push(...s.errors);else{const n=(a.length?a:o).map((t=>{let[e]=t;return n=e,Array.isArray(n)?`(${n.map(xt).join(", ")})`:`(${xt(n.type)}...)`;var n})).join(" | "),r=[];for(let i=1;i<t.length;i++){const n=e.parse(t[i],1+r.length);if(!n)return null;r.push(xt(n.type))}e.error(`Expected arguments of type ${n}, but found (${r.join(", ")}) instead.`)}return null}static register(t,e){Xn.definitions=e;for(const n in e)t[n]=Xn}}function Kn(t,e){let[n,r,i,o]=e;n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);const a=o?o.evaluate(t):1,s=ee(n,r,i,a);if(s)throw new ae(s);return new Wt(n/255,r/255,i/255,a,!1)}function Yn(t,e){return t in e}function Jn(t,e){const n=e[t];return void 0===n?null:n}function Qn(t){return{type:t}}function tr(t){if(t instanceof me)return tr(t.boundExpression);if(t instanceof Xn&&"error"===t.name)return!1;if(t instanceof Ue)return!1;if(t instanceof pn)return!1;if(t instanceof Wn)return!1;const e=t instanceof ue||t instanceof le;let n=!0;return t.eachChild((t=>{n=e?n&&tr(t):n&&t instanceof oe})),!!n&&er(t)&&rr(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function er(t){if(t instanceof Xn){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof pn)return!1;if(t instanceof Wn)return!1;let e=!0;return t.eachChild((t=>{e&&!er(t)&&(e=!1)})),e}function nr(t){if(t instanceof Xn&&"feature-state"===t.name)return!1;let e=!0;return t.eachChild((t=>{e&&!nr(t)&&(e=!1)})),e}function rr(t,e){if(t instanceof Xn&&e.indexOf(t.name)>=0)return!1;let n=!0;return t.eachChild((t=>{n&&!rr(t,e)&&(n=!1)})),n}function ir(t){return{result:"success",value:t}}function or(t){return{result:"error",value:t}}function ar(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function sr(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function lr(t){return!!t.expression&&t.expression.interpolated}function cr(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function ur(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function hr(t){return t}function dr(t,e){const n="color"===e.type,r=t.stops&&"object"==typeof t.stops[0][0],i=r||!(r||void 0!==t.property),o=t.type||(lr(e)?"exponential":"interval");if(n||"padding"===e.type){const r=n?Wt.parse:Yt.parse;(t=ot({},t)).stops&&(t.stops=t.stops.map((t=>[t[0],r(t[1])]))),t.default=r(t.default?t.default:e.default)}if(t.colorSpace&&"rgb"!==(a=t.colorSpace)&&"hcl"!==a&&"lab"!==a)throw new Error(`Unknown color space: "${t.colorSpace}"`);var a;let s,l,c;if("exponential"===o)s=gr;else if("interval"===o)s=mr;else if("categorical"===o){s=fr,l=Object.create(null);for(const e of t.stops)l[e[0]]=e[1];c=typeof t.stops[0][0]}else{if("identity"!==o)throw new Error(`Unknown function type "${o}"`);s=yr}if(r){const n={},r=[];for(let e=0;e<t.stops.length;e++){const i=t.stops[e],o=i[0].zoom;void 0===n[o]&&(n[o]={zoom:o,type:t.type,property:t.property,default:t.default,stops:[]},r.push(o)),n[o].stops.push([i[0].value,i[1]])}const i=[];for(const t of r)i.push([n[t].zoom,dr(n[t],e)]);const o={name:"linear"};return{kind:"composite",interpolationType:o,interpolationFactor:Oe.interpolationFactor.bind(void 0,o),zoomStops:i.map((t=>t[0])),evaluate:(n,r)=>{let{zoom:o}=n;return gr({stops:i,base:t.base},e,o).evaluate(o,r)}}}if(i){const n="exponential"===o?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:n,interpolationFactor:Oe.interpolationFactor.bind(void 0,n),zoomStops:t.stops.map((t=>t[0])),evaluate:n=>{let{zoom:r}=n;return s(t,e,r,l,c)}}}return{kind:"source",evaluate(n,r){const i=r&&r.properties?r.properties[t.property]:void 0;return void 0===i?pr(t.default,e.default):s(t,e,i,l,c)}}}function pr(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function fr(t,e,n,r,i){return pr(typeof n===i?r[n]:void 0,t.default,e.default)}function mr(t,e,n){if("number"!==cr(n))return pr(t.default,e.default);const r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];const i=we(t.stops.map((t=>t[0])),n);return t.stops[i][1]}function gr(t,e,n){const r=void 0!==t.base?t.base:1;if("number"!==cr(n))return pr(t.default,e.default);const i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];const o=we(t.stops.map((t=>t[0])),n),a=function(t,e,n,r){const i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],l=t.stops[o+1][1],c=Me[e.type]||hr;return"function"==typeof s.evaluate?{evaluate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=s.evaluate.apply(void 0,n),o=l.evaluate.apply(void 0,n);if(void 0!==i&&void 0!==o)return c(i,o,a,t.colorSpace)}}:c(s,l,a,t.colorSpace)}function yr(t,e,n){switch(e.type){case"color":n=Wt.parse(n);break;case"formatted":n=Kt.fromString(n.toString());break;case"resolvedImage":n=te.fromString(n.toString());break;case"padding":n=Yt.parse(n);break;default:cr(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0)}return pr(n,t.default,e.default)}Xn.register(Gn,{error:[{kind:"error"},[ut],(t,e)=>{let[n]=e;throw new ae(n.evaluate(t))}],typeof:[ut,[ft],(t,e)=>{let[n]=e;return xt(re(n.evaluate(t)))}],"to-rgba":[bt(ct,4),[dt],(t,e)=>{let[n]=e;const[r,i,o,a]=n.evaluate(t).rgb;return[255*r,255*i,255*o,a]}],rgb:[dt,[ct,ct,ct],Kn],rgba:[dt,[ct,ct,ct,ct],Kn],has:{type:ht,overloads:[[[ut],(t,e)=>{let[n]=e;return Yn(n.evaluate(t),t.properties())}],[[ut,pt],(t,e)=>{let[n,r]=e;return Yn(n.evaluate(t),r.evaluate(t))}]]},get:{type:ft,overloads:[[[ut],(t,e)=>{let[n]=e;return Jn(n.evaluate(t),t.properties())}],[[ut,pt],(t,e)=>{let[n,r]=e;return Jn(n.evaluate(t),r.evaluate(t))}]]},"feature-state":[ft,[ut],(t,e)=>{let[n]=e;return Jn(n.evaluate(t),t.featureState||{})}],properties:[pt,[],t=>t.properties()],"geometry-type":[ut,[],t=>t.geometryType()],id:[ft,[],t=>t.id()],zoom:[ct,[],t=>t.globals.zoom],"heatmap-density":[ct,[],t=>t.globals.heatmapDensity||0],"line-progress":[ct,[],t=>t.globals.lineProgress||0],accumulated:[ft,[],t=>void 0===t.globals.accumulated?null:t.globals.accumulated],"+":[ct,Qn(ct),(t,e)=>{let n=0;for(const r of e)n+=r.evaluate(t);return n}],"*":[ct,Qn(ct),(t,e)=>{let n=1;for(const r of e)n*=r.evaluate(t);return n}],"-":{type:ct,overloads:[[[ct,ct],(t,e)=>{let[n,r]=e;return n.evaluate(t)-r.evaluate(t)}],[[ct],(t,e)=>{let[n]=e;return-n.evaluate(t)}]]},"/":[ct,[ct,ct],(t,e)=>{let[n,r]=e;return n.evaluate(t)/r.evaluate(t)}],"%":[ct,[ct,ct],(t,e)=>{let[n,r]=e;return n.evaluate(t)%r.evaluate(t)}],ln2:[ct,[],()=>Math.LN2],pi:[ct,[],()=>Math.PI],e:[ct,[],()=>Math.E],"^":[ct,[ct,ct],(t,e)=>{let[n,r]=e;return Math.pow(n.evaluate(t),r.evaluate(t))}],sqrt:[ct,[ct],(t,e)=>{let[n]=e;return Math.sqrt(n.evaluate(t))}],log10:[ct,[ct],(t,e)=>{let[n]=e;return Math.log(n.evaluate(t))/Math.LN10}],ln:[ct,[ct],(t,e)=>{let[n]=e;return Math.log(n.evaluate(t))}],log2:[ct,[ct],(t,e)=>{let[n]=e;return Math.log(n.evaluate(t))/Math.LN2}],sin:[ct,[ct],(t,e)=>{let[n]=e;return Math.sin(n.evaluate(t))}],cos:[ct,[ct],(t,e)=>{let[n]=e;return Math.cos(n.evaluate(t))}],tan:[ct,[ct],(t,e)=>{let[n]=e;return Math.tan(n.evaluate(t))}],asin:[ct,[ct],(t,e)=>{let[n]=e;return Math.asin(n.evaluate(t))}],acos:[ct,[ct],(t,e)=>{let[n]=e;return Math.acos(n.evaluate(t))}],atan:[ct,[ct],(t,e)=>{let[n]=e;return Math.atan(n.evaluate(t))}],min:[ct,Qn(ct),(t,e)=>Math.min(...e.map((e=>e.evaluate(t))))],max:[ct,Qn(ct),(t,e)=>Math.max(...e.map((e=>e.evaluate(t))))],abs:[ct,[ct],(t,e)=>{let[n]=e;return Math.abs(n.evaluate(t))}],round:[ct,[ct],(t,e)=>{let[n]=e;const r=n.evaluate(t);return r<0?-Math.round(-r):Math.round(r)}],floor:[ct,[ct],(t,e)=>{let[n]=e;return Math.floor(n.evaluate(t))}],ceil:[ct,[ct],(t,e)=>{let[n]=e;return Math.ceil(n.evaluate(t))}],"filter-==":[ht,[ut,ft],(t,e)=>{let[n,r]=e;return t.properties()[n.value]===r.value}],"filter-id-==":[ht,[ft],(t,e)=>{let[n]=e;return t.id()===n.value}],"filter-type-==":[ht,[ut],(t,e)=>{let[n]=e;return t.geometryType()===n.value}],"filter-<":[ht,[ut,ft],(t,e)=>{let[n,r]=e;const i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[ht,[ft],(t,e)=>{let[n]=e;const r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[ht,[ut,ft],(t,e)=>{let[n,r]=e;const i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[ht,[ft],(t,e)=>{let[n]=e;const r=t.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[ht,[ut,ft],(t,e)=>{let[n,r]=e;const i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[ht,[ft],(t,e)=>{let[n]=e;const r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[ht,[ut,ft],(t,e)=>{let[n,r]=e;const i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[ht,[ft],(t,e)=>{let[n]=e;const r=t.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[ht,[ft],(t,e)=>{let[n]=e;return n.value in t.properties()}],"filter-has-id":[ht,[],t=>null!==t.id()&&void 0!==t.id()],"filter-type-in":[ht,[bt(ut)],(t,e)=>{let[n]=e;return n.value.indexOf(t.geometryType())>=0}],"filter-id-in":[ht,[bt(ft)],(t,e)=>{let[n]=e;return n.value.indexOf(t.id())>=0}],"filter-in-small":[ht,[ut,bt(ft)],(t,e)=>{let[n,r]=e;return r.value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[ht,[ut,bt(ft)],(t,e)=>{let[n,r]=e;return function(t,e,n,r){for(;n<=r;){const i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:ht,overloads:[[[ht,ht],(t,e)=>{let[n,r]=e;return n.evaluate(t)&&r.evaluate(t)}],[Qn(ht),(t,e)=>{for(const n of e)if(!n.evaluate(t))return!1;return!0}]]},any:{type:ht,overloads:[[[ht,ht],(t,e)=>{let[n,r]=e;return n.evaluate(t)||r.evaluate(t)}],[Qn(ht),(t,e)=>{for(const n of e)if(n.evaluate(t))return!0;return!1}]]},"!":[ht,[ht],(t,e)=>{let[n]=e;return!n.evaluate(t)}],"is-supported-script":[ht,[ut],(t,e)=>{let[n]=e;const r=t.globals&&t.globals.isSupportedScript;return!r||r(n.evaluate(t))}],upcase:[ut,[ut],(t,e)=>{let[n]=e;return n.evaluate(t).toUpperCase()}],downcase:[ut,[ut],(t,e)=>{let[n]=e;return n.evaluate(t).toLowerCase()}],concat:[ut,Qn(ft),(t,e)=>e.map((e=>ie(e.evaluate(t)))).join("")],"resolved-locale":[ut,[mt],(t,e)=>{let[n]=e;return n.evaluate(t).resolvedLocale()}]});class vr{constructor(t,e){var n;this.expression=t,this._warningHistory={},this._evaluator=new de,this._defaultValue=e?"color"===(n=e).type&&ur(n.default)?new Wt(0,0,0,0):"color"===n.type?Wt.parse(n.default)||null:"padding"===n.type?Yt.parse(n.default)||null:"variableAnchorOffsetCollection"===n.type?Qt.parse(n.default)||null:void 0===n.default?null:n.default:null,this._enumValues=e&&"enum"===e.type?e.values:null}evaluateWithoutErrorHandling(t,e,n,r,i,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)}evaluate(t,e,n,r,i,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{const t=this.expression.evaluate(this._evaluator);if(null==t||"number"==typeof t&&t!=t)return this._defaultValue;if(this._enumValues&&!(t in this._enumValues))throw new ae(`Expected value to be one of ${Object.keys(this._enumValues).map((t=>JSON.stringify(t))).join(", ")}, but found ${JSON.stringify(t)} instead.`);return t}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}}}function _r(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Gn}function br(t,e){const n=new pe(Gn,tr,[],e?function(t){const e={color:dt,string:ut,number:ct,enum:ut,boolean:ht,formatted:gt,padding:yt,resolvedImage:vt,variableAnchorOffsetCollection:_t};return"array"===t.type?bt(e[t.value]||ft,t.length):e[t.type]}(e):void 0),r=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?ir(new vr(r,e)):or(n.errors)}class xr{constructor(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!nr(e.expression)}evaluateWithoutErrorHandling(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)}evaluate(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)}}class wr{constructor(t,e,n,r){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!nr(e.expression),this.interpolationType=r}evaluateWithoutErrorHandling(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)}evaluate(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)}interpolationFactor(t,e,n){return this.interpolationType?Oe.interpolationFactor(this.interpolationType,t,e,n):0}}function Sr(t,e){const n=br(t,e);if("error"===n.result)return n;const r=n.value.expression,i=er(r);if(!i&&!ar(e))return or([new at("","data expressions not supported")]);const o=rr(r,["zoom"]);if(!o&&!sr(e))return or([new at("","zoom expressions not supported")]);const a=Pr(r);return a||o?a instanceof at?or([a]):a instanceof Oe&&!lr(e)?or([new at("",'"interpolate" expressions cannot be used with this property')]):ir(a?new wr(i?"camera":"composite",n.value,a.labels,a instanceof Oe?a.interpolation:void 0):new xr(i?"constant":"source",n.value)):or([new at("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class kr{constructor(t,e){this._parameters=t,this._specification=e,ot(this,dr(this._parameters,this._specification))}static deserialize(t){return new kr(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function Pr(t){let e=null;if(t instanceof fe)e=Pr(t.result);else if(t instanceof ze){for(const n of t.args)if(e=Pr(n),e)break}else(t instanceof Se||t instanceof Oe)&&t.input instanceof Xn&&"zoom"===t.input.name&&(e=t);return e instanceof at||t.eachChild((t=>{const n=Pr(t);n instanceof at?e=n:!e&&n?e=new at("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new at("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),e}function Tr(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(const e of t.slice(1))if(!Tr(e)&&"boolean"!=typeof e)return!1;return!0;default:return!0}}const Er={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Cr(t){if(null==t)return{filter:()=>!0,needGeometry:!1};Tr(t)||(t=Or(t));const e=br(t,Er);if("error"===e.result)throw new Error(e.value.map((t=>`${t.key}: ${t.message}`)).join(", "));return{filter:(t,n,r)=>e.value.evaluate(t,n,{},r),needGeometry:Mr(t)}}function Ar(t,e){return t<e?-1:t>e?1:0}function Mr(t){if(!Array.isArray(t))return!1;if("within"===t[0]||"distance"===t[0])return!0;for(let e=1;e<t.length;e++)if(Mr(t[e]))return!0;return!1}function Or(t){if(!t)return!0;const e=t[0];return t.length<=1?"any"!==e:"=="===e?Ir(t[1],t[2],"=="):"!="===e?Dr(Ir(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?Ir(t[1],t[2],e):"any"===e?(n=t.slice(1),["any"].concat(n.map(Or))):"all"===e?["all"].concat(t.slice(1).map(Or)):"none"===e?["all"].concat(t.slice(1).map(Or).map(Dr)):"in"===e?zr(t[1],t.slice(2)):"!in"===e?Dr(zr(t[1],t.slice(2))):"has"===e?Lr(t[1]):"!has"!==e||Dr(Lr(t[1]));var n}function Ir(t,e,n){switch(t){case"$type":return[`filter-type-${n}`,e];case"$id":return[`filter-id-${n}`,e];default:return[`filter-${n}`,t,e]}}function zr(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((t=>typeof t!=typeof e[0]))?["filter-in-large",t,["literal",e.sort(Ar)]]:["filter-in-small",t,["literal",e]]}}function Lr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Dr(t){return["!",t]}function jr(t){const e=typeof t;if("number"===e||"boolean"===e||"string"===e||null==t)return JSON.stringify(t);if(Array.isArray(t)){let e="[";for(const n of t)e+=`${jr(n)},`;return`${e}]`}const n=Object.keys(t).sort();let r="{";for(let i=0;i<n.length;i++)r+=`${JSON.stringify(n[i])}:${jr(t[n[i]])},`;return`${r}}`}function Rr(t){let e="";for(const n of W)e+=`/${jr(t[n])}`;return e}function Br(t){const e=t.value;return e?[new it(t.key,e,"constants have been deprecated as of v8")]:[]}function Nr(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Fr(t){if(Array.isArray(t))return t.map(Fr);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const e={};for(const n in t)e[n]=Fr(t[n]);return e}return Nr(t)}function $r(t){const e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=t.validateSpec;let l=[];const c=cr(n);if("object"!==c)return[new it(e,n,`object expected, ${c} found`)];for(const u in n){const t=u.split(".")[0],c=r[t]||r["*"];let h;if(i[t])h=i[t];else if(r[t])h=s;else if(i["*"])h=i["*"];else{if(!r["*"]){l.push(new it(e,n[u],`unknown property "${u}"`));continue}h=s}l=l.concat(h({key:(e?`${e}.`:e)+u,value:n[u],valueSpec:c,style:o,styleSpec:a,object:n,objectKey:u,validateSpec:s},n))}for(const u in r)i[u]||r[u].required&&void 0===r[u].default&&void 0===n[u]&&l.push(new it(e,n,`missing required property "${u}"`));return l}function Vr(t){const e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||t.validateSpec;if("array"!==cr(e))return[new it(o,e,`array expected, ${cr(e)} found`)];if(n.length&&e.length!==n.length)return[new it(o,e,`array length ${n.length} expected, length ${e.length} found`)];if(n["min-length"]&&e.length<n["min-length"])return[new it(o,e,`array length at least ${n["min-length"]} expected, length ${e.length} found`)];let s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===cr(n.value)&&(s=n.value);let l=[];for(let c=0;c<e.length;c++)l=l.concat(a({array:e,arrayIndex:c,value:e[c],valueSpec:s,validateSpec:t.validateSpec,style:r,styleSpec:i,key:`${o}[${c}]`}));return l}function Ur(t){const e=t.key,n=t.value,r=t.valueSpec;let i=cr(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new it(e,n,`number expected, ${i} found`)]:"minimum"in r&&n<r.minimum?[new it(e,n,`${n} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&n>r.maximum?[new it(e,n,`${n} is greater than the maximum value ${r.maximum}`)]:[]}function Zr(t){const e=t.valueSpec,n=Nr(t.value.type);let r,i,o,a={};const s="categorical"!==n&&void 0===t.value.property,l=!s,c="array"===cr(t.value.stops)&&"array"===cr(t.value.stops[0])&&"object"===cr(t.value.stops[0][0]),u=$r({key:t.key,value:t.value,valueSpec:t.styleSpec.function,validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===n)return[new it(t.key,t.value,'identity function may not have a "stops" property')];let e=[];const r=t.value;return e=e.concat(Vr({key:t.key,value:r,valueSpec:t.valueSpec,validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:h})),"array"===cr(r)&&0===r.length&&e.push(new it(t.key,r,"array must have at least one stop")),e},default:function(t){return t.validateSpec({key:t.key,value:t.value,valueSpec:e,validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===n&&s&&u.push(new it(t.key,t.value,'missing required property "property"')),"identity"===n||t.value.stops||u.push(new it(t.key,t.value,'missing required property "stops"')),"exponential"===n&&t.valueSpec.expression&&!lr(t.valueSpec)&&u.push(new it(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(l&&!ar(t.valueSpec)?u.push(new it(t.key,t.value,"property functions not supported")):s&&!sr(t.valueSpec)&&u.push(new it(t.key,t.value,"zoom functions not supported"))),"categorical"!==n&&!c||void 0!==t.value.property||u.push(new it(t.key,t.value,'"property" property is required')),u;function h(t){let n=[];const r=t.value,s=t.key;if("array"!==cr(r))return[new it(s,r,`array expected, ${cr(r)} found`)];if(2!==r.length)return[new it(s,r,`array length 2 expected, length ${r.length} found`)];if(c){if("object"!==cr(r[0]))return[new it(s,r,`object expected, ${cr(r[0])} found`)];if(void 0===r[0].zoom)return[new it(s,r,"object stop key must have zoom")];if(void 0===r[0].value)return[new it(s,r,"object stop key must have value")];if(o&&o>Nr(r[0].zoom))return[new it(s,r[0].zoom,"stop zoom values must appear in ascending order")];Nr(r[0].zoom)!==o&&(o=Nr(r[0].zoom),i=void 0,a={}),n=n.concat($r({key:`${s}[0]`,value:r[0],valueSpec:{zoom:{}},validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Ur,value:d}}))}else n=n.concat(d({key:`${s}[0]`,value:r[0],valueSpec:{},validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec},r));return _r(Fr(r[1]))?n.concat([new it(`${s}[1]`,r[1],"expressions are not allowed in function stops.")]):n.concat(t.validateSpec({key:`${s}[1]`,value:r[1],valueSpec:e,validateSpec:t.validateSpec,style:t.style,styleSpec:t.styleSpec}))}function d(t,o){const s=cr(t.value),l=Nr(t.value),c=null!==t.value?t.value:o;if(r){if(s!==r)return[new it(t.key,c,`${s} stop domain type must match previous stop domain type ${r}`)]}else r=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new it(t.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==n){let r=`number expected, ${s} found`;return ar(e)&&void 0===n&&(r+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new it(t.key,c,r)]}return"categorical"!==n||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==n&&"number"===s&&void 0!==i&&l<i?[new it(t.key,c,"stop domain values must appear in ascending order")]:(i=l,"categorical"===n&&l in a?[new it(t.key,c,"stop domain values must be unique")]:(a[l]=!0,[])):[new it(t.key,c,`integer expected, found ${l}`)]}}function qr(t){const e=("property"===t.expressionContext?Sr:br)(Fr(t.value),t.valueSpec);if("error"===e.result)return e.value.map((e=>new it(`${t.key}${e.key}`,t.value,e.message)));const n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!n.outputDefined())return[new it(t.key,t.value,`Invalid data expression for "${t.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===t.expressionContext&&"layout"===t.propertyType&&!nr(n))return[new it(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!nr(n))return[new it(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!rr(n,["zoom","feature-state"]))return[new it(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!er(n))return[new it(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Hr(t){const e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Nr(n))&&i.push(new it(e,n,`expected one of [${r.values.join(", ")}], ${JSON.stringify(n)} found`)):-1===Object.keys(r.values).indexOf(Nr(n))&&i.push(new it(e,n,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(n)} found`)),i}function Wr(t){return Tr(Fr(t.value))?qr(ot({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Gr(t)}function Gr(t){const e=t.value,n=t.key;if("array"!==cr(e))return[new it(n,e,`array expected, ${cr(e)} found`)];const r=t.styleSpec;let i,o=[];if(e.length<1)return[new it(n,e,"filter array must have at least 1 element")];switch(o=o.concat(Hr({key:`${n}[0]`,value:e[0],valueSpec:r.filter_operator,style:t.style,styleSpec:t.styleSpec})),Nr(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===Nr(e[1])&&o.push(new it(n,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":3!==e.length&&o.push(new it(n,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(i=cr(e[1]),"string"!==i&&o.push(new it(`${n}[1]`,e[1],`string expected, ${i} found`)));for(let a=2;a<e.length;a++)i=cr(e[a]),"$type"===Nr(e[1])?o=o.concat(Hr({key:`${n}[${a}]`,value:e[a],valueSpec:r.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&o.push(new it(`${n}[${a}]`,e[a],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let r=1;r<e.length;r++)o=o.concat(Gr({key:`${n}[${r}]`,value:e[r],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=cr(e[1]),2!==e.length?o.push(new it(n,e,`filter array for "${e[0]}" operator must have 2 elements`)):"string"!==i&&o.push(new it(`${n}[1]`,e[1],`string expected, ${i} found`))}return o}function Xr(t,e){const n=t.key,r=t.validateSpec,i=t.style,o=t.styleSpec,a=t.value,s=t.objectKey,l=o[`${e}_${t.layerType}`];if(!l)return[];const c=s.match(/^(.*)-transition$/);if("paint"===e&&c&&l[c[1]]&&l[c[1]].transition)return r({key:n,value:a,valueSpec:o.transition,style:i,styleSpec:o});const u=t.valueSpec||l[s];if(!u)return[new it(n,a,`unknown property "${s}"`)];let h;if("string"===cr(a)&&ar(u)&&!u.tokens&&(h=/^{([^}]+)}$/.exec(a)))return[new it(n,a,`"${s}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(h[1])} }\`.`)];const d=[];return"symbol"===t.layerType&&("text-field"===s&&i&&!i.glyphs&&d.push(new it(n,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===s&&ur(Fr(a))&&"identity"===Nr(a.type)&&d.push(new it(n,a,'"text-font" does not support identity functions'))),d.concat(r({key:t.key,value:a,valueSpec:u,style:i,styleSpec:o,expressionContext:"property",propertyType:e,propertyKey:s}))}function Kr(t){return Xr(t,"paint")}function Yr(t){return Xr(t,"layout")}function Jr(t){let e=[];const n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new it(r,n,'either "type" or "ref" is required'));let a=Nr(n.type);const s=Nr(n.ref);if(n.id){const o=Nr(n.id);for(let a=0;a<t.arrayIndex;a++){const t=i.layers[a];Nr(t.id)===o&&e.push(new it(r,n.id,`duplicate layer id "${n.id}", previously used at line ${t.id.__line__}`))}}if("ref"in n){let t;["type","source","source-layer","filter","layout"].forEach((t=>{t in n&&e.push(new it(r,n[t],`"${t}" is prohibited for ref layers`))})),i.layers.forEach((e=>{Nr(e.id)===s&&(t=e)})),t?t.ref?e.push(new it(r,n.ref,"ref cannot reference another ref layer")):a=Nr(t.type):e.push(new it(r,n.ref,`ref layer "${s}" not found`))}else if("background"!==a)if(n.source){const t=i.sources&&i.sources[n.source],o=t&&Nr(t.type);t?"vector"===o&&"raster"===a?e.push(new it(r,n.source,`layer "${n.id}" requires a raster source`)):"raster-dem"!==o&&"hillshade"===a?e.push(new it(r,n.source,`layer "${n.id}" requires a raster-dem source`)):"raster"===o&&"raster"!==a?e.push(new it(r,n.source,`layer "${n.id}" requires a vector source`)):"vector"!==o||n["source-layer"]?"raster-dem"===o&&"hillshade"!==a?e.push(new it(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!n.paint||!n.paint["line-gradient"]||"geojson"===o&&t.lineMetrics||e.push(new it(r,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new it(r,n,`layer "${n.id}" must specify a "source-layer"`)):e.push(new it(r,n.source,`source "${n.source}" not found`))}else e.push(new it(r,n,'missing required property "source"'));return e=e.concat($r({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,objectElementValidators:{"*":()=>[],type:()=>t.validateSpec({key:`${r}.type`,value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,object:n,objectKey:"type"}),filter:Wr,layout:t=>$r({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,objectElementValidators:{"*":t=>Yr(ot({layerType:a},t))}}),paint:t=>$r({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,validateSpec:t.validateSpec,objectElementValidators:{"*":t=>Kr(ot({layerType:a},t))}})}})),e}function Qr(t){const e=t.value,n=t.key,r=cr(e);return"string"!==r?[new it(n,e,`string expected, ${r} found`)]:[]}const ti={promoteId:function(t){let{key:e,value:n}=t;if("string"===cr(n))return Qr({key:e,value:n});{const t=[];for(const r in n)t.push(...Qr({key:`${e}.${r}`,value:n[r]}));return t}}};function ei(t){const e=t.value,n=t.key,r=t.styleSpec,i=t.style,o=t.validateSpec;if(!e.type)return[new it(n,e,'"type" is required')];const a=Nr(e.type);let s;switch(a){case"vector":case"raster":return s=$r({key:n,value:e,valueSpec:r[`source_${a.replace("-","_")}`],style:t.style,styleSpec:r,objectElementValidators:ti,validateSpec:o}),s;case"raster-dem":return s=function(t){var e;const n=null!==(e=t.sourceName)&&void 0!==e?e:"",r=t.value,i=t.styleSpec,o=i.source_raster_dem,a=t.style;let s=[];const l=cr(r);if(void 0===r)return s;if("object"!==l)return s.push(new it("source_raster_dem",r,`object expected, ${l} found`)),s;const c="custom"===Nr(r.encoding),u=["redFactor","greenFactor","blueFactor","baseShift"],h=t.value.encoding?`"${t.value.encoding}"`:"Default";for(const d in r)!c&&u.includes(d)?s.push(new it(d,r[d],`In "${n}": "${d}" is only valid when "encoding" is set to "custom". ${h} encoding found`)):o[d]?s=s.concat(t.validateSpec({key:d,value:r[d],valueSpec:o[d],validateSpec:t.validateSpec,style:a,styleSpec:i})):s.push(new it(d,r[d],`unknown property "${d}"`));return s}({sourceName:n,value:e,style:t.style,styleSpec:r,validateSpec:o}),s;case"geojson":if(s=$r({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r,validateSpec:o,objectElementValidators:ti}),e.cluster)for(const t in e.clusterProperties){const[r,i]=e.clusterProperties[t],a="string"==typeof r?[r,["accumulated"],["get",t]]:r;s.push(...qr({key:`${n}.${t}.map`,value:i,validateSpec:o,expressionContext:"cluster-map"})),s.push(...qr({key:`${n}.${t}.reduce`,value:a,validateSpec:o,expressionContext:"cluster-reduce"}))}return s;case"video":return $r({key:n,value:e,valueSpec:r.source_video,style:i,validateSpec:o,styleSpec:r});case"image":return $r({key:n,value:e,valueSpec:r.source_image,style:i,validateSpec:o,styleSpec:r});case"canvas":return[new it(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Hr({key:`${n}.type`,value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,validateSpec:o,styleSpec:r})}}function ni(t){const e=t.value,n=t.styleSpec,r=n.light,i=t.style;let o=[];const a=cr(e);if(void 0===e)return o;if("object"!==a)return o=o.concat([new it("light",e,`object expected, ${a} found`)]),o;for(const s in e){const a=s.match(/^(.*)-transition$/);o=o.concat(a&&r[a[1]]&&r[a[1]].transition?t.validateSpec({key:s,value:e[s],valueSpec:n.transition,validateSpec:t.validateSpec,style:i,styleSpec:n}):r[s]?t.validateSpec({key:s,value:e[s],valueSpec:r[s],validateSpec:t.validateSpec,style:i,styleSpec:n}):[new it(s,e[s],`unknown property "${s}"`)])}return o}function ri(t){const e=t.value,n=t.styleSpec,r=n.sky,i=t.style,o=cr(e);if(void 0===e)return[];if("object"!==o)return[new it("sky",e,`object expected, ${o} found`)];let a=[];for(const s in e)a=a.concat(r[s]?t.validateSpec({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n}):[new it(s,e[s],`unknown property "${s}"`)]);return a}function ii(t){const e=t.value,n=t.styleSpec,r=n.terrain,i=t.style;let o=[];const a=cr(e);if(void 0===e)return o;if("object"!==a)return o=o.concat([new it("terrain",e,`object expected, ${a} found`)]),o;for(const s in e)o=o.concat(r[s]?t.validateSpec({key:s,value:e[s],valueSpec:r[s],validateSpec:t.validateSpec,style:i,styleSpec:n}):[new it(s,e[s],`unknown property "${s}"`)]);return o}function oi(t){let e=[];const n=t.value,r=t.key;if(Array.isArray(n)){const i=[],o=[];for(const a in n)n[a].id&&i.includes(n[a].id)&&e.push(new it(r,n,`all the sprites' ids must be unique, but ${n[a].id} is duplicated`)),i.push(n[a].id),n[a].url&&o.includes(n[a].url)&&e.push(new it(r,n,`all the sprites' URLs must be unique, but ${n[a].url} is duplicated`)),o.push(n[a].url),e=e.concat($r({key:`${r}[${a}]`,value:n[a],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:t.validateSpec}));return e}return Qr({key:r,value:n})}const ai={"*":()=>[],array:Vr,boolean:function(t){const e=t.value,n=t.key,r=cr(e);return"boolean"!==r?[new it(n,e,`boolean expected, ${r} found`)]:[]},number:Ur,color:function(t){const e=t.key,n=t.value,r=cr(n);return"string"!==r?[new it(e,n,`color expected, ${r} found`)]:Wt.parse(String(n))?[]:[new it(e,n,`color expected, "${n}" found`)]},constants:Br,enum:Hr,filter:Wr,function:Zr,layer:Jr,object:$r,source:ei,light:ni,sky:ri,terrain:ii,projection:function(t){const e=t.value,n=t.styleSpec,r=n.projection,i=t.style,o=cr(e);if(void 0===e)return[];if("object"!==o)return[new it("projection",e,`object expected, ${o} found`)];let a=[];for(const s in e)a=a.concat(r[s]?t.validateSpec({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n}):[new it(s,e[s],`unknown property "${s}"`)]);return a},string:Qr,formatted:function(t){return 0===Qr(t).length?[]:qr(t)},resolvedImage:function(t){return 0===Qr(t).length?[]:qr(t)},padding:function(t){const e=t.key,n=t.value;if("array"===cr(n)){if(n.length<1||n.length>4)return[new it(e,n,`padding requires 1 to 4 values; ${n.length} values found`)];const r={type:"number"};let i=[];for(let o=0;o<n.length;o++)i=i.concat(t.validateSpec({key:`${e}[${o}]`,value:n[o],validateSpec:t.validateSpec,valueSpec:r}));return i}return Ur({key:e,value:n,valueSpec:{}})},variableAnchorOffsetCollection:function(t){const e=t.key,n=t.value,r=cr(n),i=t.styleSpec;if("array"!==r||n.length<1||n.length%2!=0)return[new it(e,n,"variableAnchorOffsetCollection requires a non-empty array of even length")];let o=[];for(let a=0;a<n.length;a+=2)o=o.concat(Hr({key:`${e}[${a}]`,value:n[a],valueSpec:i.layout_symbol["text-anchor"]})),o=o.concat(Vr({key:`${e}[${a+1}]`,value:n[a+1],valueSpec:{length:2,value:"number"},validateSpec:t.validateSpec,style:t.style,styleSpec:i}));return o},sprite:oi};function si(t){const e=t.value,n=t.valueSpec,r=t.styleSpec;return t.validateSpec=si,n.expression&&ur(Nr(e))?Zr(t):n.expression&&_r(Fr(e))?qr(t):n.type&&ai[n.type]?ai[n.type](t):$r(ot({},t,{valueSpec:n.type?r[n.type]:n}))}function li(t){const e=t.value,n=t.key,r=Qr(t);return r.length||(-1===e.indexOf("{fontstack}")&&r.push(new it(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new it(n,e,'"glyphs" url must include a "{range}" token'))),r}function ci(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H,n=[];return n=n.concat(si({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,validateSpec:si,objectElementValidators:{glyphs:li,"*":()=>[]}})),t.constants&&(n=n.concat(Br({key:"constants",value:t.constants,style:t,styleSpec:e,validateSpec:si}))),hi(n)}function ui(t){return function(e){return t({...e,validateSpec:si})}}function hi(t){return[].concat(t).sort(((t,e)=>t.line-e.line))}function di(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return hi(t.apply(this,n))}}ci.source=di(ui(ei)),ci.sprite=di(ui(oi)),ci.glyphs=di(ui(li)),ci.light=di(ui(ni)),ci.sky=di(ui(ri)),ci.terrain=di(ui(ii)),ci.layer=di(ui(Jr)),ci.filter=di(ui(Wr)),ci.paintProperty=di(ui(Kr)),ci.layoutProperty=di(ui(Yr));const pi=ci,fi=pi.light,mi=pi.sky,gi=pi.paintProperty,yi=pi.layoutProperty;function vi(t,e){let n=!1;if(e&&e.length)for(const r of e)t.fire(new Z(new Error(r.message))),n=!0;return n}class _i{constructor(t,e,n){const r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;const i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(n=i[2]);for(let t=0;t<this.d*this.d;t++){const e=i[3+t],n=i[3+t+1];r.push(e===n?null:i.subarray(e,n))}const o=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],o),this.bboxes=i.subarray(o),this.insert=this._insertReadonly}else{this.d=e+2*n;for(let t=0;t<this.d*this.d;t++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;const i=n/e*t;this.min=-i,this.max=t+i}insert(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++,void 0,void 0),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(t,e,n,r,i,o){this.cells[i].push(o)}query(t,e,n,r,i){const o=this.min,a=this.max;if(t<=o&&e<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);{const o=[];return this._forEachCell(t,e,n,r,this._queryCell,o,{},i),o}}_queryCell(t,e,n,r,i,o,a,s){const l=this.cells[i];if(null!==l){const i=this.keys,c=this.bboxes;for(let u=0;u<l.length;u++){const h=l[u];if(void 0===a[h]){const l=4*h;(s?s(c[l+0],c[l+1],c[l+2],c[l+3]):t<=c[l+2]&&e<=c[l+3]&&n>=c[l+0]&&r>=c[l+1])?(a[h]=!0,o.push(i[h])):a[h]=!1}}}}_forEachCell(t,e,n,r,i,o,a,s){const l=this._convertToCellCoord(t),c=this._convertToCellCoord(e),u=this._convertToCellCoord(n),h=this._convertToCellCoord(r);for(let d=l;d<=u;d++)for(let l=c;l<=h;l++){const c=this.d*l+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(l),this._convertFromCellCoord(d+1),this._convertFromCellCoord(l+1)))&&i.call(this,t,e,n,r,c,o,a,s))return}}_convertFromCellCoord(t){return(t-this.padding)/this.scale}_convertToCellCoord(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const t=this.cells,e=3+this.cells.length+1+1;let n=0;for(let o=0;o<this.cells.length;o++)n+=this.cells[o].length;const r=new Int32Array(e+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;let i=e;for(let o=0;o<t.length;o++){const e=t[o];r[3+o]=i,r.set(e,i),i+=e.length}return r[3+t.length]=i,r.set(this.keys,i),i+=this.keys.length,r[3+t.length+1]=i,r.set(this.bboxes,i),i+=this.bboxes.length,r.buffer}static serialize(t,e){const n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}}static deserialize(t){return new _i(t.buffer)}}const bi={};function xi(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(bi[t])throw new Error(`${t} is already registered.`);Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),bi[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}xi("Object",Object),xi("TransferableGridIndex",_i),xi("Color",Wt),xi("Error",Error),xi("AJAXError",R),xi("ResolvedImage",te),xi("StylePropertyFunction",kr),xi("StyleExpression",vr,{omit:["_evaluator"]}),xi("ZoomDependentExpression",wr),xi("ZoomConstantExpression",xr),xi("CompoundExpression",Xn,{omit:["_evaluate"]});for(const Nh in Gn)Gn[Nh]._classRegistryKey||xi(`Expression_${Nh}`,Gn[Nh]);function wi(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function Si(t){return t.$name||t.constructor._classRegistryKey}function ki(t){return!function(t){if(null===t||"object"!=typeof t)return!1;const e=Si(t);return!(!e||"Object"===e)}(t)&&(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof Blob||t instanceof Error||wi(t)||E(t)||ArrayBuffer.isView(t)||t instanceof ImageData)}function Pi(t,e){if(ki(t))return(wi(t)||E(t))&&e&&e.push(t),ArrayBuffer.isView(t)&&e&&e.push(t.buffer),t instanceof ImageData&&e&&e.push(t.data.buffer),t;if(Array.isArray(t)){const n=[];for(const r of t)n.push(Pi(r,e));return n}if("object"!=typeof t)throw new Error("can't serialize object of type "+typeof t);const n=Si(t);if(!n)throw new Error(`can't serialize object of unregistered class ${t.constructor.name}`);if(!bi[n])throw new Error(`${n} is not registered.`);const{klass:r}=bi[n],i=r.serialize?r.serialize(t,e):{};if(r.serialize){if(e&&i===e[e.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const r in t){if(!t.hasOwnProperty(r))continue;if(bi[n].omit.indexOf(r)>=0)continue;const o=t[r];i[r]=bi[n].shallow.indexOf(r)>=0?o:Pi(o,e)}t instanceof Error&&(i.message=t.message)}if(i.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==n&&(i.$name=n),i}function Ti(t){if(ki(t))return t;if(Array.isArray(t))return t.map(Ti);if("object"!=typeof t)throw new Error("can't deserialize object of type "+typeof t);const e=Si(t)||"Object";if(!bi[e])throw new Error(`can't deserialize unregistered class ${e}`);const{klass:n}=bi[e];if(!n)throw new Error(`can't deserialize unregistered class ${e}`);if(n.deserialize)return n.deserialize(t);const r=Object.create(n.prototype);for(const i of Object.keys(t)){if("$name"===i)continue;const n=t[i];r[i]=bi[e].shallow.indexOf(i)>=0?n:Ti(n)}return r}class Ei{constructor(){this.first=!0}update(t,e){const n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))}}const Ci={"Latin-1 Supplement":t=>t>=128&&t<=255,"Hangul Jamo":t=>t>=4352&&t<=4607,Khmer:t=>t>=6016&&t<=6143,"General Punctuation":t=>t>=8192&&t<=8303,"Letterlike Symbols":t=>t>=8448&&t<=8527,"Number Forms":t=>t>=8528&&t<=8591,"Miscellaneous Technical":t=>t>=8960&&t<=9215,"Control Pictures":t=>t>=9216&&t<=9279,"Optical Character Recognition":t=>t>=9280&&t<=9311,"Enclosed Alphanumerics":t=>t>=9312&&t<=9471,"Geometric Shapes":t=>t>=9632&&t<=9727,"Miscellaneous Symbols":t=>t>=9728&&t<=9983,"Miscellaneous Symbols and Arrows":t=>t>=11008&&t<=11263,"Ideographic Description Characters":t=>t>=12272&&t<=12287,"CJK Symbols and Punctuation":t=>t>=12288&&t<=12351,Katakana:t=>t>=12448&&t<=12543,Kanbun:t=>t>=12688&&t<=12703,"CJK Strokes":t=>t>=12736&&t<=12783,"Enclosed CJK Letters and Months":t=>t>=12800&&t<=13055,"CJK Compatibility":t=>t>=13056&&t<=13311,"Yijing Hexagram Symbols":t=>t>=19904&&t<=19967,"Private Use Area":t=>t>=57344&&t<=63743,"Vertical Forms":t=>t>=65040&&t<=65055,"CJK Compatibility Forms":t=>t>=65072&&t<=65103,"Small Form Variants":t=>t>=65104&&t<=65135,"Halfwidth and Fullwidth Forms":t=>t>=65280&&t<=65519};function Ai(t){for(const e of t)if(Di(e.charCodeAt(0)))return!0;return!1}function Mi(t){for(const e of t)if(!zi(e.charCodeAt(0)))return!1;return!0}function Oi(t){const e=t.map((t=>{try{return new RegExp(`\\p{sc=${t}}`,"u").source}catch(t){return null}})).filter((t=>t));return new RegExp(e.join("|"),"u")}const Ii=Oi(["Arab","Dupl","Mong","Ougr","Syrc"]);function zi(t){return!Ii.test(String.fromCodePoint(t))}const Li=Oi(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function Di(t){return!(746!==t&&747!==t&&(t<4352||!(Ci["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||Ci["CJK Compatibility"](t)||Ci["CJK Strokes"](t)||!(!Ci["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||Ci["Enclosed CJK Letters and Months"](t)||Ci["Ideographic Description Characters"](t)||Ci.Kanbun(t)||Ci.Katakana(t)&&12540!==t||!(!Ci["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!Ci["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||Ci["Vertical Forms"](t)||Ci["Yijing Hexagram Symbols"](t)||/\p{sc=Cans}/u.test(String.fromCodePoint(t))||/\p{sc=Hang}/u.test(String.fromCodePoint(t))||Li.test(String.fromCodePoint(t)))))}function ji(t){return!(Di(t)||function(t){return!!(Ci["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||Ci["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||Ci["Letterlike Symbols"](t)||Ci["Number Forms"](t)||Ci["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||Ci["Control Pictures"](t)&&9251!==t||Ci["Optical Character Recognition"](t)||Ci["Enclosed Alphanumerics"](t)||Ci["Geometric Shapes"](t)||Ci["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||Ci["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Ci["CJK Symbols and Punctuation"](t)||Ci.Katakana(t)||Ci["Private Use Area"](t)||Ci["CJK Compatibility Forms"](t)||Ci["Small Form Variants"](t)||Ci["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}const Ri=Oi(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Bi(t){return Ri.test(String.fromCodePoint(t))}function Ni(t,e){return!(!e&&Bi(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||Ci.Khmer(t))}function Fi(t){for(const e of t)if(Bi(e.charCodeAt(0)))return!0;return!1}const $i=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(t){this.pluginStatus=t.pluginStatus,this.pluginURL=t.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(t){this.applyArabicShaping=t.applyArabicShaping,this.processBidirectionalText=t.processBidirectionalText,this.processStyledBidirectionalText=t.processStyledBidirectionalText}isParsed(){return null!=this.applyArabicShaping&&null!=this.processBidirectionalText&&null!=this.processStyledBidirectionalText}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class Vi{constructor(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ei,this.transition={})}isSupportedScript(t){return function(t,e){for(const n of t)if(!Ni(n.charCodeAt(0),e))return!1;return!0}(t,"loaded"===$i.getRTLTextPluginStatus())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}}}class Ui{constructor(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(ur(t))return new kr(t,e);if(_r(t)){const n=Sr(t,e);if("error"===n.result)throw new Error(n.value.map((t=>`${t.key}: ${t.message}`)).join(", "));return n.value}{let n=t;return"color"===e.type&&"string"==typeof t?n=Wt.parse(t):"padding"!==e.type||"number"!=typeof t&&!Array.isArray(t)?"variableAnchorOffsetCollection"===e.type&&Array.isArray(t)&&(n=Qt.parse(t)):n=Yt.parse(t),{kind:"constant",evaluate:()=>n}}}(void 0===e?t.specification.default:e,t.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(t,e,n){return this.property.possiblyEvaluate(this,t,e,n)}}class Zi{constructor(t){this.property=t,this.value=new Ui(t,void 0)}transitioned(t,e){return new Hi(this.property,this.value,e,y({},t.transition,this.transition),t.now)}untransitioned(){return new Hi(this.property,this.value,null,{},0)}}class qi{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return x(this._values[t].value.value)}setValue(t,e){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Zi(this._values[t].property)),this._values[t].value=new Ui(this._values[t].property,null===e?void 0:x(e))}getTransition(t){return x(this._values[t].transition)}setTransition(t,e){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Zi(this._values[t].property)),this._values[t].transition=x(e)||void 0}serialize(){const t={};for(const e of Object.keys(this._values)){const n=this.getValue(e);void 0!==n&&(t[e]=n);const r=this.getTransition(e);void 0!==r&&(t[`${e}-transition`]=r)}return t}transitioned(t,e){const n=new Wi(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].transitioned(t,e._values[r]);return n}untransitioned(){const t=new Wi(this._properties);for(const e of Object.keys(this._values))t._values[e]=this._values[e].untransitioned();return t}}class Hi{constructor(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)}possiblyEvaluate(t,e,n){const r=t.now||0,i=this.value.possiblyEvaluate(t,e,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(t,e,n);{const a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e,n),i,function(t){if(t<=0)return 0;if(t>=1)return 1;const e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}(a))}}return i}}class Wi{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,e,n){const r=new Ki(this._properties);for(const i of Object.keys(this._values))r._values[i]=this._values[i].possiblyEvaluate(t,e,n);return r}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class Gi{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}hasValue(t){return void 0!==this._values[t].value}getValue(t){return x(this._values[t].value)}setValue(t,e){this._values[t]=new Ui(this._values[t].property,null===e?void 0:x(e))}serialize(){const t={};for(const e of Object.keys(this._values)){const n=this.getValue(e);void 0!==n&&(t[e]=n)}return t}possiblyEvaluate(t,e,n){const r=new Ki(this._properties);for(const i of Object.keys(this._values))r._values[i]=this._values[i].possiblyEvaluate(t,e,n);return r}}class Xi{constructor(t,e,n){this.property=t,this.value=e,this.parameters=n}isConstant(){return"constant"===this.value.kind}constantOr(t){return"constant"===this.value.kind?this.value.value:t}evaluate(t,e,n,r){return this.property.evaluate(this.value,this.parameters,t,e,n,r)}}class Ki{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class Yi{constructor(t){this.specification=t}possiblyEvaluate(t,e){if(t.isDataDriven())throw new Error("Value should not be data driven");return t.expression.evaluate(e)}interpolate(t,e,n){const r=Me[this.specification.type];return r?r(t,e,n):t}}class Ji{constructor(t,e){this.specification=t,this.overrides=e}possiblyEvaluate(t,e,n,r){return new Xi(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},n,r)}:t.expression,e)}interpolate(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new Xi(this,{kind:"constant",value:void 0},t.parameters);const r=Me[this.specification.type];if(r){const i=r(t.value.value,e.value.value,n);return new Xi(this,{kind:"constant",value:i},t.parameters)}return t}evaluate(t,e,n,r,i,o){return"constant"===t.kind?t.value:t.evaluate(e,n,r,i,o)}}class Qi extends Ji{possiblyEvaluate(t,e,n,r){if(void 0===t.value)return new Xi(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){const i=t.expression.evaluate(e,null,{},n,r),o="resolvedImage"===t.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,e);return new Xi(this,{kind:"constant",value:a},e)}if("camera"===t.expression.kind){const n=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new Xi(this,{kind:"constant",value:n},e)}return new Xi(this,t.expression,e)}evaluate(t,e,n,r,i,o){if("source"===t.kind){const a=t.evaluate(e,n,r,i,o);return this._calculate(a,a,a,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,r),t.evaluate({zoom:Math.floor(e.zoom)},n,r),t.evaluate({zoom:Math.floor(e.zoom)+1},n,r),e):t.value}_calculate(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}}interpolate(t){return t}}class to{constructor(t){this.specification=t}possiblyEvaluate(t,e,n,r){if(void 0!==t.value){if("constant"===t.expression.kind){const i=t.expression.evaluate(e,null,{},n,r);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate(new Vi(Math.floor(e.zoom-1),e)),t.expression.evaluate(new Vi(Math.floor(e.zoom),e)),t.expression.evaluate(new Vi(Math.floor(e.zoom+1),e)),e)}}_calculate(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}}interpolate(t){return t}}class eo{constructor(t){this.specification=t}possiblyEvaluate(t,e,n,r){return!!t.expression.evaluate(e,null,{},n,r)}interpolate(){return!1}}class no{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const e in t){const n=t[e];n.specification.overridable&&this.overridableProperties.push(e);const r=this.defaultPropertyValues[e]=new Ui(n,void 0),i=this.defaultTransitionablePropertyValues[e]=new Zi(n);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}}}xi("DataDrivenProperty",Ji),xi("DataConstantProperty",Yi),xi("CrossFadedDataDrivenProperty",Qi),xi("CrossFadedProperty",to),xi("ColorRampProperty",eo);const ro="-transition";class io extends q{constructor(t,e){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),e.layout&&(this._unevaluatedLayout=new Gi(e.layout)),e.paint)){this._transitionablePaint=new qi(e.paint);for(const e in t.paint)this.setPaintProperty(e,t.paint[e],{validate:!1});for(const e in t.layout)this.setLayoutProperty(e,t.layout[e],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ki(e.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!=e&&this._validate(yi,`layers.${this.id}.layout.${t}`,t,e,n)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)}getPaintProperty(t){return t.endsWith(ro)?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)}setPaintProperty(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e&&this._validate(gi,`layers.${this.id}.paint.${t}`,t,e,n))return!1;if(t.endsWith(ro))return this._transitionablePaint.setTransition(t.slice(0,-11),e||void 0),!1;{const n=this._transitionablePaint._values[t],r="cross-faded-data-driven"===n.property.specification["property-type"],i=n.value.isDataDriven(),o=n.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);const a=this._transitionablePaint._values[t].value;return a.isDataDriven()||i||r||this._handleOverridablePaintPropertyUpdate(t,o,a)}}_handleSpecialPaintPropertyUpdate(t){}_handleOverridablePaintPropertyUpdate(t,e,n){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),b(t,((t,e)=>!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)))}_validate(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!i||!1!==i.validate)&&vi(this,t.call(pi,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:H,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const e=this.paint.get(t);if(e instanceof Xi&&ar(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1}}const oo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ao{constructor(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class so{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function lo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,r=0;return{members:t.map((t=>{const i=oo[t.type].BYTES_PER_ELEMENT,o=n=co(n,Math.max(e,i)),a=t.components||1;return r=Math.max(r,i),n+=i*a,{name:t.name,type:t.type,components:a,offset:o}})),size:co(n,Math.max(r,e)),alignment:e}}function co(t,e){return Math.ceil(t/e)*e}class uo extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e){const n=this.length;return this.resize(n+1),this.emplace(n,t,e)}emplace(t,e,n){const r=2*t;return this.int16[r+0]=e,this.int16[r+1]=n,t}}uo.prototype.bytesPerElement=4,xi("StructArrayLayout2i4",uo);class ho extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)}emplace(t,e,n,r){const i=3*t;return this.int16[i+0]=e,this.int16[i+1]=n,this.int16[i+2]=r,t}}ho.prototype.bytesPerElement=6,xi("StructArrayLayout3i6",ho);class po extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)}emplace(t,e,n,r,i){const o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,t}}po.prototype.bytesPerElement=8,xi("StructArrayLayout4i8",po);class fo extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)}emplace(t,e,n,r,i,o,a){const s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t}}fo.prototype.bytesPerElement=12,xi("StructArrayLayout2i4i12",fo);class mo extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)}emplace(t,e,n,r,i,o,a){const s=4*t,l=8*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.uint8[l+4]=r,this.uint8[l+5]=i,this.uint8[l+6]=o,this.uint8[l+7]=a,t}}mo.prototype.bytesPerElement=8,xi("StructArrayLayout2i4ub8",mo);class go extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e){const n=this.length;return this.resize(n+1),this.emplace(n,t,e)}emplace(t,e,n){const r=2*t;return this.float32[r+0]=e,this.float32[r+1]=n,t}}go.prototype.bytesPerElement=8,xi("StructArrayLayout2f8",go);class yo extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,n,r,i,o,a,s,l,c){const u=this.length;return this.resize(u+1),this.emplace(u,t,e,n,r,i,o,a,s,l,c)}emplace(t,e,n,r,i,o,a,s,l,c,u){const h=10*t;return this.uint16[h+0]=e,this.uint16[h+1]=n,this.uint16[h+2]=r,this.uint16[h+3]=i,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=l,this.uint16[h+8]=c,this.uint16[h+9]=u,t}}yo.prototype.bytesPerElement=20,xi("StructArrayLayout10ui20",yo);class vo extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,n,r,i,o,a,s,l,c,u,h){const d=this.length;return this.resize(d+1),this.emplace(d,t,e,n,r,i,o,a,s,l,c,u,h)}emplace(t,e,n,r,i,o,a,s,l,c,u,h,d){const p=12*t;return this.int16[p+0]=e,this.int16[p+1]=n,this.int16[p+2]=r,this.int16[p+3]=i,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=h,this.int16[p+11]=d,t}}vo.prototype.bytesPerElement=24,xi("StructArrayLayout4i4ui4i24",vo);class _o extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)}emplace(t,e,n,r){const i=3*t;return this.float32[i+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t}}_o.prototype.bytesPerElement=12,xi("StructArrayLayout3f12",_o);class bo extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint32[1*t+0]=e,t}}bo.prototype.bytesPerElement=4,xi("StructArrayLayout1ul4",bo);class xo extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,n,r,i,o,a,s,l){const c=this.length;return this.resize(c+1),this.emplace(c,t,e,n,r,i,o,a,s,l)}emplace(t,e,n,r,i,o,a,s,l,c){const u=10*t,h=5*t;return this.int16[u+0]=e,this.int16[u+1]=n,this.int16[u+2]=r,this.int16[u+3]=i,this.int16[u+4]=o,this.int16[u+5]=a,this.uint32[h+3]=s,this.uint16[u+8]=l,this.uint16[u+9]=c,t}}xo.prototype.bytesPerElement=20,xi("StructArrayLayout6i1ul2ui20",xo);class wo extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)}emplace(t,e,n,r,i,o,a){const s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t}}wo.prototype.bytesPerElement=12,xi("StructArrayLayout2i2i2i12",wo);class So extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,n,r,i){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,r,i)}emplace(t,e,n,r,i,o){const a=4*t,s=8*t;return this.float32[a+0]=e,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,t}}So.prototype.bytesPerElement=16,xi("StructArrayLayout2f1f2i16",So);class ko extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,e,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)}emplace(t,e,n,r,i,o,a){const s=16*t,l=4*t,c=8*t;return this.uint8[s+0]=e,this.uint8[s+1]=n,this.float32[l+1]=r,this.float32[l+2]=i,this.int16[c+6]=o,this.int16[c+7]=a,t}}ko.prototype.bytesPerElement=16,xi("StructArrayLayout2ub2f2i16",ko);class Po extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)}emplace(t,e,n,r){const i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,this.uint16[i+2]=r,t}}Po.prototype.bytesPerElement=6,xi("StructArrayLayout3ui6",Po);class To extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g){const y=this.length;return this.resize(y+1),this.emplace(y,t,e,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g)}emplace(t,e,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y){const v=24*t,_=12*t,b=48*t;return this.int16[v+0]=e,this.int16[v+1]=n,this.uint16[v+2]=r,this.uint16[v+3]=i,this.uint32[_+2]=o,this.uint32[_+3]=a,this.uint32[_+4]=s,this.uint16[v+10]=l,this.uint16[v+11]=c,this.uint16[v+12]=u,this.float32[_+7]=h,this.float32[_+8]=d,this.uint8[b+36]=p,this.uint8[b+37]=f,this.uint8[b+38]=m,this.uint32[_+10]=g,this.int16[v+22]=y,t}}To.prototype.bytesPerElement=48,xi("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",To);class Eo extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S,k,P,T,E){const C=this.length;return this.resize(C+1),this.emplace(C,t,e,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S,k,P,T,E)}emplace(t,e,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S,k,P,T,E,C){const A=32*t,M=16*t;return this.int16[A+0]=e,this.int16[A+1]=n,this.int16[A+2]=r,this.int16[A+3]=i,this.int16[A+4]=o,this.int16[A+5]=a,this.int16[A+6]=s,this.int16[A+7]=l,this.uint16[A+8]=c,this.uint16[A+9]=u,this.uint16[A+10]=h,this.uint16[A+11]=d,this.uint16[A+12]=p,this.uint16[A+13]=f,this.uint16[A+14]=m,this.uint16[A+15]=g,this.uint16[A+16]=y,this.uint16[A+17]=v,this.uint16[A+18]=_,this.uint16[A+19]=b,this.uint16[A+20]=x,this.uint16[A+21]=w,this.uint16[A+22]=S,this.uint32[M+12]=k,this.float32[M+13]=P,this.float32[M+14]=T,this.uint16[A+30]=E,this.uint16[A+31]=C,t}}Eo.prototype.bytesPerElement=64,xi("StructArrayLayout8i15ui1ul2f2ui64",Eo);class Co extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.float32[1*t+0]=e,t}}Co.prototype.bytesPerElement=4,xi("StructArrayLayout1f4",Co);class Ao extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)}emplace(t,e,n,r){const i=3*t;return this.uint16[6*t+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t}}Ao.prototype.bytesPerElement=12,xi("StructArrayLayout1ui2f12",Ao);class Mo extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e,n){const r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)}emplace(t,e,n,r){const i=4*t;return this.uint32[2*t+0]=e,this.uint16[i+2]=n,this.uint16[i+3]=r,t}}Mo.prototype.bytesPerElement=8,xi("StructArrayLayout1ul2ui8",Mo);class Oo extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,e){const n=this.length;return this.resize(n+1),this.emplace(n,t,e)}emplace(t,e,n){const r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,t}}Oo.prototype.bytesPerElement=4,xi("StructArrayLayout2ui4",Oo);class Io extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint16[1*t+0]=e,t}}Io.prototype.bytesPerElement=2,xi("StructArrayLayout1ui2",Io);class zo extends so{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,e,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)}emplace(t,e,n,r,i){const o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,t}}zo.prototype.bytesPerElement=16,xi("StructArrayLayout4f16",zo);class Lo extends ao{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new o(this.anchorPointX,this.anchorPointY)}}Lo.prototype.size=20;class Do extends xo{get(t){return new Lo(this,t)}}xi("CollisionBoxArray",Do);class jo extends ao{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(t){this._structArray.uint8[this._pos1+37]=t}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(t){this._structArray.uint8[this._pos1+38]=t}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(t){this._structArray.uint32[this._pos4+10]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}jo.prototype.size=48;class Ro extends To{get(t){return new jo(this,t)}}xi("PlacedSymbolArray",Ro);class Bo extends ao{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(t){this._structArray.uint32[this._pos4+12]=t}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Bo.prototype.size=64;class No extends Eo{get(t){return new Bo(this,t)}}xi("SymbolInstanceArray",No);class Fo extends Co{getoffsetX(t){return this.float32[1*t+0]}}xi("GlyphOffsetArray",Fo);class $o extends ho{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}xi("SymbolLineVertexArray",$o);class Vo extends ao{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Vo.prototype.size=12;class Uo extends Ao{get(t){return new Vo(this,t)}}xi("TextAnchorOffsetArray",Uo);class Zo extends ao{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Zo.prototype.size=8;class qo extends Mo{get(t){return new Zo(this,t)}}xi("FeatureIndexArray",qo);class Ho extends uo{}class Wo extends uo{}class Go extends uo{}class Xo extends fo{}class Ko extends mo{}class Yo extends go{}class Jo extends yo{}class Qo extends vo{}class ta extends _o{}class ea extends bo{}class na extends wo{}class ra extends ko{}class ia extends Po{}class oa extends Oo{}const aa=lo([{name:"a_pos",components:2,type:"Int16"}],4),{members:sa}=aa;class la{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.segments=t}prepareSegment(t,e,n,r){let i=this.segments[this.segments.length-1];return t>la.MAX_VERTEX_ARRAY_LENGTH&&S(`Max vertices per segment is ${la.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!i||i.vertexLength+t>la.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i}get(){return this.segments}destroy(){for(const t of this.segments)for(const e in t.vaos)t.vaos[e].destroy()}static simpleSegment(t,e,n,r){return new la([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])}}function ca(t,e){return 256*(t=m(Math.floor(t),0,255))+m(Math.floor(e),0,255)}la.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,xi("SegmentVector",la);const ua=lo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ha={exports:{}},da={exports:{}};da.exports=function(t,e){var n,r,i,o,a,s,l,c;for(r=t.length-(n=3&t.length),i=e,a=3432918353,s=461845907,c=0;c<r;)l=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24,++c,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&t.charCodeAt(c+2))<<16;case 2:l^=(255&t.charCodeAt(c+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(c)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0};var pa=da.exports,fa={exports:{}};fa.exports=function(t,e){for(var n,r=t.length,i=e^r,o=0;r>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&t.charCodeAt(o+2))<<16;case 2:i^=(255&t.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0};var ma=pa,ga=fa.exports;ha.exports=ma,ha.exports.murmur3=ma,ha.exports.murmur2=ga;var ya=n(ha.exports);class va{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,e,n,r){this.ids.push(_a(t)),this.positions.push(e,n,r)}getPositions(t){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const e=_a(t);let n=0,r=this.ids.length-1;for(;n<r;){const t=n+r>>1;this.ids[t]>=e?r=t:n=t+1}const i=[];for(;this.ids[n]===e;)i.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return i}static serialize(t,e){const n=new Float64Array(t.ids),r=new Uint32Array(t.positions);return ba(n,r,0,n.length-1),e&&e.push(n.buffer,r.buffer),{ids:n,positions:r}}static deserialize(t){const e=new va;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e}}function _a(t){const e=+t;return!isNaN(e)&&e<=Number.MAX_SAFE_INTEGER?e:ya(String(t))}function ba(t,e,n,r){for(;n<r;){const i=t[n+r>>1];let o=n-1,a=r+1;for(;;){do{o++}while(t[o]<i);do{a--}while(t[a]>i);if(o>=a)break;xa(t,o,a),xa(e,3*o,3*a),xa(e,3*o+1,3*a+1),xa(e,3*o+2,3*a+2)}a-n<r-a?(ba(t,e,n,a),n=a+1):(ba(t,e,a+1,r),r=a)}}function xa(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}xi("FeaturePositionMap",va);class wa{constructor(t,e){this.gl=t.gl,this.location=e}}class Sa extends wa{constructor(t,e){super(t,e),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}class ka extends wa{constructor(t,e){super(t,e),this.current=[0,0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}class Pa extends wa{constructor(t,e){super(t,e),this.current=Wt.transparent}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}const Ta=new Float32Array(16);function Ea(t){return[ca(255*t.r,255*t.g),ca(255*t.b,255*t.a)]}class Ca{constructor(t,e,n){this.value=t,this.uniformNames=e.map((t=>`u_${t}`)),this.type=n}setUniform(t,e,n){t.set(n.constantOr(this.value))}getBinding(t,e,n){return"color"===this.type?new Pa(t,e):new Sa(t,e)}}class Aa{constructor(t,e){this.uniformNames=e.map((t=>`u_${t}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr}setUniform(t,e,n,r){const i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&t.set(i)}getBinding(t,e,n){return"u_pattern"===n.substr(0,9)?new ka(t,e):new Sa(t,e)}}class Ma{constructor(t,e,n,r){this.expression=t,this.type=n,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:"Float32",components:"color"===n?2:1,offset:0}))),this.paintVertexArray=new r}populatePaintArray(t,e,n,r,i){const o=this.paintVertexArray.length,a=this.expression.evaluate(new Vi(0),e,{},r,[],i);this.paintVertexArray.resize(t),this._setPaintValue(o,t,a)}updatePaintArray(t,e,n,r){const i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(t,e,i)}_setPaintValue(t,e,n){if("color"===this.type){const r=Ea(n);for(let n=t;n<e;n++)this.paintVertexArray.emplace(n,r[0],r[1])}else{for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Oa{constructor(t,e,n,r,i,o){this.expression=t,this.uniformNames=e.map((t=>`u_${t}_t`)),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:"Float32",components:"color"===n?4:2,offset:0}))),this.paintVertexArray=new o}populatePaintArray(t,e,n,r,i){const o=this.expression.evaluate(new Vi(this.zoom),e,{},r,[],i),a=this.expression.evaluate(new Vi(this.zoom+1),e,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(s,t,o,a)}updatePaintArray(t,e,n,r){const i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(t,e,i,o)}_setPaintValue(t,e,n,r){if("color"===this.type){const i=Ea(n),o=Ea(r);for(let n=t;n<e;n++)this.paintVertexArray.emplace(n,i[0],i[1],o[0],o[1])}else{for(let i=t;i<e;i++)this.paintVertexArray.emplace(i,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,e){const n=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,r=m(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);t.set(r)}getBinding(t,e,n){return new Sa(t,e)}}class Ia{constructor(t,e,n,r,i,o){this.expression=t,this.type=e,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i}populatePaintArray(t,e,n){const r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(r,t,e.patterns&&e.patterns[this.layerId],n)}updatePaintArray(t,e,n,r,i){this._setPaintValues(t,e,n.patterns&&n.patterns[this.layerId],i)}_setPaintValues(t,e,n,r){if(!r||!n)return;const{min:i,mid:o,max:a}=n,s=r[i],l=r[o],c=r[a];if(s&&l&&c)for(let u=t;u<e;u++)this.zoomInPaintVertexArray.emplace(u,l.tl[0],l.tl[1],l.br[0],l.br[1],s.tl[0],s.tl[1],s.br[0],s.br[1],l.pixelRatio,s.pixelRatio),this.zoomOutPaintVertexArray.emplace(u,l.tl[0],l.tl[1],l.br[0],l.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1],l.pixelRatio,c.pixelRatio)}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,ua.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,ua.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class za{constructor(t,e,n){this.binders={},this._buffers=[];const r=[];for(const i in t.paint._values){if(!n(i))continue;const o=t.paint.get(i);if(!(o instanceof Xi&&ar(o.property.specification)))continue;const a=Da(i,t.type),s=o.value,l=o.property.specification.type,c=o.property.useIntegerZoom,u=o.property.specification["property-type"],h="cross-faded"===u||"cross-faded-data-driven"===u;if("constant"===s.kind)this.binders[i]=h?new Aa(s.value,a):new Ca(s.value,a,l),r.push(`/u_${i}`);else if("source"===s.kind||h){const n=ja(i,l,"source");this.binders[i]=h?new Ia(s,l,c,e,n,t.id):new Ma(s,a,l,n),r.push(`/a_${i}`)}else{const t=ja(i,l,"composite");this.binders[i]=new Oa(s,a,l,c,e,t),r.push(`/z_${i}`)}}this.cacheKey=r.sort().join("")}getMaxValue(t){const e=this.binders[t];return e instanceof Ma||e instanceof Oa?e.maxValue:0}populatePaintArrays(t,e,n,r,i){for(const o in this.binders){const a=this.binders[o];(a instanceof Ma||a instanceof Oa||a instanceof Ia)&&a.populatePaintArray(t,e,n,r,i)}}setConstantPatternPositions(t,e){for(const n in this.binders){const r=this.binders[n];r instanceof Aa&&r.setConstantPatternPositions(t,e)}}updatePaintArrays(t,e,n,r,i){let o=!1;for(const a in t){const s=e.getPositions(a);for(const e of s){const s=n.feature(e.index);for(const n in this.binders){const l=this.binders[n];if((l instanceof Ma||l instanceof Oa||l instanceof Ia)&&!0===l.expression.isStateDependent){const c=r.paint.get(n);l.expression=c.value,l.updatePaintArray(e.start,e.end,s,t[a],i),o=!0}}}}return o}defines(){const t=[];for(const e in this.binders){const n=this.binders[e];(n instanceof Ca||n instanceof Aa)&&t.push(...n.uniformNames.map((t=>`#define HAS_UNIFORM_${t}`)))}return t}getBinderAttributes(){const t=[];for(const e in this.binders){const n=this.binders[e];if(n instanceof Ma||n instanceof Oa)for(let e=0;e<n.paintVertexAttributes.length;e++)t.push(n.paintVertexAttributes[e].name);else if(n instanceof Ia)for(let e=0;e<ua.members.length;e++)t.push(ua.members[e].name)}return t}getBinderUniforms(){const t=[];for(const e in this.binders){const n=this.binders[e];if(n instanceof Ca||n instanceof Aa||n instanceof Oa)for(const e of n.uniformNames)t.push(e)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,e){const n=[];for(const r in this.binders){const i=this.binders[r];if(i instanceof Ca||i instanceof Aa||i instanceof Oa)for(const o of i.uniformNames)if(e[o]){const a=i.getBinding(t,e[o],o);n.push({name:o,property:r,binding:a})}}return n}setUniforms(t,e,n,r){for(const{name:i,property:o,binding:a}of e)this.binders[o].setUniform(a,r,n.get(o),i)}updatePaintBuffers(t){this._buffers=[];for(const e in this.binders){const n=this.binders[e];if(t&&n instanceof Ia){const e=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;e&&this._buffers.push(e)}else(n instanceof Ma||n instanceof Oa)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}upload(t){for(const e in this.binders){const n=this.binders[e];(n instanceof Ma||n instanceof Oa||n instanceof Ia)&&n.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const e=this.binders[t];(e instanceof Ma||e instanceof Oa||e instanceof Ia)&&e.destroy()}}}class La{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;this.programConfigurations={};for(const r of t)this.programConfigurations[r.id]=new za(r,e,n);this.needsUpload=!1,this._featureMap=new va,this._bufferOffset=0}populatePaintArrays(t,e,n,r,i,o){for(const a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(t,e,r,i,o);void 0!==e.id&&this._featureMap.add(e.id,n,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,e,n,r){for(const i of n)this.needsUpload=this.programConfigurations[i.id].updatePaintArrays(t,this._featureMap,e,i,r)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}function Da(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(`${e}-`,"").replace(/-/g,"_")]}function ja(t,e,n){const r={color:{source:go,composite:zo},number:{source:Co,composite:go}},i=function(t){return{"line-pattern":{source:Jo,composite:Jo},"fill-pattern":{source:Jo,composite:Jo},"fill-extrusion-pattern":{source:Jo,composite:Jo}}[t]}(t);return i&&i[n]||r[e][n]}xi("ConstantBinder",Ca),xi("CrossFadedConstantBinder",Aa),xi("SourceExpressionBinder",Ma),xi("CrossFadedCompositeBinder",Ia),xi("CompositeExpressionBinder",Oa),xi("ProgramConfiguration",za,{omit:["_buffers"]}),xi("ProgramConfigurationSet",La);const Ra=8192,Ba=Math.pow(2,14)-1,Na=-Ba-1;function Fa(t){const e=Ra/t.extent,n=t.loadGeometry();for(let r=0;r<n.length;r++){const t=n[r];for(let n=0;n<t.length;n++){const r=t[n],i=Math.round(r.x*e),o=Math.round(r.y*e);r.x=m(i,Na,Ba),r.y=m(o,Na,Ba),(i<r.x||i>r.x+1||o<r.y||o>r.y+1)&&S("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return n}function $a(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?Fa(t):[]}}function Va(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}class Ua{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Wo,this.indexArray=new ia,this.segments=new la,this.programConfigurations=new La(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id))}populate(t,e,n){const r=this.layers[0],i=[];let o=null,a=!1;"circle"===r.type&&(o=r.layout.get("circle-sort-key"),a=!o.isConstant());for(const{feature:s,id:l,index:c,sourceLayerIndex:u}of t){const t=this.layers[0]._featureFilter.needGeometry,e=$a(s,t);if(!this.layers[0]._featureFilter.filter(new Vi(this.zoom),e,n))continue;const r=a?o.evaluate(e,{},n):void 0,h={id:l,properties:s.properties,type:s.type,sourceLayerIndex:u,index:c,geometry:t?e.geometry:Fa(s),patterns:{},sortKey:r};i.push(h)}a&&i.sort(((t,e)=>t.sortKey-e.sortKey));for(const s of i){const{geometry:r,index:i,sourceLayerIndex:o}=s,a=t[i].feature;this.addFeature(s,r,i,n),e.featureIndex.insert(a,r,i,o,this.index)}}update(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,sa),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,e,n,r){for(const i of e)for(const e of i){const n=e.x,r=e.y;if(n<0||n>=Ra||r<0||r>=Ra)continue;const i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),o=i.vertexLength;Va(this.layoutVertexArray,n,r,-1,-1),Va(this.layoutVertexArray,n,r,1,-1),Va(this.layoutVertexArray,n,r,1,1),Va(this.layoutVertexArray,n,r,-1,1),this.indexArray.emplaceBack(o,o+1,o+2),this.indexArray.emplaceBack(o,o+3,o+2),i.vertexLength+=4,i.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{},r)}}function Za(t,e){for(let n=0;n<t.length;n++)if(Qa(e,t[n]))return!0;for(let n=0;n<e.length;n++)if(Qa(t,e[n]))return!0;return!!Ga(t,e)}function qa(t,e,n){return!!Qa(t,e)||!!Ka(e,t,n)}function Ha(t,e){if(1===t.length)return Ja(e,t[0]);for(let n=0;n<e.length;n++){const r=e[n];for(let e=0;e<r.length;e++)if(Qa(t,r[e]))return!0}for(let n=0;n<t.length;n++)if(Ja(e,t[n]))return!0;for(let n=0;n<e.length;n++)if(Ga(t,e[n]))return!0;return!1}function Wa(t,e,n){if(t.length>1){if(Ga(t,e))return!0;for(let r=0;r<e.length;r++)if(Ka(e[r],t,n))return!0}for(let r=0;r<t.length;r++)if(Ka(t[r],e,n))return!0;return!1}function Ga(t,e){if(0===t.length||0===e.length)return!1;for(let n=0;n<t.length-1;n++){const r=t[n],i=t[n+1];for(let t=0;t<e.length-1;t++)if(Xa(r,i,e[t],e[t+1]))return!0}return!1}function Xa(t,e,n,r){return k(t,n,r)!==k(e,n,r)&&k(t,e,n)!==k(t,e,r)}function Ka(t,e,n){const r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(let i=1;i<e.length;i++)if(Ya(t,e[i-1],e[i])<r)return!0;return!1}function Ya(t,e,n){const r=e.distSqr(n);if(0===r)return t.distSqr(e);const i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return t.distSqr(i<0?e:i>1?n:n.sub(e)._mult(i)._add(e))}function Ja(t,e){let n,r,i,o=!1;for(let a=0;a<t.length;a++){n=t[a];for(let t=0,a=n.length-1;t<n.length;a=t++)r=n[t],i=n[a],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o)}return o}function Qa(t,e){let n=!1;for(let r=0,i=t.length-1;r<t.length;i=r++){const o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ts(t,e,n){const r=n[0],i=n[2];if(t.x<r.x&&e.x<r.x||t.x>i.x&&e.x>i.x||t.y<r.y&&e.y<r.y||t.y>i.y&&e.y>i.y)return!1;const o=k(t,e,n[0]);return o!==k(t,e,n[1])||o!==k(t,e,n[2])||o!==k(t,e,n[3])}function es(t,e,n){const r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).getMaxValue(t)}function ns(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function rs(t,e,n,r,i){if(!e[0]&&!e[1])return t;const a=o.convert(e)._mult(i);"viewport"===n&&a._rotate(-r);const s=[];for(let o=0;o<t.length;o++)s.push(t[o].sub(a));return s}let is,os;xi("CircleBucket",Ua,{omit:["layers"]});var as={get paint(){return os=os||new no({"circle-radius":new Ji(H.paint_circle["circle-radius"]),"circle-color":new Ji(H.paint_circle["circle-color"]),"circle-blur":new Ji(H.paint_circle["circle-blur"]),"circle-opacity":new Ji(H.paint_circle["circle-opacity"]),"circle-translate":new Yi(H.paint_circle["circle-translate"]),"circle-translate-anchor":new Yi(H.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Yi(H.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Yi(H.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ji(H.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ji(H.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ji(H.paint_circle["circle-stroke-opacity"])})},get layout(){return is=is||new no({"circle-sort-key":new Ji(H.layout_circle["circle-sort-key"])})}},ss=1e-6,ls="undefined"!=typeof Float32Array?Float32Array:Array;function cs(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function us(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],d=e[9],p=e[10],f=e[11],m=e[12],g=e[13],y=e[14],v=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*h+w*m,t[1]=_*i+b*l+x*d+w*g,t[2]=_*o+b*c+x*p+w*y,t[3]=_*a+b*u+x*f+w*v,t[4]=(_=n[4])*r+(b=n[5])*s+(x=n[6])*h+(w=n[7])*m,t[5]=_*i+b*l+x*d+w*g,t[6]=_*o+b*c+x*p+w*y,t[7]=_*a+b*u+x*f+w*v,t[8]=(_=n[8])*r+(b=n[9])*s+(x=n[10])*h+(w=n[11])*m,t[9]=_*i+b*l+x*d+w*g,t[10]=_*o+b*c+x*p+w*y,t[11]=_*a+b*u+x*f+w*v,t[12]=(_=n[12])*r+(b=n[13])*s+(x=n[14])*h+(w=n[15])*m,t[13]=_*i+b*l+x*d+w*g,t[14]=_*o+b*c+x*p+w*y,t[15]=_*a+b*u+x*f+w*v,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var hs,ds=us;function ps(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}hs=new ls(4),ls!=Float32Array&&(hs[0]=0,hs[1]=0,hs[2]=0,hs[3]=0);class fs extends io{constructor(t){super(t,as)}createBucket(t){return new Ua(t)}queryRadius(t){const e=t;return es("circle-radius",this,e)+es("circle-stroke-width",this,e)+ns(this.paint.get("circle-translate"))}queryIntersectsFeature(t,e,n,r,i,o,a,s){const l=rs(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),c=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),u="map"===this.paint.get("circle-pitch-alignment"),h=u?l:function(t,e){return t.map((t=>ms(t,e)))}(l,s),d=u?c*a:c;for(const p of r)for(const t of p){const e=u?t:ms(t,s);let n=d;const r=ps([],[t.x,t.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?n*=r[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(n*=o.cameraToCenterDistance/r[3]),qa(h,e,n))return!0}return!1}}function ms(t,e){const n=ps([],[t.x,t.y,0,1],e);return new o(n[0]/n[3],n[1]/n[3])}class gs extends Ua{}let ys;xi("HeatmapBucket",gs,{omit:["layers"]});var vs={get paint(){return ys=ys||new no({"heatmap-radius":new Ji(H.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ji(H.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Yi(H.paint_heatmap["heatmap-intensity"]),"heatmap-color":new eo(H.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Yi(H.paint_heatmap["heatmap-opacity"])})}};function _s(t,e,n,r){let{width:i,height:o}=e;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError(`mismatched image size. expected: ${r.length} but got: ${i*o*n}`)}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function bs(t,e,n){let{width:r,height:i}=e;if(r===t.width&&i===t.height)return;const o=_s({},{width:r,height:i},n);xs(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}function xs(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");const a=t.data,s=e.data;if(a===s)throw new Error("srcData equals dstData, so image is already copied");for(let l=0;l<i.height;l++){const c=((n.y+l)*t.width+n.x)*o,u=((r.y+l)*e.width+r.x)*o;for(let t=0;t<i.width*o;t++)s[u+t]=a[c+t]}return e}class ws{constructor(t,e){_s(this,t,1,e)}resize(t){bs(this,t,1)}clone(){return new ws({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,n,r,i){xs(t,e,n,r,i,1)}}class Ss{constructor(t,e){_s(this,t,4,e)}resize(t){bs(this,t,4)}replace(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new Ss({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,n,r,i){xs(t,e,n,r,i,4)}}function ks(t){const e={},n=t.resolution||256,r=t.clips?t.clips.length:1,i=t.image||new Ss({width:n,height:r});if(Math.log(n)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${n}`);const o=(n,r,o)=>{e[t.evaluationKey]=o;const a=t.expression.evaluate(e);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(t.clips)for(let a=0,s=0;a<r;++a,s+=4*n)for(let e=0,r=0;e<n;e++,r+=4){const i=e/(n-1),{start:l,end:c}=t.clips[a];o(s,r,l*(1-i)+c*i)}else for(let a=0,s=0;a<n;a++,s+=4)o(0,s,a/(n-1));return i}xi("AlphaImage",ws),xi("RGBAImage",Ss);const Ps="big-fb";class Ts extends io{createBucket(t){return new gs(t)}constructor(t){super(t,vs),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){"heatmap-color"===t&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=ks({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Ps)&&this.heatmapFbos.delete(Ps)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}let Es;var Cs={get paint(){return Es=Es||new no({"hillshade-illumination-direction":new Yi(H.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Yi(H.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Yi(H.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Yi(H.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Yi(H.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Yi(H.paint_hillshade["hillshade-accent-color"])})}};class As extends io{constructor(t){super(t,Cs)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}const Ms=lo([{name:"a_pos",components:2,type:"Int16"}],4),{members:Os}=Ms;function Is(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=e&&e.length,i=r?e[0]*n:t.length;let o=zs(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c;if(r&&(o=function(t,e,n,r){const i=[];for(let o=0,a=e.length;o<a;o++){const n=zs(t,e[o]*r,o<a-1?e[o+1]*r:t.length,r,!1);n===n.next&&(n.steiner=!0),i.push(Zs(n))}i.sort(Fs);for(let o=0;o<i.length;o++)n=$s(i[o],n);return n}(t,e,o,n)),t.length>80*n){s=1/0,l=1/0;let e=-1/0,r=-1/0;for(let o=n;o<i;o+=n){const n=t[o],i=t[o+1];n<s&&(s=n),i<l&&(l=i),n>e&&(e=n),i>r&&(r=i)}c=Math.max(e-s,r-l),c=0!==c?32767/c:0}return Ds(o,a,n,s,l,c,0),a}function zs(t,e,n,r,i){let o;if(i===function(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}(t,e,n,r)>0)for(let a=e;a<n;a+=r)o=tl(a/r|0,t[a],t[a+1],o);else for(let a=n-r;a>=e;a-=r)o=tl(a/r|0,t[a],t[a+1],o);return o&&Gs(o,o.next)&&(el(o),o=o.next),o}function Ls(t,e){if(!t)return t;e||(e=t);let n,r=t;do{if(n=!1,r.steiner||!Gs(r,r.next)&&0!==Ws(r.prev,r,r.next))r=r.next;else{if(el(r),r=e=r.prev,r===r.next)break;n=!0}}while(n||r!==e);return e}function Ds(t,e,n,r,i,o,a){if(!t)return;!a&&o&&function(t,e,n,r){let i=t;do{0===i.z&&(i.z=Us(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){let e,n=1;do{let r,i=t;t=null;let o=null;for(e=0;i;){e++;let a=i,s=0;for(let t=0;t<n&&(s++,a=a.nextZ,a);t++);let l=n;for(;s>0||l>0&&a;)0!==s&&(0===l||!a||i.z<=a.z)?(r=i,i=i.nextZ,s--):(r=a,a=a.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;i=a}o.nextZ=null,n*=2}while(e>1)}(i)}(t,r,i,o);let s=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(o?Rs(t,r,i,o):js(t))e.push(l.i,t.i,c.i),el(t),t=c.next,s=c.next;else if((t=c)===s){a?1===a?Ds(t=Bs(Ls(t),e),e,n,r,i,o,2):2===a&&Ns(t,e,n,r,i,o):Ds(Ls(t),e,n,r,i,o,1);break}}}function js(t){const e=t.prev,n=t,r=t.next;if(Ws(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,h=s<l?s<c?s:c:l<c?l:c,d=i>o?i>a?i:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c;let f=r.next;for(;f!==e;){if(f.x>=u&&f.x<=d&&f.y>=h&&f.y<=p&&qs(i,s,o,l,a,c,f.x,f.y)&&Ws(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function Rs(t,e,n,r){const i=t.prev,o=t,a=t.next;if(Ws(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,h=o.y,d=a.y,p=s<l?s<c?s:c:l<c?l:c,f=u<h?u<d?u:d:h<d?h:d,m=s>l?s>c?s:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,y=Us(p,f,e,n,r),v=Us(m,g,e,n,r);let _=t.prevZ,b=t.nextZ;for(;_&&_.z>=y&&b&&b.z<=v;){if(_.x>=p&&_.x<=m&&_.y>=f&&_.y<=g&&_!==i&&_!==a&&qs(s,u,l,h,c,d,_.x,_.y)&&Ws(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==a&&qs(s,u,l,h,c,d,b.x,b.y)&&Ws(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;_&&_.z>=y;){if(_.x>=p&&_.x<=m&&_.y>=f&&_.y<=g&&_!==i&&_!==a&&qs(s,u,l,h,c,d,_.x,_.y)&&Ws(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=v;){if(b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==a&&qs(s,u,l,h,c,d,b.x,b.y)&&Ws(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Bs(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Gs(r,i)&&Xs(r,n,n.next,i)&&Js(r,i)&&Js(i,r)&&(e.push(r.i,n.i,i.i),el(n),el(n.next),n=t=i),n=n.next}while(n!==t);return Ls(n)}function Ns(t,e,n,r,i,o){let a=t;do{let t=a.next.next;for(;t!==a.prev;){if(a.i!==t.i&&Hs(a,t)){let s=Qs(a,t);return a=Ls(a,a.next),s=Ls(s,s.next),Ds(a,e,n,r,i,o,0),void Ds(s,e,n,r,i,o,0)}t=t.next}a=a.next}while(a!==t)}function Fs(t,e){return t.x-e.x}function $s(t,e){const n=function(t,e){let n=e;const r=t.x,i=t.y;let o,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const t=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=r&&t>a&&(a=t,o=n.x<n.next.x?n:n.next,t===r))return o}n=n.next}while(n!==e);if(!o)return null;const s=o,l=o.x,c=o.y;let u=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&qs(i<c?r:a,i,l,c,i<c?a:r,i,n.x,n.y)){const e=Math.abs(i-n.y)/(r-n.x);Js(n,t)&&(e<u||e===u&&(n.x>o.x||n.x===o.x&&Vs(o,n)))&&(o=n,u=e)}n=n.next}while(n!==s);return o}(t,e);if(!n)return e;const r=Qs(n,t);return Ls(r,r.next),Ls(n,n.next)}function Vs(t,e){return Ws(t.prev,t,e.prev)<0&&Ws(e.next,t,t.next)<0}function Us(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Zs(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function qs(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Hs(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Xs(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Js(t,e)&&Js(e,t)&&function(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(Ws(t.prev,t,e.prev)||Ws(t,e.prev,e))||Gs(t,e)&&Ws(t.prev,t,t.next)>0&&Ws(e.prev,e,e.next)>0)}function Ws(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Gs(t,e){return t.x===e.x&&t.y===e.y}function Xs(t,e,n,r){const i=Ys(Ws(t,e,n)),o=Ys(Ws(t,e,r)),a=Ys(Ws(n,r,t)),s=Ys(Ws(n,r,e));return i!==o&&a!==s||!(0!==i||!Ks(t,n,e))||!(0!==o||!Ks(t,r,e))||!(0!==a||!Ks(n,t,r))||!(0!==s||!Ks(n,e,r))}function Ks(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Ys(t){return t>0?1:t<0?-1:0}function Js(t,e){return Ws(t.prev,t,t.next)<0?Ws(t,e,t.next)>=0&&Ws(t,t.prev,e)>=0:Ws(t,e,t.prev)<0||Ws(t,t.next,e)<0}function Qs(t,e){const n=nl(t.i,t.x,t.y),r=nl(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function tl(t,e,n,r){const i=nl(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function el(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function nl(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function rl(t,e,n){const r=n.patternDependencies;let i=!1;for(const o of e){const e=o.paint.get(`${t}-pattern`);e.isConstant()||(i=!0);const n=e.constantOr(null);n&&(i=!0,r[n.to]=!0,r[n.from]=!0)}return i}function il(t,e,n,r,i){const o=i.patternDependencies;for(const a of e){const e=a.paint.get(`${t}-pattern`).value;if("constant"!==e.kind){let t=e.evaluate({zoom:r-1},n,{},i.availableImages),s=e.evaluate({zoom:r},n,{},i.availableImages),l=e.evaluate({zoom:r+1},n,{},i.availableImages);t=t&&t.name?t.name:t,s=s&&s.name?s.name:s,l=l&&l.name?l.name:l,o[t]=!0,o[s]=!0,o[l]=!0,n.patterns[a.id]={min:t,mid:s,max:l}}}return n}class ol{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Go,this.indexArray=new ia,this.indexArray2=new oa,this.programConfigurations=new La(t.layers,t.zoom),this.segments=new la,this.segments2=new la,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id))}populate(t,e,n){this.hasPattern=rl("fill",this.layers,e);const r=this.layers[0].layout.get("fill-sort-key"),i=!r.isConstant(),o=[];for(const{feature:a,id:s,index:l,sourceLayerIndex:c}of t){const t=this.layers[0]._featureFilter.needGeometry,u=$a(a,t);if(!this.layers[0]._featureFilter.filter(new Vi(this.zoom),u,n))continue;const h=i?r.evaluate(u,{},n,e.availableImages):void 0,d={id:s,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:t?u.geometry:Fa(a),patterns:{},sortKey:h};o.push(d)}i&&o.sort(((t,e)=>t.sortKey-e.sortKey));for(const a of o){const{geometry:r,index:i,sourceLayerIndex:o}=a;if(this.hasPattern){const t=il("fill",this.layers,a,this.zoom,e);this.patternFeatures.push(t)}else this.addFeature(a,r,i,n,{});e.featureIndex.insert(t[i].feature,r,i,o,this.index)}}update(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)}addFeatures(t,e,n){for(const r of this.patternFeatures)this.addFeature(r,r.geometry,r.index,e,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Os),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,e,n,r,i){for(const o of _n(e,500)){let t=0;for(const s of o)t+=s.length;const e=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),n=e.vertexLength,r=[],i=[];for(const s of o){if(0===s.length)continue;s!==o[0]&&i.push(r.length/2);const t=this.segments2.prepareSegment(s.length,this.layoutVertexArray,this.indexArray2),e=t.vertexLength;this.layoutVertexArray.emplaceBack(s[0].x,s[0].y),this.indexArray2.emplaceBack(e+s.length-1,e),r.push(s[0].x),r.push(s[0].y);for(let n=1;n<s.length;n++)this.layoutVertexArray.emplaceBack(s[n].x,s[n].y),this.indexArray2.emplaceBack(e+n-1,e+n),r.push(s[n].x),r.push(s[n].y);t.vertexLength+=s.length,t.primitiveLength+=s.length}const a=Is(r,i);for(let o=0;o<a.length;o+=3)this.indexArray.emplaceBack(n+a[o],n+a[o+1],n+a[o+2]);e.vertexLength+=t,e.primitiveLength+=a.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)}}let al,sl;xi("FillBucket",ol,{omit:["layers","patternFeatures"]});var ll={get paint(){return sl=sl||new no({"fill-antialias":new Yi(H.paint_fill["fill-antialias"]),"fill-opacity":new Ji(H.paint_fill["fill-opacity"]),"fill-color":new Ji(H.paint_fill["fill-color"]),"fill-outline-color":new Ji(H.paint_fill["fill-outline-color"]),"fill-translate":new Yi(H.paint_fill["fill-translate"]),"fill-translate-anchor":new Yi(H.paint_fill["fill-translate-anchor"]),"fill-pattern":new Qi(H.paint_fill["fill-pattern"])})},get layout(){return al=al||new no({"fill-sort-key":new Ji(H.layout_fill["fill-sort-key"])})}};class cl extends io{constructor(t){super(t,ll)}recalculate(t,e){super.recalculate(t,e);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new ol(t)}queryRadius(){return ns(this.paint.get("fill-translate"))}queryIntersectsFeature(t,e,n,r,i,o,a){return Ha(rs(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)}isTileClipped(){return!0}}const ul=lo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),hl=lo([{name:"a_centroid",components:2,type:"Int16"}],4),{members:dl}=ul;var pl={},fl=r,ml=gl;function gl(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(yl,this,e)}function yl(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function vl(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)r+=((n=t[a]).x-(e=t[i]).x)*(e.y+n.y);return r}gl.types=["Unknown","Point","LineString","Polygon"],gl.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,i=0,o=0,a=0,s=[];t.pos<n;){if(i<=0){var l=t.readVarint();r=7&l,i=l>>3}if(i--,1===r||2===r)o+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new fl(o,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},gl.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,c=-1/0;t.pos<e;){if(r<=0){var u=t.readVarint();n=7&u,r=u>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=t.readSVarint())<l&&(l=o),o>c&&(c=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,c]},gl.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,l=this.loadGeometry(),c=gl.types[this.type];function u(t){for(var e=0;e<t.length;e++){var n=t[e];t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(r=0;r<l.length;r++)h[r]=l[r][0];u(l=h);break;case 2:for(r=0;r<l.length;r++)u(l[r]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=vl(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)u(l[r][i])}1===l.length?l=l[0]:c="Multi"+c;var d={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var _l=ml,bl=xl;function xl(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(wl,this,e),this.length=this._features.length}function wl(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}xl.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new _l(this._pbf,e,this.extent,this._keys,this._values)};var Sl=bl;function kl(t,e,n){if(3===t){var r=new Sl(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}pl.VectorTile=function(t,e){this.layers=t.readFields(kl,{},e)},pl.VectorTileFeature=ml,pl.VectorTileLayer=bl;const Pl=pl.VectorTileFeature.types,Tl=Math.pow(2,13);function El(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*Tl)+a,i*Tl*2,o*Tl*2,Math.round(s))}class Cl{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Xo,this.centroidVertexArray=new Ho,this.indexArray=new ia,this.programConfigurations=new La(t.layers,t.zoom),this.segments=new la,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id))}populate(t,e,n){this.features=[],this.hasPattern=rl("fill-extrusion",this.layers,e);for(const{feature:r,id:i,index:o,sourceLayerIndex:a}of t){const t=this.layers[0]._featureFilter.needGeometry,s=$a(r,t);if(!this.layers[0]._featureFilter.filter(new Vi(this.zoom),s,n))continue;const l={id:i,sourceLayerIndex:a,index:o,geometry:t?s.geometry:Fa(r),properties:r.properties,type:r.type,patterns:{}};this.hasPattern?this.features.push(il("fill-extrusion",this.layers,l,this.zoom,e)):this.addFeature(l,l.geometry,o,n,{}),e.featureIndex.insert(r,l.geometry,o,a,this.index,!0)}}addFeatures(t,e,n){for(const r of this.features){const{geometry:t}=r;this.addFeature(r,t,r.index,e,n)}}update(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,dl),this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,hl.members,!0),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(t,e,n,r,i){for(const o of _n(e,500)){const e={x:0,y:0,vertexCount:0};let n=0;for(const t of o)n+=t.length;let r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const t of o){if(0===t.length)continue;if(Ml(t))continue;let n=0;for(let i=0;i<t.length;i++){const o=t[i];if(i>=1){const a=t[i-1];if(!Al(o,a)){r.vertexLength+4>la.MAX_VERTEX_ARRAY_LENGTH&&(r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const t=o.sub(a)._perp()._unit(),i=a.dist(o);n+i>32768&&(n=0),El(this.layoutVertexArray,o.x,o.y,t.x,t.y,0,0,n),El(this.layoutVertexArray,o.x,o.y,t.x,t.y,0,1,n),e.x+=2*o.x,e.y+=2*o.y,e.vertexCount+=2,n+=i,El(this.layoutVertexArray,a.x,a.y,t.x,t.y,0,0,n),El(this.layoutVertexArray,a.x,a.y,t.x,t.y,0,1,n),e.x+=2*a.x,e.y+=2*a.y,e.vertexCount+=2;const s=r.vertexLength;this.indexArray.emplaceBack(s,s+2,s+1),this.indexArray.emplaceBack(s+1,s+2,s+3),r.vertexLength+=4,r.primitiveLength+=2}}}}if(r.vertexLength+n>la.MAX_VERTEX_ARRAY_LENGTH&&(r=this.segments.prepareSegment(n,this.layoutVertexArray,this.indexArray)),"Polygon"!==Pl[t.type])continue;const i=[],a=[],s=r.vertexLength;for(const t of o)if(0!==t.length){t!==o[0]&&a.push(i.length/2);for(let n=0;n<t.length;n++){const r=t[n];El(this.layoutVertexArray,r.x,r.y,0,0,1,1,0),e.x+=r.x,e.y+=r.y,e.vertexCount+=1,i.push(r.x),i.push(r.y)}}const l=Is(i,a);for(let t=0;t<l.length;t+=3)this.indexArray.emplaceBack(s+l[t],s+l[t+2],s+l[t+1]);r.primitiveLength+=l.length/3,r.vertexLength+=n;for(let t=0;t<e.vertexCount;t++){const t=Math.floor(e.x/e.vertexCount),n=Math.floor(e.y/e.vertexCount);this.centroidVertexArray.emplaceBack(t,n)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)}}function Al(t,e){return t.x===e.x&&(t.x<0||t.x>Ra)||t.y===e.y&&(t.y<0||t.y>Ra)}function Ml(t){return t.every((t=>t.x<0))||t.every((t=>t.x>Ra))||t.every((t=>t.y<0))||t.every((t=>t.y>Ra))}let Ol;xi("FillExtrusionBucket",Cl,{omit:["layers","features"]});var Il={get paint(){return Ol=Ol||new no({"fill-extrusion-opacity":new Yi(H["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ji(H["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Yi(H["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Yi(H["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Qi(H["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ji(H["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ji(H["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Yi(H["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class zl extends io{constructor(t){super(t,Il)}createBucket(t){return new Cl(t)}queryRadius(){return ns(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(t,e,n,r,i,a,s,l){const c=rs(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),u=this.paint.get("fill-extrusion-height").evaluate(e,n),h=this.paint.get("fill-extrusion-base").evaluate(e,n),d=function(t,e){const n=[];for(const r of t){const t=[r.x,r.y,0,1];ps(t,t,e),n.push(new o(t[0]/t[3],t[1]/t[3]))}return n}(c,l),p=function(t,e,n,r){const i=[],a=[],s=r[8]*e,l=r[9]*e,c=r[10]*e,u=r[11]*e,h=r[8]*n,d=r[9]*n,p=r[10]*n,f=r[11]*n;for(const m of t){const t=[],e=[];for(const n of m){const i=n.x,a=n.y,m=r[0]*i+r[4]*a+r[12],g=r[1]*i+r[5]*a+r[13],y=r[2]*i+r[6]*a+r[14],v=r[3]*i+r[7]*a+r[15],_=y+c,b=v+u,x=m+h,w=g+d,S=y+p,k=v+f,P=new o((m+s)/b,(g+l)/b);P.z=_/b,t.push(P);const T=new o(x/k,w/k);T.z=S/k,e.push(T)}i.push(t),a.push(e)}return[i,a]}(r,h,u,l);return function(t,e,n){let r=1/0;Ha(n,e)&&(r=Dl(n,e[0]));for(let i=0;i<e.length;i++){const o=e[i],a=t[i];for(let t=0;t<o.length-1;t++){const e=o[t],i=[e,o[t+1],a[t+1],a[t],e];Za(n,i)&&(r=Math.min(r,Dl(n,i)))}}return r!==1/0&&r}(p[0],p[1],d)}}function Ll(t,e){return t.x*e.x+t.y*e.y}function Dl(t,e){if(1===t.length){let n=0;const r=e[n++];let i;for(;!i||r.equals(i);)if(i=e[n++],!i)return 1/0;for(;n<e.length;n++){const o=e[n],a=t[0],s=i.sub(r),l=o.sub(r),c=a.sub(r),u=Ll(s,s),h=Ll(s,l),d=Ll(l,l),p=Ll(c,s),f=Ll(c,l),m=u*d-h*h,g=(d*p-h*f)/m,y=(u*f-h*p)/m,v=r.z*(1-g-y)+i.z*g+o.z*y;if(isFinite(v))return v}return 1/0}{let t=1/0;for(const n of e)t=Math.min(t,n.z);return t}}const jl=lo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Rl}=jl,Bl=lo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Nl}=Bl,Fl=pl.VectorTileFeature.types,$l=Math.cos(Math.PI/180*37.5),Vl=Math.pow(2,14)/.5;class Ul{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((t=>{this.gradients[t.id]={}})),this.layoutVertexArray=new Ko,this.layoutVertexArray2=new Yo,this.indexArray=new ia,this.programConfigurations=new La(t.layers,t.zoom),this.segments=new la,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id))}populate(t,e,n){this.hasPattern=rl("line",this.layers,e);const r=this.layers[0].layout.get("line-sort-key"),i=!r.isConstant(),o=[];for(const{feature:a,id:s,index:l,sourceLayerIndex:c}of t){const t=this.layers[0]._featureFilter.needGeometry,e=$a(a,t);if(!this.layers[0]._featureFilter.filter(new Vi(this.zoom),e,n))continue;const u=i?r.evaluate(e,{},n):void 0,h={id:s,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:t?e.geometry:Fa(a),patterns:{},sortKey:u};o.push(h)}i&&o.sort(((t,e)=>t.sortKey-e.sortKey));for(const a of o){const{geometry:r,index:i,sourceLayerIndex:o}=a;if(this.hasPattern){const t=il("line",this.layers,a,this.zoom,e);this.patternFeatures.push(t)}else this.addFeature(a,r,i,n,{});e.featureIndex.insert(t[i].feature,r,i,o,this.index)}}update(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)}addFeatures(t,e,n){for(const r of this.patternFeatures)this.addFeature(r,r.geometry,r.index,e,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Nl)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Rl),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,e,n,r,i){const o=this.layers[0].layout,a=o.get("line-join").evaluate(t,{}),s=o.get("line-cap"),l=o.get("line-miter-limit"),c=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const u of e)this.addLine(u,t,a,s,l,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)}addLine(t,e,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let e=0;e<t.length-1;e++)this.totalDistance+=t[e].dist(t[e+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const a="Polygon"===Fl[e.type];let s=t.length;for(;s>=2&&t[s-1].equals(t[s-2]);)s--;let l=0;for(;l<s-1&&t[l].equals(t[l+1]);)l++;if(s<(a?3:2))return;"bevel"===n&&(i=1.05);const c=this.overscaling<=16?15*Ra/(512*this.overscaling):0,u=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let h,d,p,f,m;this.e1=this.e2=-1,a&&(h=t[s-2],m=t[l].sub(h)._unit()._perp());for(let g=l;g<s;g++){if(p=g===s-1?a?t[l+1]:void 0:t[g+1],p&&t[g].equals(p))continue;m&&(f=m),h&&(d=h),h=t[g],m=p?p.sub(h)._unit()._perp():f,f=f||m;let e=f.add(m);0===e.x&&0===e.y||e._unit();const y=f.x*m.x+f.y*m.y,v=e.x*m.x+e.y*m.y,_=0!==v?1/v:1/0,b=2*Math.sqrt(2-2*v),x=v<$l&&d&&p,w=f.x*m.y-f.y*m.x>0;if(x&&g>l){const t=h.dist(d);if(t>2*c){const e=h.sub(h.sub(d)._mult(c/t)._round());this.updateDistance(d,e),this.addCurrentVertex(e,f,0,0,u),d=e}}const S=d&&p;let k=S?n:a?"butt":r;if(S&&"round"===k&&(_<o?k="miter":_<=2&&(k="fakeround")),"miter"===k&&_>i&&(k="bevel"),"bevel"===k&&(_>2&&(k="flipbevel"),_<i&&(k="miter")),d&&this.updateDistance(d,h),"miter"===k)e._mult(_),this.addCurrentVertex(h,e,0,0,u);else if("flipbevel"===k){if(_>100)e=m.mult(-1);else{const t=_*f.add(m).mag()/f.sub(m).mag();e._perp()._mult(t*(w?-1:1))}this.addCurrentVertex(h,e,0,0,u),this.addCurrentVertex(h,e.mult(-1),0,0,u)}else if("bevel"===k||"fakeround"===k){const t=-Math.sqrt(_*_-1),e=w?t:0,n=w?0:t;if(d&&this.addCurrentVertex(h,f,e,n,u),"fakeround"===k){const t=Math.round(180*b/Math.PI/20);for(let e=1;e<t;e++){let n=e/t;if(.5!==n){const t=n-.5;n+=n*t*(n-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*t*t+(.848013+y*(.215638*y-1.06021)))}const r=m.sub(f)._mult(n)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(h,r.x,r.y,!1,w,0,u)}}p&&this.addCurrentVertex(h,m,-e,-n,u)}else if("butt"===k)this.addCurrentVertex(h,e,0,0,u);else if("square"===k){const t=d?1:-1;this.addCurrentVertex(h,e,t,t,u)}else"round"===k&&(d&&(this.addCurrentVertex(h,f,0,0,u),this.addCurrentVertex(h,f,1,1,u,!0)),p&&(this.addCurrentVertex(h,m,-1,-1,u,!0),this.addCurrentVertex(h,m,0,0,u)));if(x&&g<s-1){const t=h.dist(p);if(t>2*c){const e=h.add(p.sub(h)._mult(c/t)._round());this.updateDistance(h,e),this.addCurrentVertex(e,m,0,0,u),h=e}}}}addCurrentVertex(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=e.y*r-e.x,s=-e.y-e.x*r;this.addHalfVertex(t,e.x+e.y*n,e.y-e.x*n,o,!1,n,i),this.addHalfVertex(t,a,s,o,!0,-r,i),this.distance>Vl/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(t,e,n,r,i,o))}addHalfVertex(t,e,n,r,i,o,a){let{x:s,y:l}=t;const c=.5*(this.lineClips?this.scaledDistance*(Vl-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s<<1)+(r?1:0),(l<<1)+(i?1:0),Math.round(63*e)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&c)<<2,c>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const u=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),a.primitiveLength++),i?this.e2=u:this.e1=u}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(t,e){this.distance+=t.dist(e),this.updateScaledDistance()}}let Zl,ql;xi("LineBucket",Ul,{omit:["layers","patternFeatures"]});var Hl={get paint(){return ql=ql||new no({"line-opacity":new Ji(H.paint_line["line-opacity"]),"line-color":new Ji(H.paint_line["line-color"]),"line-translate":new Yi(H.paint_line["line-translate"]),"line-translate-anchor":new Yi(H.paint_line["line-translate-anchor"]),"line-width":new Ji(H.paint_line["line-width"]),"line-gap-width":new Ji(H.paint_line["line-gap-width"]),"line-offset":new Ji(H.paint_line["line-offset"]),"line-blur":new Ji(H.paint_line["line-blur"]),"line-dasharray":new to(H.paint_line["line-dasharray"]),"line-pattern":new Qi(H.paint_line["line-pattern"]),"line-gradient":new eo(H.paint_line["line-gradient"])})},get layout(){return Zl=Zl||new no({"line-cap":new Yi(H.layout_line["line-cap"]),"line-join":new Ji(H.layout_line["line-join"]),"line-miter-limit":new Yi(H.layout_line["line-miter-limit"]),"line-round-limit":new Yi(H.layout_line["line-round-limit"]),"line-sort-key":new Ji(H.layout_line["line-sort-key"])})}};class Wl extends Ji{possiblyEvaluate(t,e){return e=new Vi(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),super.possiblyEvaluate(t,e)}evaluate(t,e,n,r){return e=y({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(t,e,n,r)}}let Gl;class Xl extends io{constructor(t){super(t,Hl),this.gradientVersion=0,Gl||(Gl=new Wl(Hl.paint.properties["line-width"].specification),Gl.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(t){if("line-gradient"===t){const t=this.gradientExpression();this.stepInterpolant=!!function(t){return void 0!==t._styleExpression}(t)&&t._styleExpression.expression instanceof Se,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t,e){super.recalculate(t,e),this.paint._values["line-floorwidth"]=Gl.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new Ul(t)}queryRadius(t){const e=t,n=Kl(es("line-width",this,e),es("line-gap-width",this,e)),r=es("line-offset",this,e);return n/2+Math.abs(r)+ns(this.paint.get("line-translate"))}queryIntersectsFeature(t,e,n,r,i,a,s){const l=rs(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),c=s/2*Kl(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),u=this.paint.get("line-offset").evaluate(e,n);return u&&(r=function(t,e){const n=[];for(let r=0;r<t.length;r++){const i=t[r],a=[];for(let t=0;t<i.length;t++){const n=i[t-1],r=i[t],s=i[t+1],l=0===t?new o(0,0):r.sub(n)._unit()._perp(),c=t===i.length-1?new o(0,0):s.sub(r)._unit()._perp(),u=l._add(c)._unit(),h=u.x*c.x+u.y*c.y;0!==h&&u._mult(1/h),a.push(u._mult(e)._add(r))}n.push(a)}return n}(r,u*s)),function(t,e,n){for(let r=0;r<e.length;r++){const i=e[r];if(t.length>=3)for(let e=0;e<i.length;e++)if(Qa(t,i[e]))return!0;if(Wa(t,i,n))return!0}return!1}(l,r,c)}isTileClipped(){return!0}}function Kl(t,e){return e>0?e+2*t:t}const Yl=lo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Jl=lo([{name:"a_projected_pos",components:3,type:"Float32"}],4);lo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Ql=lo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);lo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const tc=lo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),ec=lo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function nc(t,e,n){return t.sections.forEach((t=>{t.text=function(t,e,n){const r=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),$i.applyArabicShaping&&(t=$i.applyArabicShaping(t)),t}(t.text,e,n)})),t}lo([{name:"triangle",components:3,type:"Uint16"}]),lo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),lo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),lo([{type:"Float32",name:"offsetX"}]),lo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),lo([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const rc={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var ic=24,oc=lc,ac=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?i-1:0,d=n?-1:1,p=t[e+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+t[e+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+t[e+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},sc=function(t,e,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(e*l-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=f,a/=256,c-=8);t[n+p-f]|=128*m};function lc(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}lc.Varint=0,lc.Fixed64=1,lc.Bytes=2,lc.Fixed32=5;var cc=4294967296,uc=1/cc,hc="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");function dc(t){return t.type===lc.Bytes?t.readVarint()+t.pos:t.pos+1}function pc(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function fc(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function mc(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function gc(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function yc(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function vc(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function _c(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function bc(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function xc(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function wc(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function Sc(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function kc(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Pc(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function Tc(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}lc.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=kc(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Tc(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=kc(this.buf,this.pos)+kc(this.buf,this.pos+4)*cc;return this.pos+=8,t},readSFixed64:function(){var t=kc(this.buf,this.pos)+Tc(this.buf,this.pos+4)*cc;return this.pos+=8,t},readFloat:function(){var t=ac(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=ac(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return pc(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return pc(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return pc(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return pc(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return pc(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return pc(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&hc?function(t,e,n){return hc.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,l=t[i],c=null,u=l>239?4:l>223?3:l>191?2:1;if(i+u>n)break;1===u?l<128&&(c=l):2===u?128==(192&(o=t[i+1]))&&(c=(31&l)<<6|63&o)<=127&&(c=null):3===u?(a=t[i+2],128==(192&(o=t[i+1]))&&128==(192&a)&&((c=(15&l)<<12|(63&o)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(a=t[i+2],s=t[i+3],128==(192&(o=t[i+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),i+=u}return r}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==lc.Bytes)return t.push(this.readVarint(e));var n=dc(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==lc.Bytes)return t.push(this.readSVarint());var e=dc(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==lc.Bytes)return t.push(this.readBoolean());var e=dc(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==lc.Bytes)return t.push(this.readFloat());var e=dc(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==lc.Bytes)return t.push(this.readDouble());var e=dc(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==lc.Bytes)return t.push(this.readFixed32());var e=dc(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==lc.Bytes)return t.push(this.readSFixed32());var e=dc(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==lc.Bytes)return t.push(this.readFixed64());var e=dc(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==lc.Bytes)return t.push(this.readSFixed64());var e=dc(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===lc.Varint)for(;this.buf[this.pos++]>127;);else if(e===lc.Bytes)this.pos=this.readVarint()+this.pos;else if(e===lc.Fixed32)this.pos+=4;else{if(e!==lc.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Pc(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Pc(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Pc(this.buf,-1&t,this.pos),Pc(this.buf,Math.floor(t*uc),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Pc(this.buf,-1&t,this.pos),Pc(this.buf,Math.floor(t*uc),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&fc(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),sc(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),sc(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&fc(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,lc.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,mc,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,gc,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,_c,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,yc,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,vc,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,bc,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,xc,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,wc,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,Sc,e)},writeBytesField:function(t,e){this.writeTag(t,lc.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,lc.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,lc.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,lc.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,lc.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,lc.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,lc.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,lc.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,lc.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,lc.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var Ec=n(oc);const Cc=3;function Ac(t,e,n){1===t&&n.readMessage(Mc,e)}function Mc(t,e,n){if(3===t){const{id:t,bitmap:r,width:i,height:o,left:a,top:s,advance:l}=n.readMessage(Oc,{});e.push({id:t,bitmap:new ws({width:i+2*Cc,height:o+2*Cc},r),metrics:{width:i,height:o,left:a,top:s,advance:l}})}}function Oc(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}const Ic=Cc;function zc(t){let e=0,n=0;for(const a of t)e+=a.w*a.h,n=Math.max(n,a.w);t.sort(((t,e)=>e.h-t.h));const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}];let i=0,o=0;for(const a of t)for(let t=r.length-1;t>=0;t--){const e=r[t];if(!(a.w>e.w||a.h>e.h)){if(a.x=e.x,a.y=e.y,o=Math.max(o,a.y+a.h),i=Math.max(i,a.x+a.w),a.w===e.w&&a.h===e.h){const e=r.pop();t<r.length&&(r[t]=e)}else a.h===e.h?(e.x+=a.w,e.w-=a.w):a.w===e.w?(e.y+=a.h,e.h-=a.h):(r.push({x:e.x+a.w,y:e.y,w:e.w-a.w,h:a.h}),e.y+=a.h,e.h-=a.h);break}}return{w:i,h:o,fill:e/(i*o)||0}}const Lc=1;class Dc{constructor(t,e){let{pixelRatio:n,version:r,stretchX:i,stretchY:o,content:a,textFitWidth:s,textFitHeight:l}=e;this.paddedRect=t,this.pixelRatio=n,this.stretchX=i,this.stretchY=o,this.content=a,this.version=r,this.textFitWidth=s,this.textFitHeight=l}get tl(){return[this.paddedRect.x+Lc,this.paddedRect.y+Lc]}get br(){return[this.paddedRect.x+this.paddedRect.w-Lc,this.paddedRect.y+this.paddedRect.h-Lc]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Lc)/this.pixelRatio,(this.paddedRect.h-2*Lc)/this.pixelRatio]}}class jc{constructor(t,e){const n={},r={};this.haveRenderCallbacks=[];const i=[];this.addImages(t,n,i),this.addImages(e,r,i);const{w:o,h:a}=zc(i),s=new Ss({width:o||1,height:a||1});for(const l in t){const e=t[l],r=n[l].paddedRect;Ss.copy(e.data,s,{x:0,y:0},{x:r.x+Lc,y:r.y+Lc},e.data)}for(const l in e){const t=e[l],n=r[l].paddedRect,i=n.x+Lc,o=n.y+Lc,a=t.data.width,c=t.data.height;Ss.copy(t.data,s,{x:0,y:0},{x:i,y:o},t.data),Ss.copy(t.data,s,{x:0,y:c-1},{x:i,y:o-1},{width:a,height:1}),Ss.copy(t.data,s,{x:0,y:0},{x:i,y:o+c},{width:a,height:1}),Ss.copy(t.data,s,{x:a-1,y:0},{x:i-1,y:o},{width:1,height:c}),Ss.copy(t.data,s,{x:0,y:0},{x:i+a,y:o},{width:1,height:c})}this.image=s,this.iconPositions=n,this.patternPositions=r}addImages(t,e,n){for(const r in t){const i=t[r],o={x:0,y:0,w:i.data.width+2*Lc,h:i.data.height+2*Lc};n.push(o),e[r]=new Dc(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}}patchUpdatedImages(t,e){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const n in t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)}patchUpdatedImage(t,e,n){if(!t||!e)return;if(t.version===e.version)return;t.version=e.version;const[r,i]=t.tl;n.update(e.data,void 0,{x:r,y:i})}}var Rc;xi("ImagePosition",Dc),xi("ImageAtlas",jc),t.ah=void 0,(Rc=t.ah||(t.ah={}))[Rc.none=0]="none",Rc[Rc.horizontal=1]="horizontal",Rc[Rc.vertical=2]="vertical",Rc[Rc.horizontalOnly=3]="horizontalOnly";const Bc=-17;class Nc{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,e){const n=new Nc;return n.scale=t||1,n.fontStack=e,n}static forImage(t){const e=new Nc;return e.imageName=t,e}}class Fc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,e){const n=new Fc;for(let r=0;r<t.sections.length;r++){const i=t.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,e)}return n}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(){this.text=function(t){let e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;e+=r&&ji(r)&&!rc[t[n+1]]||i&&ji(i)&&!rc[t[n-1]]||!rc[t[n]]?t[n]:rc[t[n]]}return e}(this.text)}trim(){let t=0;for(let n=0;n<this.text.length&&Vc[this.text.charCodeAt(n)];n++)t++;let e=this.text.length;for(let n=this.text.length-1;n>=0&&n>=t&&Vc[this.text.charCodeAt(n)];n--)e--;this.text=this.text.substring(t,e),this.sectionIndex=this.sectionIndex.slice(t,e)}substring(t,e){const n=new Fc;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((t,e)=>Math.max(t,this.sections[e].scale)),0)}addTextSection(t,e){this.text+=t.text,this.sections.push(Nc.forText(t.scale,t.fontStack||e));const n=this.sections.length-1;for(let r=0;r<t.text.length;++r)this.sectionIndex.push(n)}addImageSection(t){const e=t.image?t.image.name:"";if(0===e.length)return void S("Can't add FormattedSection with an empty image.");const n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(Nc.forImage(e)),this.sectionIndex.push(this.sections.length-1)):S("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function $c(e,n,r,i,o,a,s,l,c,u,h,d,p,f,m){const g=Fc.fromFeature(e,o);let y;d===t.ah.vertical&&g.verticalizePunctuation();const{processBidirectionalText:v,processStyledBidirectionalText:_}=$i;if(v&&1===g.sections.length){y=[];const t=v(g.toString(),Kc(g,u,a,n,i,f));for(const e of t){const t=new Fc;t.text=e,t.sections=g.sections;for(let n=0;n<e.length;n++)t.sectionIndex.push(0);y.push(t)}}else if(_){y=[];const t=_(g.text,g.sectionIndex,Kc(g,u,a,n,i,f));for(const e of t){const t=new Fc;t.text=e[0],t.sectionIndex=e[1],t.sections=g.sections,y.push(t)}}else y=function(t,e){const n=[],r=t.text;let i=0;for(const o of e)n.push(t.substring(i,o)),i=o;return i<r.length&&n.push(t.substring(i,r.length)),n}(g,Kc(g,u,a,n,i,f));const b=[],x={positionedLines:b,text:g.toString(),top:h[1],bottom:h[1],left:h[0],right:h[0],writingMode:d,iconsInText:!1,verticalizable:!1};return function(e,n,r,i,o,a,s,l,c,u,h,d){let p=0,f=Bc,m=0,g=0;const y="right"===l?1:"left"===l?0:.5;let v=0;for(const S of o){S.trim();const o=S.getMaxScale(),s=(o-1)*ic,l={positionedGlyphs:[],lineOffset:0};e.positionedLines[v]=l;const b=l.positionedGlyphs;let x=0;if(!S.length()){f+=a,++v;continue}for(let a=0;a<S.length();a++){const l=S.getSection(a),m=S.getSectionIndex(a),g=S.getCharCode(a);let y=0,v=null,w=null,k=null,P=ic;const T=!(c===t.ah.horizontal||!h&&!Di(g)||h&&(Vc[g]||(_=g,/\p{sc=Arab}/u.test(String.fromCodePoint(_)))));if(l.imageName){const t=i[l.imageName];if(!t)continue;k=l.imageName,e.iconsInText=e.iconsInText||!0,w=t.paddedRect;const n=t.displaySize;l.scale=l.scale*ic/d,v={width:n[0],height:n[1],left:Lc,top:-Ic,advance:T?n[1]:n[0]},y=s+(ic-n[1]*l.scale),P=v.advance;const r=T?n[0]*l.scale-ic*o:n[1]*l.scale-ic*o;r>0&&r>x&&(x=r)}else{const t=r[l.fontStack],e=t&&t[g];if(e&&e.rect)w=e.rect,v=e.metrics;else{const t=n[l.fontStack],e=t&&t[g];if(!e)continue;v=e.metrics}y=(o-l.scale)*ic}T?(e.verticalizable=!0,b.push({glyph:g,imageName:k,x:p,y:f+y,vertical:T,scale:l.scale,fontStack:l.fontStack,sectionIndex:m,metrics:v,rect:w}),p+=P*l.scale+u):(b.push({glyph:g,imageName:k,x:p,y:f+y,vertical:T,scale:l.scale,fontStack:l.fontStack,sectionIndex:m,metrics:v,rect:w}),p+=v.advance*l.scale+u)}0!==b.length&&(m=Math.max(p-u,m),Jc(b,0,b.length-1,y,x)),p=0;const w=a*o+x;l.lineOffset=Math.max(x,s),f+=w,g=Math.max(w,g),++v}var _;const b=f-Bc,{horizontalAlign:x,verticalAlign:w}=Yc(s);(function(t,e,n,r,i,o,a,s,l){const c=(e-n)*i;let u=0;u=o!==a?-s*r-Bc:(-r*l+.5)*a;for(const h of t)for(const t of h.positionedGlyphs)t.x+=c,t.y+=u})(e.positionedLines,y,x,w,m,g,a,b,o.length),e.top+=-w*b,e.bottom=e.top+b,e.left+=-x*m,e.right=e.left+m}(x,n,r,i,y,s,l,c,d,u,p,m),!function(t){for(const e of t)if(0!==e.positionedGlyphs.length)return!1;return!0}(b)&&x}const Vc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Uc={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Zc={40:!0};function qc(t,e,n,r,i,o){if(e.imageName){const t=r[e.imageName];return t?t.displaySize[0]*e.scale*ic/o+i:0}{const r=n[e.fontStack],o=r&&r[t];return o?o.metrics.advance*e.scale+i:0}}function Hc(t,e,n,r){const i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function Wc(t,e,n){let r=0;return 10===t&&(r-=1e4),n&&(r+=150),40!==t&&65288!==t||(r+=50),41!==e&&65289!==e||(r+=50),r}function Gc(t,e,n,r,i,o){let a=null,s=Hc(e,n,i,o);for(const l of r){const t=Hc(e-l.x,n,i,o)+l.badness;t<=s&&(a=l,s=t)}return{index:t,x:e,priorBreak:a,badness:s}}function Xc(t){return t?Xc(t.priorBreak).concat(t.index):[]}function Kc(t,e,n,r,i,o){if(!t)return[];const a=[],s=function(t,e,n,r,i,o){let a=0;for(let s=0;s<t.length();s++){const n=t.getSection(s);a+=qc(t.getCharCode(s),n,r,i,e,o)}return a/Math.max(1,Math.ceil(a/n))}(t,e,n,r,i,o),l=t.text.indexOf("\u200b")>=0;let c=0;for(let h=0;h<t.length();h++){const n=t.getSection(h),d=t.getCharCode(h);if(Vc[d]||(c+=qc(d,n,r,i,e,o)),h<t.length()-1){const e=!((u=d)<11904)&&(!!Ci["CJK Compatibility Forms"](u)||!!Ci["CJK Compatibility"](u)||!!Ci["CJK Strokes"](u)||!!Ci["CJK Symbols and Punctuation"](u)||!!Ci["Enclosed CJK Letters and Months"](u)||!!Ci["Halfwidth and Fullwidth Forms"](u)||!!Ci["Ideographic Description Characters"](u)||!!Ci["Vertical Forms"](u)||Li.test(String.fromCodePoint(u)));(Uc[d]||e||n.imageName||h!==t.length()-2&&Zc[t.getCharCode(h+1)])&&a.push(Gc(h+1,c,s,a,Wc(d,t.getCharCode(h+1),e&&l),!1))}}var u;return Xc(Gc(t.length(),c,s,a,0,!0))}function Yc(t){let e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function Jc(t,e,n,r,i){if(!r&&!i)return;const o=t[n],a=(t[n].x+o.metrics.advance*o.scale)*r;for(let s=e;s<=n;s++)t[s].x-=a,t[s].y+=i}function Qc(t,e,n){const{horizontalAlign:r,verticalAlign:i}=Yc(n),o=e[0]-t.displaySize[0]*r,a=e[1]-t.displaySize[1]*i;return{image:t,top:a,bottom:a+t.displaySize[1],left:o,right:o+t.displaySize[0]}}function tu(t){var e,n;let r=t.left,i=t.top,o=t.right-r,a=t.bottom-i;const s=null!==(e=t.image.textFitWidth)&&void 0!==e?e:"stretchOrShrink",l=null!==(n=t.image.textFitHeight)&&void 0!==n?n:"stretchOrShrink",c=(t.image.content[2]-t.image.content[0])/(t.image.content[3]-t.image.content[1]);if("proportional"===l){if("stretchOnly"===s&&o/a<c||"proportional"===s){const t=Math.ceil(a*c);r*=t/o,o=t}}else if("proportional"===s&&"stretchOnly"===l&&0!==c&&o/a>c){const t=Math.ceil(o/c);i*=t/a,a=t}return{x1:r,y1:i,x2:r+o,y2:i+a}}function eu(t,e,n,r,i,o){const a=t.image;let s;if(a.content){const t=a.content,e=a.pixelRatio||1;s=[t[0]/e,t[1]/e,a.displaySize[0]-t[2]/e,a.displaySize[1]-t[3]/e]}const l=e.left*o,c=e.right*o;let u,h,d,p;"width"===n||"both"===n?(p=i[0]+l-r[3],h=i[0]+c+r[1]):(p=i[0]+(l+c-a.displaySize[0])/2,h=p+a.displaySize[0]);const f=e.top*o,m=e.bottom*o;return"height"===n||"both"===n?(u=i[1]+f-r[0],d=i[1]+m+r[2]):(u=i[1]+(f+m-a.displaySize[1])/2,d=u+a.displaySize[1]),{image:a,top:u,right:h,bottom:d,left:p,collisionPadding:s}}const nu=255,ru=128,iu=nu*ru;function ou(t,e){const{expression:n}=e;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Vi(t+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:e,interpolationType:r}=n;let i=0;for(;i<e.length&&e[i]<=t;)i++;i=Math.max(0,i-1);let o=i;for(;o<e.length&&e[o]<t+1;)o++;o=Math.min(e.length-1,o);const a=e[i],s=e[o];return"composite"===n.kind?{kind:"composite",minZoom:a,maxZoom:s,interpolationType:r}:{kind:"camera",minZoom:a,maxZoom:s,minSize:n.evaluate(new Vi(a)),maxSize:n.evaluate(new Vi(s)),interpolationType:r}}}function au(t,e,n){let r="never";const i=t.get(e);return i?r=i:t.get(n)&&(r="always"),r}const su=pl.VectorTileFeature.types,lu=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function cu(t,e,n,r,i,o,a,s,l,c,u,h,d){const p=s?Math.min(iu,Math.round(s[0])):0,f=s?Math.min(iu,Math.round(s[1])):0;t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,(p<<1)+(l?1:0),f,16*c,16*u,256*h,256*d)}function uu(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}function hu(t){for(const e of t.sections)if(Fi(e.text))return!0;return!1}class du{constructor(t){this.layoutVertexArray=new Qo,this.indexArray=new ia,this.programConfigurations=t,this.segments=new la,this.dynamicLayoutVertexArray=new ta,this.opacityVertexArray=new ea,this.hasVisibleVertices=!1,this.placedSymbolArray=new Ro}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(t,e,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Yl.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Jl.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,lu,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}xi("SymbolBuffers",du);class pu{constructor(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new la,this.collisionVertexArray=new ra}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Ql.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}xi("CollisionBuffers",pu);class fu{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=cs([]),this.placementViewportMatrix=cs([]);const n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=ou(this.zoom,n["text-size"]),this.iconSizeData=ou(this.zoom,n["icon-size"]);const r=this.layers[0].layout,i=r.get("symbol-sort-key"),o=r.get("symbol-z-order");this.canOverlap="never"!==au(r,"text-overlap","text-allow-overlap")||"never"!==au(r,"icon-overlap","icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==o&&!i.isConstant(),this.sortFeaturesByY=("viewport-y"===o||"auto"===o&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map((e=>t.ah[e]))),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.sourceID=e.sourceID}createArrays(){this.text=new du(new La(this.layers,this.zoom,(t=>/^text/.test(t)))),this.icon=new du(new La(this.layers,this.zoom,(t=>/^icon/.test(t)))),this.glyphOffsetArray=new Fo,this.lineVertexArray=new $o,this.symbolInstances=new No,this.textAnchorOffsets=new Uo}calculateGlyphDependencies(t,e,n,r,i){for(let o=0;o<t.length;o++)if(e[t.charCodeAt(o)]=!0,(n||r)&&i){const n=rc[t.charAt(o)];n&&(e[n.charCodeAt(0)]=!0)}}populate(e,n,r){const i=this.layers[0],o=i.layout,a=o.get("text-font"),s=o.get("text-field"),l=o.get("icon-image"),c=("constant"!==s.value.kind||s.value.value instanceof Kt&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),u="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,h=o.get("symbol-sort-key");if(this.features=[],!c&&!u)return;const d=n.iconDependencies,p=n.glyphDependencies,f=n.availableImages,m=new Vi(this.zoom);for(const{feature:g,id:y,index:v,sourceLayerIndex:_}of e){const e=i._featureFilter.needGeometry,n=$a(g,e);if(!i._featureFilter.filter(m,n,r))continue;let s,l;if(e||(n.geometry=Fa(g)),c){const t=i.getValueAndResolveTokens("text-field",n,r,f),e=Kt.factory(t),o=this.hasRTLText=this.hasRTLText||hu(e);(!o||"unavailable"===$i.getRTLTextPluginStatus()||o&&$i.isParsed())&&(s=nc(e,i,n))}if(u){const t=i.getValueAndResolveTokens("icon-image",n,r,f);l=t instanceof te?t:te.fromString(t)}if(!s&&!l)continue;const b=this.sortFeaturesByKey?h.evaluate(n,{},r):void 0;if(this.features.push({id:y,text:s,icon:l,index:v,sourceLayerIndex:_,geometry:n.geometry,properties:g.properties,type:su[g.type],sortKey:b}),l&&(d[l.name]=!0),s){const e=a.evaluate(n,{},r).join(","),i="viewport"!==o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(t.ah.vertical)>=0;for(const t of s.sections)if(t.image)d[t.image.name]=!0;else{const n=Ai(s.toString()),r=t.fontStack||e,o=p[r]=p[r]||{};this.calculateGlyphDependencies(t.text,o,i,this.allowVerticalPlacement,n)}}}"line"===o.get("symbol-placement")&&(this.features=function(t){const e={},n={},r=[];let i=0;function o(e){r.push(t[e]),i++}function a(t,e,i){const o=n[t];return delete n[t],n[e]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(t,n,i){const o=e[n];return delete e[n],e[t]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function l(t,e,n){const r=n?e[0][e[0].length-1]:e[0][0];return`${t}:${r.x}:${r.y}`}for(let c=0;c<t.length;c++){const u=t[c],h=u.geometry,d=u.text?u.text.toString():null;if(!d){o(c);continue}const p=l(d,h),f=l(d,h,!0);if(p in n&&f in e&&n[p]!==e[f]){const t=s(p,f,h),i=a(p,f,r[t].geometry);delete e[p],delete n[f],n[l(d,r[i].geometry,!0)]=i,r[t].geometry=null}else p in n?a(p,f,h):f in e?s(p,f,h):(o(c),e[p]=i-1,n[f]=i-1)}return r.filter((t=>t.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((t,e)=>t.sortKey-e.sortKey))}update(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,e){const n=this.lineVertexArray.length;if(void 0!==t.segment){let n=t.dist(e[t.segment+1]),r=t.dist(e[t.segment]);const i={};for(let o=t.segment+1;o<e.length;o++)i[o]={x:e[o].x,y:e[o].y,tileUnitDistanceFromAnchor:n},o<e.length-1&&(n+=e[o+1].dist(e[o]));for(let o=t.segment||0;o>=0;o--)i[o]={x:e[o].x,y:e[o].y,tileUnitDistanceFromAnchor:r},o>0&&(r+=e[o-1].dist(e[o]));for(let t=0;t<e.length;t++){const e=i[t];this.lineVertexArray.emplaceBack(e.x,e.y,e.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(e,n,r,i,o,a,s,l,c,u,h,d){const p=e.indexArray,f=e.layoutVertexArray,m=e.segments.prepareSegment(4*n.length,f,p,this.canOverlap?a.sortKey:void 0),g=this.glyphOffsetArray.length,y=m.vertexLength,v=this.allowVerticalPlacement&&s===t.ah.vertical?Math.PI/2:0,_=a.text&&a.text.sections;for(let t=0;t<n.length;t++){const{tl:i,tr:o,bl:s,br:c,tex:u,pixelOffsetTL:h,pixelOffsetBR:g,minFontScaleX:y,minFontScaleY:b,glyphOffset:x,isSDF:w,sectionIndex:S}=n[t],k=m.vertexLength,P=x[1];cu(f,l.x,l.y,i.x,P+i.y,u.x,u.y,r,w,h.x,h.y,y,b),cu(f,l.x,l.y,o.x,P+o.y,u.x+u.w,u.y,r,w,g.x,h.y,y,b),cu(f,l.x,l.y,s.x,P+s.y,u.x,u.y+u.h,r,w,h.x,g.y,y,b),cu(f,l.x,l.y,c.x,P+c.y,u.x+u.w,u.y+u.h,r,w,g.x,g.y,y,b),uu(e.dynamicLayoutVertexArray,l,v),p.emplaceBack(k,k+1,k+2),p.emplaceBack(k+1,k+2,k+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(x[0]),t!==n.length-1&&S===n[t+1].sectionIndex||e.programConfigurations.populatePaintArrays(f.length,a,a.index,{},d,_&&_[S])}e.placedSymbolArray.emplaceBack(l.x,l.y,g,this.glyphOffsetArray.length-g,y,c,u,l.segment,r?r[0]:0,r?r[1]:0,i[0],i[1],s,0,!1,0,h)}_addCollisionDebugVertex(t,e,n,r,i,o){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))}addCollisionDebugVertices(t,e,n,r,i,a,s){const l=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),c=l.vertexLength,u=i.layoutVertexArray,h=i.collisionVertexArray,d=s.anchorX,p=s.anchorY;this._addCollisionDebugVertex(u,h,a,d,p,new o(t,e)),this._addCollisionDebugVertex(u,h,a,d,p,new o(n,e)),this._addCollisionDebugVertex(u,h,a,d,p,new o(n,r)),this._addCollisionDebugVertex(u,h,a,d,p,new o(t,r)),l.vertexLength+=4;const f=i.indexArray;f.emplaceBack(c,c+1),f.emplaceBack(c+1,c+2),f.emplaceBack(c+2,c+3),f.emplaceBack(c+3,c),l.primitiveLength+=4}addDebugCollisionBoxes(t,e,n,r){for(let i=t;i<e;i++){const t=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(t.x1,t.y1,t.x2,t.y2,r?this.textCollisionBox:this.iconCollisionBox,t.anchorPoint,n)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new pu(na,tc.members,oa),this.iconCollisionBox=new pu(na,tc.members,oa);for(let t=0;t<this.symbolInstances.length;t++){const e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}}_deserializeCollisionBoxesForSymbol(t,e,n,r,i,o,a,s,l){const c={};for(let u=e;u<n;u++){const e=t.get(u);c.textBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},c.textFeatureIndex=e.featureIndex;break}for(let u=r;u<i;u++){const e=t.get(u);c.verticalTextBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},c.verticalTextFeatureIndex=e.featureIndex;break}for(let u=o;u<a;u++){const e=t.get(u);c.iconBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},c.iconFeatureIndex=e.featureIndex;break}for(let u=s;u<l;u++){const e=t.get(u);c.verticalIconBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,anchorPointX:e.anchorPointX,anchorPointY:e.anchorPointY},c.verticalIconFeatureIndex=e.featureIndex;break}return c}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let e=0;e<this.symbolInstances.length;e++){const n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,e){const n=t.placedSymbolArray.get(e),r=n.vertexStartIndex+4*n.numGlyphs;for(let i=n.vertexStartIndex;i<r;i+=4)t.indexArray.emplaceBack(i,i+1,i+2),t.indexArray.emplaceBack(i+1,i+2,i+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const e=Math.sin(t),n=Math.cos(t),r=[],i=[],o=[];for(let a=0;a<this.symbolInstances.length;++a){o.push(a);const t=this.symbolInstances.get(a);r.push(0|Math.round(e*t.anchorX+n*t.anchorY)),i.push(t.featureIndex)}return o.sort(((t,e)=>r[t]-r[e]||i[e]-i[t])),o}addToSortKeyRanges(t,e){const n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===e?n.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const t of this.symbolInstanceIndexes){const e=this.symbolInstances.get(t);this.featureSortOrder.push(e.featureIndex),[e.rightJustifiedTextSymbolIndex,e.centerJustifiedTextSymbolIndex,e.leftJustifiedTextSymbolIndex].forEach(((t,e,n)=>{t>=0&&n.indexOf(t)===e&&this.addIndicesForPlacedSymbol(this.text,t)})),e.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,e.verticalPlacedTextSymbolIndex),e.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.placedIconSymbolIndex),e.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let mu,gu;xi("SymbolBucket",fu,{omit:["layers","collisionBoxArray","features","compareText"]}),fu.MAX_GLYPHS=65535,fu.addDynamicAttributes=uu;var yu={get paint(){return gu=gu||new no({"icon-opacity":new Ji(H.paint_symbol["icon-opacity"]),"icon-color":new Ji(H.paint_symbol["icon-color"]),"icon-halo-color":new Ji(H.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ji(H.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ji(H.paint_symbol["icon-halo-blur"]),"icon-translate":new Yi(H.paint_symbol["icon-translate"]),"icon-translate-anchor":new Yi(H.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ji(H.paint_symbol["text-opacity"]),"text-color":new Ji(H.paint_symbol["text-color"],{runtimeType:dt,getOverride:t=>t.textColor,hasOverride:t=>!!t.textColor}),"text-halo-color":new Ji(H.paint_symbol["text-halo-color"]),"text-halo-width":new Ji(H.paint_symbol["text-halo-width"]),"text-halo-blur":new Ji(H.paint_symbol["text-halo-blur"]),"text-translate":new Yi(H.paint_symbol["text-translate"]),"text-translate-anchor":new Yi(H.paint_symbol["text-translate-anchor"])})},get layout(){return mu=mu||new no({"symbol-placement":new Yi(H.layout_symbol["symbol-placement"]),"symbol-spacing":new Yi(H.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Yi(H.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ji(H.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Yi(H.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Yi(H.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Yi(H.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Yi(H.layout_symbol["icon-ignore-placement"]),"icon-optional":new Yi(H.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Yi(H.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ji(H.layout_symbol["icon-size"]),"icon-text-fit":new Yi(H.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Yi(H.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ji(H.layout_symbol["icon-image"]),"icon-rotate":new Ji(H.layout_symbol["icon-rotate"]),"icon-padding":new Ji(H.layout_symbol["icon-padding"]),"icon-keep-upright":new Yi(H.layout_symbol["icon-keep-upright"]),"icon-offset":new Ji(H.layout_symbol["icon-offset"]),"icon-anchor":new Ji(H.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Yi(H.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Yi(H.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Yi(H.layout_symbol["text-rotation-alignment"]),"text-field":new Ji(H.layout_symbol["text-field"]),"text-font":new Ji(H.layout_symbol["text-font"]),"text-size":new Ji(H.layout_symbol["text-size"]),"text-max-width":new Ji(H.layout_symbol["text-max-width"]),"text-line-height":new Yi(H.layout_symbol["text-line-height"]),"text-letter-spacing":new Ji(H.layout_symbol["text-letter-spacing"]),"text-justify":new Ji(H.layout_symbol["text-justify"]),"text-radial-offset":new Ji(H.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Yi(H.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Ji(H.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Ji(H.layout_symbol["text-anchor"]),"text-max-angle":new Yi(H.layout_symbol["text-max-angle"]),"text-writing-mode":new Yi(H.layout_symbol["text-writing-mode"]),"text-rotate":new Ji(H.layout_symbol["text-rotate"]),"text-padding":new Yi(H.layout_symbol["text-padding"]),"text-keep-upright":new Yi(H.layout_symbol["text-keep-upright"]),"text-transform":new Ji(H.layout_symbol["text-transform"]),"text-offset":new Ji(H.layout_symbol["text-offset"]),"text-allow-overlap":new Yi(H.layout_symbol["text-allow-overlap"]),"text-overlap":new Yi(H.layout_symbol["text-overlap"]),"text-ignore-placement":new Yi(H.layout_symbol["text-ignore-placement"]),"text-optional":new Yi(H.layout_symbol["text-optional"])})}};class vu{constructor(t){if(void 0===t.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=t.property.overrides?t.property.overrides.runtimeType:lt,this.defaultValue=t}evaluate(t){if(t.formattedSection){const e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}xi("FormatSectionOverride",vu,{omit:["defaultValue"]});class _u extends io{constructor(t){super(t,yu)}recalculate(t,e){if(super.recalculate(t,e),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const t=this.layout.get("text-writing-mode");if(t){const e=[];for(const n of t)e.indexOf(n)<0&&e.push(n);this.layout._values["text-writing-mode"]=e}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(t,e,n,r){const i=this.layout.get(t).evaluate(e,{},n,r),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||_r(o.value)||!i?i:function(t,e){return e.replace(/{([^{}]+)}/g,((e,n)=>t&&n in t?String(t[n]):""))}(e.properties,i)}createBucket(t){return new fu(t)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const t of yu.paint.overridableProperties){if(!_u.hasPaintOverride(this.layout,t))continue;const e=this.paint.get(t),n=new vu(e),r=new vr(n,e.property.specification);let i=null;i="constant"===e.value.kind||"source"===e.value.kind?new xr("source",r):new wr("composite",r,e.value.zoomStops),this.paint._values[t]=new Xi(e.property,i,e.parameters)}}_handleOverridablePaintPropertyUpdate(t,e,n){return!(!this.layout||e.isDataDriven()||n.isDataDriven())&&_u.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,e){const n=t.get("text-field"),r=yu.paint.properties[e];let i=!1;const o=t=>{for(const e of t)if(r.overrides&&r.overrides.hasOverride(e))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof Kt)o(n.value.value.sections);else if("source"===n.value.kind){const t=e=>{i||(e instanceof oe&&re(e.value)===gt?o(e.value.sections):e instanceof qe?o(e.sections):e.eachChild(t))},e=n.value;e._styleExpression&&t(e._styleExpression.expression)}return i}}let bu;var xu={get paint(){return bu=bu||new no({"background-color":new Yi(H.paint_background["background-color"]),"background-pattern":new to(H.paint_background["background-pattern"]),"background-opacity":new Yi(H.paint_background["background-opacity"])})}};class wu extends io{constructor(t){super(t,xu)}}let Su;var ku={get paint(){return Su=Su||new no({"raster-opacity":new Yi(H.paint_raster["raster-opacity"]),"raster-hue-rotate":new Yi(H.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Yi(H.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Yi(H.paint_raster["raster-brightness-max"]),"raster-saturation":new Yi(H.paint_raster["raster-saturation"]),"raster-contrast":new Yi(H.paint_raster["raster-contrast"]),"raster-resampling":new Yi(H.paint_raster["raster-resampling"]),"raster-fade-duration":new Yi(H.paint_raster["raster-fade-duration"])})}};class Pu extends io{constructor(t){super(t,ku)}}class Tu extends io{constructor(t){super(t,{}),this.onAdd=t=>{this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},this.onRemove=t=>{this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},this.implementation=t}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Eu{constructor(t){this._methodToThrottle=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const Cu=6371008.8;class Au{constructor(t,e){if(isNaN(t)||isNaN(e))throw new Error(`Invalid LngLat object: (${t}, ${e})`);if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Au(g(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const e=Math.PI/180,n=this.lat*e,r=t.lat*e,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((t.lng-this.lng)*e);return Cu*Math.acos(Math.min(i,1))}static convert(t){if(t instanceof Au)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Au(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Au(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Mu=2*Math.PI*Cu;function Ou(t){return Mu*Math.cos(t*Math.PI/180)}function Iu(t){return(180+t)/360}function zu(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Lu(t,e){return t/Ou(e)}function Du(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}class ju{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=+t,this.y=+e,this.z=+n}static fromLngLat(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Au.convert(t);return new ju(Iu(n.lng),zu(n.lat),Lu(e,n.lat))}toLngLat(){return new Au(360*this.x-180,Du(this.y))}toAltitude(){return this.z*Ou(Du(this.y))}meterInMercatorCoordinateUnits(){return 1/Mu*(t=Du(this.y),1/Math.cos(t*Math.PI/180));var t}}function Ru(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}class Bu{constructor(t,e,n){if(!function(t,e,n){return!(t<0||t>25||n<0||n>=Math.pow(2,t)||e<0||e>=Math.pow(2,t))}(t,e,n))throw new Error(`x=${e}, y=${n}, z=${t} outside of bounds. 0<=x<${Math.pow(2,t)}, 0<=y<${Math.pow(2,t)} 0<=z<=25 `);this.z=t,this.x=e,this.y=n,this.key=$u(0,t,t,e,n)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,e,n){const r=(o=this.y,a=this.z,s=Ru(256*(i=this.x),256*(o=Math.pow(2,a)-o-1),a),l=Ru(256*(i+1),256*(o+1),a),s[0]+","+s[1]+","+l[0]+","+l[1]);var i,o,a,s,l;const c=function(t,e,n){let r,i="";for(let o=t;o>0;o--)r=1<<o-1,i+=(e&r?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===n?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,e>1?"@2x":"").replace(/{quadkey}/g,c).replace(/{bbox-epsg-3857}/g,r)}isChildOf(t){const e=this.z-t.z;return e>0&&t.x===this.x>>e&&t.y===this.y>>e}getTilePoint(t){const e=Math.pow(2,this.z);return new o((t.x*e-this.x)*Ra,(t.y*e-this.y)*Ra)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Nu{constructor(t,e){this.wrap=t,this.canonical=e,this.key=$u(t,e.z,e.z,e.x,e.y)}}class Fu{constructor(t,e,n,r,i){if(t<n)throw new Error(`overscaledZ should be >= z; overscaledZ = ${t}; z = ${n}`);this.overscaledZ=t,this.wrap=e,this.canonical=new Bu(n,+r,+i),this.key=$u(e,t,n,r,i)}clone(){return new Fu(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const e=this.canonical.z-t;return t>this.canonical.z?new Fu(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Fu(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)}calculateScaledKey(t,e){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const n=this.canonical.z-t;return t>this.canonical.z?$u(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):$u(this.wrap*+e,t,t,this.canonical.x>>n,this.canonical.y>>n)}isChildOf(t){if(t.wrap!==this.wrap)return!1;const e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e}children(t){if(this.overscaledZ>=t)return[new Fu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Fu(e,this.wrap,e,n,r),new Fu(e,this.wrap,e,n+1,r),new Fu(e,this.wrap,e,n,r+1),new Fu(e,this.wrap,e,n+1,r+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new Fu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new Fu(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Nu(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(t){return this.canonical.getTilePoint(new ju(t.x-this.wrap,t.y))}}function $u(t,e,n,r,i){(t*=2)<0&&(t=-1*t-1);const o=1<<n;return(o*o*t+o*i+r).toString(36)+n.toString(36)+e.toString(36)}xi("CanonicalTileID",Bu),xi("OverscaledTileID",Fu,{omit:["posMatrix"]});class Vu{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&!["mapbox","terrarium","custom"].includes(n))return void S(`"${n}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=e.height;const s=this.dim=e.height-2;switch(this.data=new Uint32Array(e.data.buffer),n){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=r,this.greenFactor=i,this.blueFactor=o,this.baseShift=a;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let l=0;l<s;l++)this.data[this._idx(-1,l)]=this.data[this._idx(0,l)],this.data[this._idx(s,l)]=this.data[this._idx(s-1,l)],this.data[this._idx(l,-1)]=this.data[this._idx(l,0)],this.data[this._idx(l,s)]=this.data[this._idx(l,s-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(s,-1)]=this.data[this._idx(s-1,0)],this.data[this._idx(-1,s)]=this.data[this._idx(0,s-1)],this.data[this._idx(s,s)]=this.data[this._idx(s-1,s-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let l=0;l<s;l++)for(let t=0;t<s;t++){const e=this.get(l,t);e>this.max&&(this.max=e),e<this.min&&(this.min=e)}}get(t,e){const n=new Uint8Array(this.data.buffer),r=4*this._idx(t,e);return this.unpack(n[r],n[r+1],n[r+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)}unpack(t,e,n){return t*this.redFactor+e*this.greenFactor+n*this.blueFactor-this.baseShift}getPixels(){return new Ss({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let r=e*this.dim,i=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}const s=-e*this.dim,l=-n*this.dim;for(let c=o;c<a;c++)for(let e=r;e<i;e++)this.data[this._idx(e,c)]=t.data[this._idx(e+s,c+l)]}}xi("DEMData",Vu);class Uu{constructor(t){this._stringToNumber={},this._numberToString=[];for(let e=0;e<t.length;e++){const n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}}encode(t){return this._stringToNumber[t]}decode(t){if(t>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${t} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[t]}}class Zu{constructor(t,e,n,r,i){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,this.id=i}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={geometry:this.geometry};for(const e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t}}class qu{constructor(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new _i(Ra,16,0),this.grid3D=new _i(Ra,16,0),this.featureIndexArray=new qo,this.promoteId=e}insert(t,e,n,r,i,o){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);const s=o?this.grid3D:this.grid;for(let l=0;l<e.length;l++){const t=e[l],n=[1/0,1/0,-1/0,-1/0];for(let e=0;e<t.length;e++){const r=t[e];n[0]=Math.min(n[0],r.x),n[1]=Math.min(n[1],r.y),n[2]=Math.max(n[2],r.x),n[3]=Math.max(n[3],r.y)}n[0]<Ra&&n[1]<Ra&&n[2]>=0&&n[3]>=0&&s.insert(a,n[0],n[1],n[2],n[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new pl.VectorTile(new Ec(this.rawTileData)).layers,this.sourceLayerCoder=new Uu(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t,e,n,r){this.loadVTLayers();const i=t.params||{},a=Ra/t.tileSize/t.scale,s=Cr(i.filter),l=t.queryGeometry,c=t.queryPadding*a,u=Wu(l),h=this.grid.query(u.minX-c,u.minY-c,u.maxX+c,u.maxY+c),d=Wu(t.cameraQueryGeometry),p=this.grid3D.query(d.minX-c,d.minY-c,d.maxX+c,d.maxY+c,((e,n,r,i)=>function(t,e,n,r,i){for(const o of t)if(e<=o.x&&n<=o.y&&r>=o.x&&i>=o.y)return!0;const a=[new o(e,n),new o(e,i),new o(r,i),new o(r,n)];if(t.length>2)for(const o of a)if(Qa(t,o))return!0;for(let o=0;o<t.length-1;o++)if(ts(t[o],t[o+1],a))return!0;return!1}(t.cameraQueryGeometry,e-c,n-c,r+c,i+c)));for(const o of p)h.push(o);h.sort(Gu);const f={};let m;for(let o=0;o<h.length;o++){const c=h[o];if(c===m)continue;m=c;const u=this.featureIndexArray.get(c);let d=null;this.loadMatchingFeature(f,u.bucketIndex,u.sourceLayerIndex,u.featureIndex,s,i.layers,i.availableImages,e,n,r,((e,n,r)=>(d||(d=Fa(e)),n.queryIntersectsFeature(l,e,r,d,this.z,t.transform,a,t.pixelPosMatrix))))}return f}loadMatchingFeature(t,e,n,r,i,o,a,s,l,c,u){const h=this.bucketLayerIDs[e];if(o&&!function(t,e){for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,h))return;const d=this.sourceLayerCoder.decode(n),p=this.vtLayers[d].feature(r);if(i.needGeometry){const t=$a(p,!0);if(!i.filter(new Vi(this.tileID.overscaledZ),t,this.tileID.canonical))return}else if(!i.filter(new Vi(this.tileID.overscaledZ),p))return;const f=this.getId(p,d);for(let m=0;m<h.length;m++){const e=h[m];if(o&&o.indexOf(e)<0)continue;const n=s[e];if(!n)continue;let i={};f&&c&&(i=c.getState(n.sourceLayer||"_geojsonTileLayer",f));const d=y({},l[e]);d.paint=Hu(d.paint,n.paint,p,i,a),d.layout=Hu(d.layout,n.layout,p,i,a);const g=!u||u(p,n,i);if(!g)continue;const v=new Zu(p,this.z,this.x,this.y,f);v.layer=d;let _=t[e];void 0===_&&(_=t[e]=[]),_.push({featureIndex:r,feature:v,intersectionZ:g})}}lookupSymbolFeatures(t,e,n,r,i,o,a,s){const l={};this.loadVTLayers();const c=Cr(i);for(const u of t)this.loadMatchingFeature(l,n,r,u,c,o,a,s,e);return l}hasLayer(t){for(const e of this.bucketLayerIDs)for(const n of e)if(t===n)return!0;return!1}getId(t,e){let n=t.id;return this.promoteId&&(n=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]],"boolean"==typeof n&&(n=Number(n))),n}}function Hu(t,e,n,r,i){return _(t,((t,o)=>{const a=e instanceof Ki?e.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function Wu(t){let e=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of t)e=Math.min(e,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x),i=Math.max(i,o.y);return{minX:e,minY:n,maxX:r,maxY:i}}function Gu(t,e){return e-t}function Xu(t,e,n,r,i){const a=[];for(let s=0;s<t.length;s++){const l=t[s];let c;for(let t=0;t<l.length-1;t++){let s=l[t],u=l[t+1];s.x<e&&u.x<e||(s.x<e?s=new o(e,s.y+(e-s.x)/(u.x-s.x)*(u.y-s.y))._round():u.x<e&&(u=new o(e,s.y+(e-s.x)/(u.x-s.x)*(u.y-s.y))._round()),s.y<n&&u.y<n||(s.y<n?s=new o(s.x+(n-s.y)/(u.y-s.y)*(u.x-s.x),n)._round():u.y<n&&(u=new o(s.x+(n-s.y)/(u.y-s.y)*(u.x-s.x),n)._round()),s.x>=r&&u.x>=r||(s.x>=r?s=new o(r,s.y+(r-s.x)/(u.x-s.x)*(u.y-s.y))._round():u.x>=r&&(u=new o(r,s.y+(r-s.x)/(u.x-s.x)*(u.y-s.y))._round()),s.y>=i&&u.y>=i||(s.y>=i?s=new o(s.x+(i-s.y)/(u.y-s.y)*(u.x-s.x),i)._round():u.y>=i&&(u=new o(s.x+(i-s.y)/(u.y-s.y)*(u.x-s.x),i)._round()),c&&s.equals(c[c.length-1])||(c=[s],a.push(c)),c.push(u)))))}}return a}xi("FeatureIndex",qu,{omit:["rawTileData","sourceLayerCoder"]});class Ku extends o{constructor(t,e,n,r){super(t,e),this.angle=n,void 0!==r&&(this.segment=r)}clone(){return new Ku(this.x,this.y,this.angle,this.segment)}}function Yu(t,e,n,r,i){if(void 0===e.segment||0===n)return!0;let o=e,a=e.segment+1,s=0;for(;s>-n/2;){if(a--,a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;const l=[];let c=0;for(;s<n/2;){const e=t[a],n=t[a+1];if(!n)return!1;let o=t[a-1].angleTo(e)-e.angleTo(n);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:o}),c+=o;s-l[0].distance>r;)c-=l.shift().angleDelta;if(c>i)return!1;a++,s+=e.dist(n)}return!0}function Ju(t){let e=0;for(let n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function Qu(t,e,n){return t?.6*e*n:0}function th(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function eh(t,e,n,r,i,o){const a=Qu(n,i,o),s=th(n,r)*o;let l=0;const c=Ju(t)/2;for(let u=0;u<t.length-1;u++){const n=t[u],r=t[u+1],i=n.dist(r);if(l+i>c){const o=(c-l)/i,h=Me.number(n.x,r.x,o),d=Me.number(n.y,r.y,o),p=new Ku(h,d,r.angleTo(n),u);return p._round(),!a||Yu(t,p,s,a,e)?p:void 0}l+=i}}function nh(t,e,n,r,i,o,a,s,l){const c=Qu(r,o,a),u=th(r,i),h=u*a,d=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-h<e/4&&(e=h+e/4),rh(t,d?e/2*s%e:(u/2+2*o)*a*s%e,e,c,n,h,d,!1,l)}function rh(t,e,n,r,i,o,a,s,l){const c=o/2,u=Ju(t);let h=0,d=e-n,p=[];for(let f=0;f<t.length-1;f++){const e=t[f],a=t[f+1],s=e.dist(a),m=a.angleTo(e);for(;d+n<h+s;){d+=n;const g=(d-h)/s,y=Me.number(e.x,a.x,g),v=Me.number(e.y,a.y,g);if(y>=0&&y<l&&v>=0&&v<l&&d-c>=0&&d+c<=u){const e=new Ku(y,v,m,f);e._round(),r&&!Yu(t,e,o,r,i)||p.push(e)}}h+=s}return s||p.length||a||(p=rh(t,h/2,n,r,i,o,a,!0,l)),p}xi("Anchor",Ku);const ih=Lc;function oh(t,e,n,r){const i=[],a=t.image,s=a.pixelRatio,l=a.paddedRect.w-2*ih,c=a.paddedRect.h-2*ih;let u={x1:t.left,y1:t.top,x2:t.right,y2:t.bottom};const h=a.stretchX||[[0,l]],d=a.stretchY||[[0,c]],p=(t,e)=>t+e[1]-e[0],f=h.reduce(p,0),m=d.reduce(p,0),g=l-f,y=c-m;let v=0,_=f,b=0,x=m,w=0,S=g,k=0,P=y;if(a.content&&r){const e=a.content,n=e[2]-e[0],r=e[3]-e[1];(a.textFitWidth||a.textFitHeight)&&(u=tu(t)),v=ah(h,0,e[0]),b=ah(d,0,e[1]),_=ah(h,e[0],e[2]),x=ah(d,e[1],e[3]),w=e[0]-v,k=e[1]-b,S=n-_,P=r-x}const T=u.x1,E=u.y1,C=u.x2-T,A=u.y2-E,M=(t,r,i,l)=>{const c=lh(t.stretch-v,_,C,T),u=ch(t.fixed-w,S,t.stretch,f),h=lh(r.stretch-b,x,A,E),d=ch(r.fixed-k,P,r.stretch,m),p=lh(i.stretch-v,_,C,T),g=ch(i.fixed-w,S,i.stretch,f),y=lh(l.stretch-b,x,A,E),M=ch(l.fixed-k,P,l.stretch,m),O=new o(c,h),I=new o(p,h),z=new o(p,y),L=new o(c,y),D=new o(u/s,d/s),j=new o(g/s,M/s),R=e*Math.PI/180;if(R){const t=Math.sin(R),e=Math.cos(R),n=[e,-t,t,e];O._matMult(n),I._matMult(n),L._matMult(n),z._matMult(n)}const B=t.stretch+t.fixed,N=r.stretch+r.fixed;return{tl:O,tr:I,bl:L,br:z,tex:{x:a.paddedRect.x+ih+B,y:a.paddedRect.y+ih+N,w:i.stretch+i.fixed-B,h:l.stretch+l.fixed-N},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:D,pixelOffsetBR:j,minFontScaleX:S/s/C,minFontScaleY:P/s/A,isSDF:n}};if(r&&(a.stretchX||a.stretchY)){const t=sh(h,g,f),e=sh(d,y,m);for(let n=0;n<t.length-1;n++){const r=t[n],o=t[n+1];for(let t=0;t<e.length-1;t++)i.push(M(r,e[t],o,e[t+1]))}}else i.push(M({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:c+1}));return i}function ah(t,e,n){let r=0;for(const i of t)r+=Math.max(e,Math.min(n,i[1]))-Math.max(e,Math.min(n,i[0]));return r}function sh(t,e,n){const r=[{fixed:-ih,stretch:0}];for(const[i,o]of t){const t=r[r.length-1];r.push({fixed:i-t.stretch,stretch:t.stretch}),r.push({fixed:i-t.stretch,stretch:t.stretch+(o-i)})}return r.push({fixed:e+ih,stretch:n}),r}function lh(t,e,n,r){return t/e*n+r}function ch(t,e,n,r){return t-e*n/r}class uh{constructor(t,e,n,r,i,a,s,l,c,u){var h;if(this.boxStartIndex=t.length,c){let t=a.top,e=a.bottom;const n=a.collisionPadding;n&&(t-=n[1],e+=n[3]);let r=e-t;r>0&&(r=Math.max(10,r),this.circleDiameter=r)}else{const c=(null===(h=a.image)||void 0===h?void 0:h.content)&&(a.image.textFitWidth||a.image.textFitHeight)?tu(a):{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom};c.y1=c.y1*s-l[0],c.y2=c.y2*s+l[2],c.x1=c.x1*s-l[3],c.x2=c.x2*s+l[1];const d=a.collisionPadding;if(d&&(c.x1-=d[0]*s,c.y1-=d[1]*s,c.x2+=d[2]*s,c.y2+=d[3]*s),u){const t=new o(c.x1,c.y1),e=new o(c.x2,c.y1),n=new o(c.x1,c.y2),r=new o(c.x2,c.y2),i=u*Math.PI/180;t._rotate(i),e._rotate(i),n._rotate(i),r._rotate(i),c.x1=Math.min(t.x,e.x,n.x,r.x),c.x2=Math.max(t.x,e.x,n.x,r.x),c.y1=Math.min(t.y,e.y,n.y,r.y),c.y2=Math.max(t.y,e.y,n.y,r.y)}t.emplaceBack(e.x,e.y,c.x1,c.y1,c.x2,c.y2,n,r,i)}this.boxEndIndex=t.length}}class hh{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t,e)=>t<e?-1:t>e?1:0;if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(t){this.data.push(t),this._up(this.length++)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return--this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:n}=this,r=e[t];for(;t>0;){const i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r}_down(t){const{data:e,compare:n}=this,r=this.length>>1,i=e[t];for(;t<r;){let r=1+(t<<1);const o=r+1;if(o<this.length&&n(e[o],e[r])<0&&(r=o),n(e[r],i)>=0)break;e[t]=e[r],t=r}e[t]=i}}function dh(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=1/0,i=1/0,a=-1/0,s=-1/0;const l=t[0];for(let o=0;o<l.length;o++){const t=l[o];(!o||t.x<r)&&(r=t.x),(!o||t.y<i)&&(i=t.y),(!o||t.x>a)&&(a=t.x),(!o||t.y>s)&&(s=t.y)}const c=Math.min(a-r,s-i);let u=c/2;const h=new hh([],ph);if(0===c)return new o(r,i);for(let o=r;o<a;o+=c)for(let e=i;e<s;e+=c)h.push(new fh(o+u,e+u,u,t));let d=function(t){let e=0,n=0,r=0;const i=t[0];for(let o=0,a=i.length,s=a-1;o<a;s=o++){const t=i[o],a=i[s],l=t.x*a.y-a.x*t.y;n+=(t.x+a.x)*l,r+=(t.y+a.y)*l,e+=3*l}return new fh(n/e,r/e,0,t)}(t),p=h.length;for(;h.length;){const r=h.pop();(r.d>d.d||!d.d)&&(d=r,n&&console.log("found best %d after %d probes",Math.round(1e4*r.d)/1e4,p)),r.max-d.d<=e||(u=r.h/2,h.push(new fh(r.p.x-u,r.p.y-u,u,t)),h.push(new fh(r.p.x+u,r.p.y-u,u,t)),h.push(new fh(r.p.x-u,r.p.y+u,u,t)),h.push(new fh(r.p.x+u,r.p.y+u,u,t)),p+=4)}return n&&(console.log(`num probes: ${p}`),console.log(`best distance: ${d.d}`)),d.p}function ph(t,e){return e.max-t.max}function fh(t,e,n,r){this.p=new o(t,e),this.h=n,this.d=function(t,e){let n=!1,r=1/0;for(let i=0;i<e.length;i++){const o=e[i];for(let e=0,i=o.length,a=i-1;e<i;a=e++){const i=o[e],s=o[a];i.y>t.y!=s.y>t.y&&t.x<(s.x-i.x)*(t.y-i.y)/(s.y-i.y)+i.x&&(n=!n),r=Math.min(r,Ya(t,i,s))}}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}var mh;t.aq=void 0,(mh=t.aq||(t.aq={}))[mh.center=1]="center",mh[mh.left=2]="left",mh[mh.right=3]="right",mh[mh.top=4]="top",mh[mh.bottom=5]="bottom",mh[mh["top-left"]=6]="top-left",mh[mh["top-right"]=7]="top-right",mh[mh["bottom-left"]=8]="bottom-left",mh[mh["bottom-right"]=9]="bottom-right";const gh=7,yh=Number.POSITIVE_INFINITY;function vh(t,e){return e[1]!==yh?function(t,e,n){let r=0,i=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":i=n-gh;break;case"bottom-right":case"bottom-left":case"bottom":i=-n+gh}switch(t){case"top-right":case"bottom-right":case"right":r=-e;break;case"top-left":case"bottom-left":case"left":r=e}return[r,i]}(t,e[0],e[1]):function(t,e){let n=0,r=0;e<0&&(e=0);const i=e/Math.SQRT2;switch(t){case"top-right":case"top-left":r=i-gh;break;case"bottom-right":case"bottom-left":r=-i+gh;break;case"bottom":r=-e+gh;break;case"top":r=e-gh}switch(t){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=e;break;case"right":n=-e}return[n,r]}(t,e[0])}function _h(t,e,n){var r;const i=t.layout,o=null===(r=i.get("text-variable-anchor-offset"))||void 0===r?void 0:r.evaluate(e,{},n);if(o){const t=o.values,e=[];for(let n=0;n<t.length;n+=2){const r=e[n]=t[n],i=t[n+1].map((t=>t*ic));r.startsWith("top")?i[1]-=gh:r.startsWith("bottom")&&(i[1]+=gh),e[n+1]=i}return new Qt(e)}const a=i.get("text-variable-anchor");if(a){let r;r=void 0!==t._unevaluatedLayout.getValue("text-radial-offset")?[i.get("text-radial-offset").evaluate(e,{},n)*ic,yh]:i.get("text-offset").evaluate(e,{},n).map((t=>t*ic));const o=[];for(const t of a)o.push(t,vh(t,r));return new Qt(o)}return null}function bh(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function xh(e,n,r,i,o,a,s,l,c,u,h){let d=a.textMaxSize.evaluate(n,{});void 0===d&&(d=s);const p=e.layers[0].layout,f=p.get("icon-offset").evaluate(n,{},h),m=Sh(r.horizontal),g=s/24,y=e.tilePixelRatio*g,v=e.tilePixelRatio*d/24,_=e.tilePixelRatio*l,b=e.tilePixelRatio*p.get("symbol-spacing"),x=p.get("text-padding")*e.tilePixelRatio,w=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=t.get("icon-padding").evaluate(e,{},n),o=i&&i.values;return[o[0]*r,o[1]*r,o[2]*r,o[3]*r]}(p,n,h,e.tilePixelRatio),k=p.get("text-max-angle")/180*Math.PI,P="viewport"!==p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),T="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),E=p.get("symbol-placement"),C=b/2,A=p.get("icon-text-fit");let M;i&&"none"!==A&&(e.allowVerticalPlacement&&r.vertical&&(M=eu(i,r.vertical,A,p.get("icon-text-fit-padding"),f,g)),m&&(i=eu(i,m,A,p.get("icon-text-fit-padding"),f,g)));const O=(l,d)=>{d.x<0||d.x>=Ra||d.y<0||d.y>=Ra||function(e,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,k,P,T){const E=e.addToLineVertexArray(n,r);let C,A,M,O,I=0,z=0,L=0,D=0,j=-1,R=-1;const B={};let N=ya("");if(e.allowVerticalPlacement&&i.vertical){const t=l.layout.get("text-rotate").evaluate(x,{},P)+90;M=new uh(c,n,u,h,d,i.vertical,p,f,m,t),s&&(O=new uh(c,n,u,h,d,s,y,v,m,t))}if(o){const r=l.layout.get("icon-rotate").evaluate(x,{}),i="none"!==l.layout.get("icon-text-fit"),a=oh(o,r,k,i),p=s?oh(s,r,k,i):void 0;A=new uh(c,n,u,h,d,o,y,v,!1,r),I=4*a.length;const f=e.iconSizeData;let m=null;"source"===f.kind?(m=[ru*l.layout.get("icon-size").evaluate(x,{})],m[0]>iu&&S(`${e.layerIds[0]}: Value for "icon-size" is >= ${nu}. Reduce your "icon-size".`)):"composite"===f.kind&&(m=[ru*w.compositeIconSizes[0].evaluate(x,{},P),ru*w.compositeIconSizes[1].evaluate(x,{},P)],(m[0]>iu||m[1]>iu)&&S(`${e.layerIds[0]}: Value for "icon-size" is >= ${nu}. Reduce your "icon-size".`)),e.addSymbols(e.icon,a,m,b,_,x,t.ah.none,n,E.lineStartIndex,E.lineLength,-1,P),j=e.icon.placedSymbolArray.length-1,p&&(z=4*p.length,e.addSymbols(e.icon,p,m,b,_,x,t.ah.vertical,n,E.lineStartIndex,E.lineLength,-1,P),R=e.icon.placedSymbolArray.length-1)}const F=Object.keys(i.horizontal);for(const S of F){const r=i.horizontal[S];if(!C){N=ya(r.text);const t=l.layout.get("text-rotate").evaluate(x,{},P);C=new uh(c,n,u,h,d,r,p,f,m,t)}const o=1===r.positionedLines.length;if(L+=wh(e,n,r,a,l,m,x,g,E,i.vertical?t.ah.horizontal:t.ah.horizontalOnly,o?F:[S],B,j,w,P),o)break}i.vertical&&(D+=wh(e,n,i.vertical,a,l,m,x,g,E,t.ah.vertical,["vertical"],B,R,w,P));const $=C?C.boxStartIndex:e.collisionBoxArray.length,V=C?C.boxEndIndex:e.collisionBoxArray.length,U=M?M.boxStartIndex:e.collisionBoxArray.length,Z=M?M.boxEndIndex:e.collisionBoxArray.length,q=A?A.boxStartIndex:e.collisionBoxArray.length,H=A?A.boxEndIndex:e.collisionBoxArray.length,W=O?O.boxStartIndex:e.collisionBoxArray.length,G=O?O.boxEndIndex:e.collisionBoxArray.length;let X=-1;const K=(t,e)=>t&&t.circleDiameter?Math.max(t.circleDiameter,e):e;X=K(C,X),X=K(M,X),X=K(A,X),X=K(O,X);const Y=X>-1?1:0;Y&&(X*=T/ic),e.glyphOffsetArray.length>=fu.MAX_GLYPHS&&S("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,x.sortKey);const J=_h(l,x,P),[Q,tt]=function(e,n){const r=e.length,i=null==n?void 0:n.values;if((null==i?void 0:i.length)>0)for(let o=0;o<i.length;o+=2){const n=i[o+1];e.emplaceBack(t.aq[i[o]],n[0],n[1])}return[r,e.length]}(e.textAnchorOffsets,J);e.symbolInstances.emplaceBack(n.x,n.y,B.right>=0?B.right:-1,B.center>=0?B.center:-1,B.left>=0?B.left:-1,B.vertical||-1,j,R,N,$,V,U,Z,q,H,W,G,u,L,D,I,z,Y,0,p,X,Q,tt)}(e,d,l,r,i,o,M,e.layers[0],e.collisionBoxArray,n.index,n.sourceLayerIndex,e.index,y,[x,x,x,x],P,c,_,w,T,f,n,a,u,h,s)};if("line"===E)for(const t of Xu(n.geometry,0,0,Ra,Ra)){const n=nh(t,b,k,r.vertical||m,i,24,v,e.overscaling,Ra);for(const r of n)m&&kh(e,m.text,C,r)||O(t,r)}else if("line-center"===E){for(const t of n.geometry)if(t.length>1){const e=eh(t,k,r.vertical||m,i,24,v);e&&O(t,e)}}else if("Polygon"===n.type)for(const t of _n(n.geometry,0)){const e=dh(t,16);O(t[0],new Ku(e.x,e.y,0))}else if("LineString"===n.type)for(const t of n.geometry)O(t,new Ku(t[0].x,t[0].y,0));else if("Point"===n.type)for(const t of n.geometry)for(const e of t)O([e],new Ku(e.x,e.y,0))}function wh(t,e,n,r,i,a,s,l,c,u,h,d,p,f,m){const g=function(t,e,n,r,i,a,s,l){const c=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,u=[];for(const h of e.positionedLines)for(const t of h.positionedGlyphs){if(!t.rect)continue;const r=t.rect||{};let a=Ic+1,d=!0,p=1,f=0;const m=(i||l)&&t.vertical,g=t.metrics.advance*t.scale/2;if(l&&e.verticalizable&&(f=h.lineOffset/2-(t.imageName?-(ic-t.metrics.width*t.scale)/2:(t.scale-1)*ic)),t.imageName){const e=s[t.imageName];d=e.sdf,p=e.pixelRatio,a=Lc/p}const y=i?[t.x+g,t.y]:[0,0];let v=i?[0,0]:[t.x+g+n[0],t.y+n[1]-f],_=[0,0];m&&(_=v,v=[0,0]);const b=t.metrics.isDoubleResolution?2:1,x=(t.metrics.left-a)*t.scale-g+v[0],w=(-t.metrics.top-a)*t.scale+v[1],S=x+r.w/b*t.scale/p,k=w+r.h/b*t.scale/p,P=new o(x,w),T=new o(S,w),E=new o(x,k),C=new o(S,k);if(m){const e=new o(-g,g-Bc),n=-Math.PI/2,r=ic/2-g,i=new o(5-Bc-r,-(t.imageName?r:0)),a=new o(..._);P._rotateAround(n,e)._add(i)._add(a),T._rotateAround(n,e)._add(i)._add(a),E._rotateAround(n,e)._add(i)._add(a),C._rotateAround(n,e)._add(i)._add(a)}if(c){const t=Math.sin(c),e=Math.cos(c),n=[e,-t,t,e];P._matMult(n),T._matMult(n),E._matMult(n),C._matMult(n)}const A=new o(0,0),M=new o(0,0);u.push({tl:P,tr:T,bl:E,br:C,tex:r,writingMode:e.writingMode,glyphOffset:y,sectionIndex:t.sectionIndex,isSDF:d,pixelOffsetTL:A,pixelOffsetBR:M,minFontScaleX:0,minFontScaleY:0})}return u}(0,n,l,i,a,s,r,t.allowVerticalPlacement),y=t.textSizeData;let v=null;"source"===y.kind?(v=[ru*i.layout.get("text-size").evaluate(s,{})],v[0]>iu&&S(`${t.layerIds[0]}: Value for "text-size" is >= ${nu}. Reduce your "text-size".`)):"composite"===y.kind&&(v=[ru*f.compositeTextSizes[0].evaluate(s,{},m),ru*f.compositeTextSizes[1].evaluate(s,{},m)],(v[0]>iu||v[1]>iu)&&S(`${t.layerIds[0]}: Value for "text-size" is >= ${nu}. Reduce your "text-size".`)),t.addSymbols(t.text,g,v,l,a,s,u,e,c.lineStartIndex,c.lineLength,p,m);for(const o of h)d[o]=t.text.placedSymbolArray.length-1;return 4*g.length}function Sh(t){for(const e in t)return t[e];return null}function kh(t,e,n,r){const i=t.compareText;if(e in i){const t=i[e];for(let e=t.length-1;e>=0;e--)if(r.dist(t[e])<n)return!0}else i[e]=[];return i[e].push(r),!1}const Ph=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Th{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[e,n]=new Uint8Array(t,0,2);if(219!==e)throw new Error("Data does not appear to be in a KDBush format.");const r=n>>4;if(1!==r)throw new Error(`Got v${r} data when expected v1.`);const i=Ph[15&n];if(!i)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(t,2,1),[a]=new Uint32Array(t,4,1);return new Th(a,o,i,t)}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+e,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const i=Ph.indexOf(this.ArrayType),o=2*t*this.ArrayType.BYTES_PER_ELEMENT,a=t*this.IndexArrayType.BYTES_PER_ELEMENT,s=(8-a%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${n}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+a+s,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+o+a+s),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+a+s,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=e,new Uint32Array(this.data,4,1)[0]=t)}add(t,e){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=e,n}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return Eh(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:a}=this,s=[0,i.length-1,0],l=[];for(;s.length;){const c=s.pop()||0,u=s.pop()||0,h=s.pop()||0;if(u-h<=a){for(let a=h;a<=u;a++){const s=o[2*a],c=o[2*a+1];s>=t&&s<=n&&c>=e&&c<=r&&l.push(i[a])}continue}const d=h+u>>1,p=o[2*d],f=o[2*d+1];p>=t&&p<=n&&f>=e&&f<=r&&l.push(i[d]),(0===c?t<=p:e<=f)&&(s.push(h),s.push(d-1),s.push(1-c)),(0===c?n>=p:r>=f)&&(s.push(d+1),s.push(u),s.push(1-c))}return l}within(t,e,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:i,nodeSize:o}=this,a=[0,r.length-1,0],s=[],l=n*n;for(;a.length;){const c=a.pop()||0,u=a.pop()||0,h=a.pop()||0;if(u-h<=o){for(let n=h;n<=u;n++)Oh(i[2*n],i[2*n+1],t,e)<=l&&s.push(r[n]);continue}const d=h+u>>1,p=i[2*d],f=i[2*d+1];Oh(p,f,t,e)<=l&&s.push(r[d]),(0===c?t-n<=p:e-n<=f)&&(a.push(h),a.push(d-1),a.push(1-c)),(0===c?t+n>=p:e+n>=f)&&(a.push(d+1),a.push(u),a.push(1-c))}return s}}function Eh(t,e,n,r,i,o){if(i-r<=n)return;const a=r+i>>1;Ch(t,e,a,r,i,o),Eh(t,e,n,r,a-1,1-o),Eh(t,e,n,a+1,i,1-o)}function Ch(t,e,n,r,i,o){for(;i>r;){if(i-r>600){const a=i-r+1,s=n-r+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(s-a/2<0?-1:1);Ch(t,e,n,Math.max(r,Math.floor(n-s*c/a+u)),Math.min(i,Math.floor(n+(a-s)*c/a+u)),o)}const a=e[2*n+o];let s=r,l=i;for(Ah(t,e,r,n),e[2*i+o]>a&&Ah(t,e,r,i);s<l;){for(Ah(t,e,s,l),s++,l--;e[2*s+o]<a;)s++;for(;e[2*l+o]>a;)l--}e[2*r+o]===a?Ah(t,e,r,l):(l++,Ah(t,e,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function Ah(t,e,n,r){Mh(t,n,r),Mh(e,2*n,2*r),Mh(e,2*n+1,2*r+1)}function Mh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Oh(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}var Ih;t.bg=void 0,(Ih=t.bg||(t.bg={})).create="create",Ih.load="load",Ih.fullLoad="fullLoad";let zh=null,Lh=[];const Dh=1e3/60,jh="loadTime",Rh="fullLoadTime",Bh={mark(t){performance.mark(t)},frame(t){const e=t;null!=zh&&Lh.push(e-zh),zh=e},clearMetrics(){zh=null,Lh=[],performance.clearMeasures(jh),performance.clearMeasures(Rh);for(const e in t.bg)performance.clearMarks(t.bg[e])},getPerformanceMetrics(){performance.measure(jh,t.bg.create,t.bg.load),performance.measure(Rh,t.bg.create,t.bg.fullLoad);const e=performance.getEntriesByName(jh)[0].duration,n=performance.getEntriesByName(Rh)[0].duration,r=Lh.length,i=1/(Lh.reduce(((t,e)=>t+e),0)/r/1e3),o=Lh.filter((t=>t>Dh)).reduce(((t,e)=>t+(e-Dh)/Dh),0);return{loadTime:e,fullLoadTime:n,fps:i,percentDroppedFrames:o/(r+o)*100,totalFrames:r}}};t.$=class extends po{},t.A=ls,t.B=mi,t.C=function(t){if(null==T){const e=t.navigator?t.navigator.userAgent:null;T=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return T},t.D=Yi,t.E=q,t.F=class{constructor(t,e){this.target=t,this.mapId=e,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new Eu((()=>this.process())),this.subscription=function(t,e,n){return t.addEventListener(e,n,!1),{unsubscribe:()=>{t.removeEventListener(e,n,!1)}}}(this.target,"message",(t=>this.receive(t))),this.globalScope=P(self)?t:window}registerMessageHandler(t,e){this.messageHandlers[t]=e}sendAsync(t,e){return new Promise(((n,r)=>{const i=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[i]={resolve:n,reject:r},e&&e.signal.addEventListener("abort",(()=>{delete this.resolveRejects[i];const e={id:i,type:"<cancel>",origin:location.origin,targetMapId:t.targetMapId,sourceMapId:this.mapId};this.target.postMessage(e)}),{once:!0});const o=[],a=Object.assign(Object.assign({},t),{id:i,sourceMapId:this.mapId,origin:location.origin,data:Pi(t.data,o)});this.target.postMessage(a,{transfer:o})}))}receive(t){const e=t.data,n=e.id;if(!("file://"!==e.origin&&"file://"!==location.origin&&"resource://android"!==e.origin&&"resource://android"!==location.origin&&e.origin!==location.origin||e.targetMapId&&this.mapId!==e.targetMapId)){if("<cancel>"===e.type){delete this.tasks[n];const t=this.abortControllers[n];return delete this.abortControllers[n],void(t&&t.abort())}if(P(self)||e.mustQueue)return this.tasks[n]=e,this.taskQueue.push(n),void this.invoker.trigger();this.processTask(n,e)}}process(){if(0===this.taskQueue.length)return;const t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length>0&&this.invoker.trigger(),e&&this.processTask(t,e)}processTask(t,n){return e(this,void 0,void 0,(function*(){if("<response>"===n.type){const e=this.resolveRejects[t];if(delete this.resolveRejects[t],!e)return;return void(n.error?e.reject(Ti(n.error)):e.resolve(Ti(n.data)))}if(!this.messageHandlers[n.type])return void this.completeTask(t,new Error(`Could not find a registered handler for ${n.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const e=Ti(n.data),r=new AbortController;this.abortControllers[t]=r;try{const i=yield this.messageHandlers[n.type](n.sourceMapId,e,r);this.completeTask(t,null,i)}catch(e){this.completeTask(t,e)}}))}completeTask(t,e,n){const r=[];delete this.abortControllers[t];const i={id:t,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:e?Pi(e):null,data:Pi(n,r)};this.target.postMessage(i,{transfer:r})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},t.G=j,t.H=function(){var t=new ls(16);return ls!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.I=Dc,t.J=function(t,e,n){var r,i,o,a,s,l,c,u,h,d,p,f,m=n[0],g=n[1],y=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],d=e[9],p=e[10],f=e[11],t[0]=r=e[0],t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=h,t[9]=d,t[10]=p,t[11]=f,t[12]=r*m+s*g+h*y+e[12],t[13]=i*m+l*g+d*y+e[13],t[14]=o*m+c*g+p*y+e[14],t[15]=a*m+u*g+f*y+e[15]),t},t.K=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.L=us,t.M=function(t,e){const n={};for(let r=0;r<e.length;r++){const i=e[r];i in t&&(n[i]=t[i])}return n},t.N=Au,t.O=Iu,t.P=o,t.Q=zu,t.R=Ss,t.S=Fu,t.T=qi,t.U=h,t.V=d,t.W=A,t.X=Ra,t.Y=lo,t.Z=ju,t._=e,t.a=L,t.a$=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=t[9],d=t[10],p=t[11],f=t[12],m=t[13],g=t[14],y=t[15],v=e[0],_=e[1],b=e[2],x=e[3],w=e[4],S=e[5],k=e[6],P=e[7],T=e[8],E=e[9],C=e[10],A=e[11],M=e[12],O=e[13],I=e[14],z=e[15];return Math.abs(n-v)<=ss*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-_)<=ss*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-b)<=ss*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-x)<=ss*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-w)<=ss*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-S)<=ss*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-k)<=ss*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(c-P)<=ss*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(u-T)<=ss*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(h-E)<=ss*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(d-C)<=ss*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(p-A)<=ss*Math.max(1,Math.abs(p),Math.abs(A))&&Math.abs(f-M)<=ss*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(m-O)<=ss*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(g-I)<=ss*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(y-z)<=ss*Math.max(1,Math.abs(y),Math.abs(z))},t.a0=la,t.a1=Bu,t.a2=it,t.a3=t=>{const e=window.document.createElement("video");return e.muted=!0,new Promise((n=>{e.onloadstart=()=>{n(e)};for(const r of t){const t=window.document.createElement("source");F(r)||(e.crossOrigin="Anonymous"),t.src=r,e.appendChild(t)}}))},t.a4=function(){return v++},t.a5=Do,t.a6=fu,t.a7=Cr,t.a8=$a,t.a9=Zu,t.aA=function(t){if("custom"===t.type)return new Tu(t);switch(t.type){case"background":return new wu(t);case"circle":return new fs(t);case"fill":return new cl(t);case"fill-extrusion":return new zl(t);case"heatmap":return new Ts(t);case"hillshade":return new As(t);case"line":return new Xl(t);case"raster":return new Pu(t);case"symbol":return new _u(t)}},t.aB=x,t.aC=function(t,e){if(!t)return[{command:"setStyle",args:[e]}];let n=[];try{if(!X(t.version,e.version))return[{command:"setStyle",args:[e]}];X(t.center,e.center)||n.push({command:"setCenter",args:[e.center]}),X(t.zoom,e.zoom)||n.push({command:"setZoom",args:[e.zoom]}),X(t.bearing,e.bearing)||n.push({command:"setBearing",args:[e.bearing]}),X(t.pitch,e.pitch)||n.push({command:"setPitch",args:[e.pitch]}),X(t.sprite,e.sprite)||n.push({command:"setSprite",args:[e.sprite]}),X(t.glyphs,e.glyphs)||n.push({command:"setGlyphs",args:[e.glyphs]}),X(t.transition,e.transition)||n.push({command:"setTransition",args:[e.transition]}),X(t.light,e.light)||n.push({command:"setLight",args:[e.light]}),X(t.terrain,e.terrain)||n.push({command:"setTerrain",args:[e.terrain]}),X(t.sky,e.sky)||n.push({command:"setSky",args:[e.sky]}),X(t.projection,e.projection)||n.push({command:"setProjection",args:[e.projection]});const r={},i=[];!function(t,e,n,r){let i;for(i in e=e||{},t=t||{})Object.prototype.hasOwnProperty.call(t,i)&&(Object.prototype.hasOwnProperty.call(e,i)||J(i,n,r));for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)?X(t[i],e[i])||("geojson"===t[i].type&&"geojson"===e[i].type&&tt(t,e,i)?K(n,{command:"setGeoJSONSourceData",args:[i,e[i].data]}):Q(i,e,n,r)):Y(i,e,n))}(t.sources,e.sources,i,r);const o=[];t.layers&&t.layers.forEach((t=>{"source"in t&&r[t.source]?n.push({command:"removeLayer",args:[t.id]}):o.push(t)})),n=n.concat(i),function(t,e,n){e=e||[];const r=(t=t||[]).map(nt),i=e.map(nt),o=t.reduce(rt,{}),a=e.reduce(rt,{}),s=r.slice(),l=Object.create(null);let c,u,h,d,p;for(let f=0,m=0;f<r.length;f++)c=r[f],Object.prototype.hasOwnProperty.call(a,c)?m++:(K(n,{command:"removeLayer",args:[c]}),s.splice(s.indexOf(c,m),1));for(let f=0,m=0;f<i.length;f++)c=i[i.length-1-f],s[s.length-1-f]!==c&&(Object.prototype.hasOwnProperty.call(o,c)?(K(n,{command:"removeLayer",args:[c]}),s.splice(s.lastIndexOf(c,s.length-m),1)):m++,d=s[s.length-f],K(n,{command:"addLayer",args:[a[c],d]}),s.splice(s.length-f,0,c),l[c]=!0);for(let f=0;f<i.length;f++)if(c=i[f],u=o[c],h=a[c],!l[c]&&!X(u,h))if(X(u.source,h.source)&&X(u["source-layer"],h["source-layer"])&&X(u.type,h.type)){for(p in et(u.layout,h.layout,n,c,null,"setLayoutProperty"),et(u.paint,h.paint,n,c,null,"setPaintProperty"),X(u.filter,h.filter)||K(n,{command:"setFilter",args:[c,h.filter]}),X(u.minzoom,h.minzoom)&&X(u.maxzoom,h.maxzoom)||K(n,{command:"setLayerZoomRange",args:[c,h.minzoom,h.maxzoom]}),u)Object.prototype.hasOwnProperty.call(u,p)&&"layout"!==p&&"paint"!==p&&"filter"!==p&&"metadata"!==p&&"minzoom"!==p&&"maxzoom"!==p&&(0===p.indexOf("paint.")?et(u[p],h[p],n,c,p.slice(6),"setPaintProperty"):X(u[p],h[p])||K(n,{command:"setLayerProperty",args:[c,p,h[p]]}));for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&!Object.prototype.hasOwnProperty.call(u,p)&&"layout"!==p&&"paint"!==p&&"filter"!==p&&"metadata"!==p&&"minzoom"!==p&&"maxzoom"!==p&&(0===p.indexOf("paint.")?et(u[p],h[p],n,c,p.slice(6),"setPaintProperty"):X(u[p],h[p])||K(n,{command:"setLayerProperty",args:[c,p,h[p]]}))}else K(n,{command:"removeLayer",args:[c]}),d=s[s.lastIndexOf(c)+1],K(n,{command:"addLayer",args:[h,d]})}(o,e.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:"setStyle",args:[e]}]}return n},t.aD=function(t){const e=[],n=t.id;return void 0===n&&e.push({message:`layers.${n}: missing required property "id"`}),void 0===t.render&&e.push({message:`layers.${n}: missing required method "render"`}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),e},t.aE=function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(!t(e[r],n[r]))return!1;return!0}return e===n},t.aF=_,t.aG=b,t.aH=class extends wa{constructor(t,e){super(t,e),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))}},t.aI=Sa,t.aJ=class extends wa{constructor(t,e){super(t,e),this.current=Ta}set(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(let e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}}},t.aK=ka,t.aL=Pa,t.aM=Wt,t.aN=class extends wa{constructor(t,e){super(t,e),this.current=[0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))}},t.aO=class extends wa{constructor(t,e){super(t,e),this.current=[0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))}},t.aP=function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*c,t[15]=1,t},t.aQ=ds,t.aR=class extends So{},t.aS=ec,t.aT=class extends Po{},t.aU=Ps,t.aV=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.aW=ks,t.aX=Ho,t.aY=ia,t.aZ=class extends Io{},t.a_=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},t.aa=function(t){const e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((t,n,r,i)=>{const o=r||i;return e[n]=!o||o.toLowerCase(),""})),e["max-age"]){const t=parseInt(e["max-age"],10);isNaN(t)?delete e["max-age"]:e["max-age"]=t}return e},t.ab=function(t,e){const n=[];for(const r in t)r in e||n.push(r);return n},t.ac=m,t.ad=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],c=e[4],u=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+u*r,t[2]=s*i+h*r,t[3]=l*i+d*r,t[4]=c*i-o*r,t[5]=u*i-a*r,t[6]=h*i-s*r,t[7]=d*i-l*r,t},t.ae=function(t){var e=new ls(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.af=ps,t.ag=function(t,e){let n=0,r=0;if("constant"===t.kind)r=t.layoutSize;else if("source"!==t.kind){const{interpolationType:i,minZoom:o,maxZoom:a}=t,s=i?m(Oe.interpolationFactor(i,e,o,a),0,1):0;"camera"===t.kind?r=Me.number(t.minSize,t.maxSize,s):n=s}return{uSizeT:n,uSize:r}},t.ai=function(t,e,n){let{uSize:r,uSizeT:i}=e,{lowerSize:o,upperSize:a}=n;return"source"===t.kind?o/ru:"composite"===t.kind?Me.number(o/ru,a/ru,i):r},t.aj=uu,t.ak=function(t,e,n,r){const i=e.y-t.y,a=e.x-t.x,s=r.y-n.y,l=r.x-n.x,c=s*a-l*i;if(0===c)return null;const u=(l*(t.y-n.y)-s*(t.x-n.x))/c;return new o(t.x+u*a,t.y+u*i)},t.al=Xu,t.am=Za,t.an=cs,t.ao=function(t){let e=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of t)e=Math.min(e,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x),i=Math.max(i,o.y);return[e,n,r,i]},t.ap=ic,t.ar=au,t.as=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15],v=n*s-r*a,_=n*l-i*a,b=n*c-o*a,x=r*l-i*s,w=r*c-o*s,S=i*c-o*l,k=u*m-h*f,P=u*g-d*f,T=u*y-p*f,E=h*g-d*m,C=h*y-p*m,A=d*y-p*g,M=v*A-_*C+b*E+x*T-w*P+S*k;return M?(t[0]=(s*A-l*C+c*E)*(M=1/M),t[1]=(i*C-r*A-o*E)*M,t[2]=(m*S-g*w+y*x)*M,t[3]=(d*w-h*S-p*x)*M,t[4]=(l*T-a*A-c*P)*M,t[5]=(n*A-i*T+o*P)*M,t[6]=(g*b-f*S-y*_)*M,t[7]=(u*S-d*b+p*_)*M,t[8]=(a*C-s*T+c*k)*M,t[9]=(r*T-n*C-o*k)*M,t[10]=(f*w-m*b+y*v)*M,t[11]=(h*b-u*w-p*v)*M,t[12]=(s*P-a*E-l*k)*M,t[13]=(n*E-r*P+i*k)*M,t[14]=(m*_-f*x-g*v)*M,t[15]=(u*x-h*_+d*v)*M,t):null},t.at=bh,t.au=Yc,t.av=Th,t.aw=function(){const t={},e=H.$version;for(const n in H.$root){const r=H.$root[n];if(r.required){let i=null;i="version"===n?e:"array"===r.type?[]:{},null!=i&&(t[n]=i)}}return t},t.ax=Ei,t.ay=B,t.az=function(t){t=t.slice();const e=Object.create(null);for(let n=0;n<t.length;n++)e[t[n].id]=t[n];for(let n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=G(t[n],e[t[n].ref]));return t},t.b=E,t.b0=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.b1=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},t.b2=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.b3=g,t.b4=Nu,t.b5=Lu,t.b6=function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+r)*(o=1/(r-i)),t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t},t.b7=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+u*r,t[6]=s*i+h*r,t[7]=l*i+d*r,t[8]=c*i-o*r,t[9]=u*i-a*r,t[10]=h*i-s*r,t[11]=d*i-l*r,t},t.b8=p,t.b9=f,t.bA=oc,t.bB=function(t){return t.message===I},t.bC=br,t.bD=$i,t.ba=function(t){return t*Math.PI/180},t.bb=function(t,e){const{x:n,y:r}=ju.fromLngLat(e);return!(t<0||t>25||r<0||r>=1||n<0||n>=1)},t.bc=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.bd=class extends ho{},t.be=Cu,t.bf=Bh,t.bh=R,t.bi=function(t,e){L.REGISTERED_PROTOCOLS[t]=e},t.bj=function(t){delete L.REGISTERED_PROTOCOLS[t]},t.bk=function(t,e){const n={};for(let i=0;i<t.length;i++){const r=e&&e[t[i].id]||Rr(t[i]);e&&(e[t[i].id]=r);let o=n[r];o||(o=n[r]=[]),o.push(t[i])}const r=[];for(const i in n)r.push(n[i]);return r},t.bl=xi,t.bm=Uu,t.bn=qu,t.bo=jc,t.bp=function(e){e.bucket.createArrays(),e.bucket.tilePixelRatio=Ra/(512*e.bucket.overscaling),e.bucket.compareText={},e.bucket.iconsNeedLinear=!1;const n=e.bucket.layers[0],r=n.layout,i=n._unevaluatedLayout._values,o={layoutIconSize:i["icon-size"].possiblyEvaluate(new Vi(e.bucket.zoom+1),e.canonical),layoutTextSize:i["text-size"].possiblyEvaluate(new Vi(e.bucket.zoom+1),e.canonical),textMaxSize:i["text-size"].possiblyEvaluate(new Vi(18))};if("composite"===e.bucket.textSizeData.kind){const{minZoom:t,maxZoom:n}=e.bucket.textSizeData;o.compositeTextSizes=[i["text-size"].possiblyEvaluate(new Vi(t),e.canonical),i["text-size"].possiblyEvaluate(new Vi(n),e.canonical)]}if("composite"===e.bucket.iconSizeData.kind){const{minZoom:t,maxZoom:n}=e.bucket.iconSizeData;o.compositeIconSizes=[i["icon-size"].possiblyEvaluate(new Vi(t),e.canonical),i["icon-size"].possiblyEvaluate(new Vi(n),e.canonical)]}const a=r.get("text-line-height")*ic,s="viewport"!==r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement"),l=r.get("text-keep-upright"),c=r.get("text-size");for(const u of e.bucket.features){const i=r.get("text-font").evaluate(u,{},e.canonical).join(","),h=c.evaluate(u,{},e.canonical),d=o.layoutTextSize.evaluate(u,{},e.canonical),p=o.layoutIconSize.evaluate(u,{},e.canonical),f={horizontal:{},vertical:void 0},m=u.text;let g,y=[0,0];if(m){const o=m.toString(),c=r.get("text-letter-spacing").evaluate(u,{},e.canonical)*ic,p=Mi(o)?c:0,g=r.get("text-anchor").evaluate(u,{},e.canonical),v=_h(n,u,e.canonical);if(!v){const t=r.get("text-radial-offset").evaluate(u,{},e.canonical);y=t?vh(g,[t*ic,yh]):r.get("text-offset").evaluate(u,{},e.canonical).map((t=>t*ic))}let _=s?"center":r.get("text-justify").evaluate(u,{},e.canonical);const b="point"===r.get("symbol-placement")?r.get("text-max-width").evaluate(u,{},e.canonical)*ic:1/0,x=()=>{e.bucket.allowVerticalPlacement&&Ai(o)&&(f.vertical=$c(m,e.glyphMap,e.glyphPositions,e.imagePositions,i,b,a,g,"left",p,y,t.ah.vertical,!0,d,h))};if(!s&&v){const n=new Set;if("auto"===_)for(let t=0;t<v.values.length;t+=2)n.add(bh(v.values[t]));else n.add(_);let r=!1;for(const o of n)if(!f.horizontal[o])if(r)f.horizontal[o]=f.horizontal[0];else{const n=$c(m,e.glyphMap,e.glyphPositions,e.imagePositions,i,b,a,"center",o,p,y,t.ah.horizontal,!1,d,h);n&&(f.horizontal[o]=n,r=1===n.positionedLines.length)}x()}else{"auto"===_&&(_=bh(g));const n=$c(m,e.glyphMap,e.glyphPositions,e.imagePositions,i,b,a,g,_,p,y,t.ah.horizontal,!1,d,h);n&&(f.horizontal[_]=n),x(),Ai(o)&&s&&l&&(f.vertical=$c(m,e.glyphMap,e.glyphPositions,e.imagePositions,i,b,a,g,_,p,y,t.ah.vertical,!1,d,h))}}let v=!1;if(u.icon&&u.icon.name){const t=e.imageMap[u.icon.name];t&&(g=Qc(e.imagePositions[u.icon.name],r.get("icon-offset").evaluate(u,{},e.canonical),r.get("icon-anchor").evaluate(u,{},e.canonical)),v=!!t.sdf,void 0===e.bucket.sdfIcons?e.bucket.sdfIcons=v:e.bucket.sdfIcons!==v&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(t.pixelRatio!==e.bucket.pixelRatio||0!==r.get("icon-rotate").constantOr(1))&&(e.bucket.iconsNeedLinear=!0))}const _=Sh(f.horizontal)||f.vertical;e.bucket.iconsInText=!!_&&_.iconsInText,(_||g)&&xh(e.bucket,u,f,g,e.imageMap,o,d,p,y,v,e.canonical)}e.showCollisionBoxes&&e.bucket.generateCollisionDebugBuffers()},t.bq=Ul,t.br=ol,t.bs=Cl,t.bt=pl,t.bu=Ec,t.bv=class{constructor(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let t=performance.getEntriesByName(this._marks.measure);return 0===t.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),t=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),t}},t.bw=function(t,n,r,i,o){return e(this,void 0,void 0,(function*(){if(d())try{return yield A(t,n,r,i,o)}catch(t){}return function(t,e,n,r,i){const o=t.width,a=t.height;M&&O||(M=new OffscreenCanvas(o,a),O=M.getContext("2d",{willReadFrequently:!0})),M.width=o,M.height=a,O.drawImage(t,0,0,o,a);const s=O.getImageData(e,n,r,i);return O.clearRect(0,0,o,a),s.data}(t,n,r,i,o)}))},t.bx=Vu,t.by=n,t.bz=r,t.c=z,t.d=t=>e(void 0,void 0,void 0,(function*(){if(0===t.byteLength)return createImageBitmap(new ImageData(1,1));const e=new Blob([new Uint8Array(t)],{type:"image/png"});try{return createImageBitmap(e)}catch(t){throw new Error(`Could not load image because of ${t.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),t.e=y,t.f=t=>new Promise(((e,n)=>{const r=new Image;r.onload=()=>{e(r),URL.revokeObjectURL(r.src),r.onload=null,window.requestAnimationFrame((()=>{r.src=C}))},r.onerror=()=>n(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const i=new Blob([new Uint8Array(t)],{type:"image/png"});r.src=t.byteLength?URL.createObjectURL(i):C})),t.g=D,t.h=(t,e)=>N(y(t,{type:"json"}),e),t.i=P,t.j=Z,t.k=U,t.l=(t,e)=>N(y(t,{type:"arrayBuffer"}),e),t.m=N,t.n=function(t){return new Ec(t).readFields(Ac,[])},t.o=ws,t.p=zc,t.q=no,t.r=fi,t.s=F,t.t=vi,t.u=pi,t.v=H,t.w=S,t.x=function(t){let[e,n,r]=t;return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},t.y=Me,t.z=Vi})),n("worker",["./shared"],(function(t){class e{constructor(t){this.keyCache={},t&&this.replace(t)}replace(t){this._layerConfigs={},this._layers={},this.update(t,[])}update(e,n){for(const i of e){this._layerConfigs[i.id]=i;const e=this._layers[i.id]=t.aA(i);e._featureFilter=t.a7(e.filter),this.keyCache[i.id]&&delete this.keyCache[i.id]}for(const t of n)delete this.keyCache[t],delete this._layerConfigs[t],delete this._layers[t];this.familiesBySource={};const r=t.bk(Object.values(this._layerConfigs),this.keyCache);for(const t of r){const e=t.map((t=>this._layers[t.id])),n=e[0];if("none"===n.visibility)continue;const r=n.source||"";let i=this.familiesBySource[r];i||(i=this.familiesBySource[r]={});const o=n.sourceLayer||"_geojsonTileLayer";let a=i[o];a||(a=i[o]=[]),a.push(e)}}}class n{constructor(e){const n={},r=[];for(const t in e){const i=e[t],o=n[t]={};for(const t in i){const e=i[+t];if(!e||0===e.bitmap.width||0===e.bitmap.height)continue;const n={x:0,y:0,w:e.bitmap.width+2,h:e.bitmap.height+2};r.push(n),o[t]={rect:n,metrics:e.metrics}}}const{w:i,h:o}=t.p(r),a=new t.o({width:i||1,height:o||1});for(const s in e){const r=e[s];for(const e in r){const i=r[+e];if(!i||0===i.bitmap.width||0===i.bitmap.height)continue;const o=n[s][e].rect;t.o.copy(i.bitmap,a,{x:0,y:0},{x:o.x+1,y:o.y+1},i.bitmap)}}this.image=a,this.positions=n}}t.bl("GlyphAtlas",n);class r{constructor(e){this.tileID=new t.S(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.inFlightDependencies=[]}parse(e,r,o,a){return t._(this,void 0,void 0,(function*(){this.status="parsing",this.data=e,this.collisionBoxArray=new t.a5;const s=new t.bm(Object.keys(e.layers).sort()),l=new t.bn(this.tileID,this.promoteId);l.bucketLayerIDs=[];const c={},u={featureIndex:l,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:o},h=r.familiesBySource[this.source];for(const n in h){const r=e.layers[n];if(!r)continue;1===r.version&&t.w(`Vector tile source "${this.source}" layer "${n}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const a=s.encode(n),d=[];for(let t=0;t<r.length;t++){const e=r.feature(t),i=l.getId(e,n);d.push({feature:e,id:i,index:t,sourceLayerIndex:a})}for(const e of h[n]){const n=e[0];n.source!==this.source&&t.w(`layer.source = ${n.source} does not equal this.source = ${this.source}`),n.minzoom&&this.zoom<Math.floor(n.minzoom)||n.maxzoom&&this.zoom>=n.maxzoom||"none"!==n.visibility&&(i(e,this.zoom,o),(c[n.id]=n.createBucket({index:l.bucketLayerIDs.length,layers:e,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:a,sourceID:this.source})).populate(d,u,this.tileID.canonical),l.bucketLayerIDs.push(e.map((t=>t.id))))}}const d=t.aF(u.glyphDependencies,(t=>Object.keys(t).map(Number)));this.inFlightDependencies.forEach((t=>null==t?void 0:t.abort())),this.inFlightDependencies=[];let p=Promise.resolve({});if(Object.keys(d).length){const t=new AbortController;this.inFlightDependencies.push(t),p=a.sendAsync({type:"GG",data:{stacks:d,source:this.source,tileID:this.tileID,type:"glyphs"}},t)}const f=Object.keys(u.iconDependencies);let m=Promise.resolve({});if(f.length){const t=new AbortController;this.inFlightDependencies.push(t),m=a.sendAsync({type:"GI",data:{icons:f,source:this.source,tileID:this.tileID,type:"icons"}},t)}const g=Object.keys(u.patternDependencies);let y=Promise.resolve({});if(g.length){const t=new AbortController;this.inFlightDependencies.push(t),y=a.sendAsync({type:"GI",data:{icons:g,source:this.source,tileID:this.tileID,type:"patterns"}},t)}const[v,_,b]=yield Promise.all([p,m,y]),x=new n(v),w=new t.bo(_,b);for(const e in c){const n=c[e];n instanceof t.a6?(i(n.layers,this.zoom,o),t.bp({bucket:n,glyphMap:v,glyphPositions:x.positions,imageMap:_,imagePositions:w.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):n.hasPattern&&(n instanceof t.bq||n instanceof t.br||n instanceof t.bs)&&(i(n.layers,this.zoom,o),n.addFeatures(u,this.tileID.canonical,w.patternPositions))}return this.status="done",{buckets:Object.values(c).filter((t=>!t.isEmpty())),featureIndex:l,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:x.image,imageAtlas:w,glyphMap:this.returnDependencies?v:null,iconMap:this.returnDependencies?_:null,glyphPositions:this.returnDependencies?x.positions:null}}))}}function i(e,n,r){const i=new t.z(n);for(const t of e)t.recalculate(i,r)}class o{constructor(t,e,n){this.actor=t,this.layerIndex=e,this.availableImages=n,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(e,n){return t._(this,void 0,void 0,(function*(){const r=yield t.l(e.request,n);try{return{vectorTile:new t.bt.VectorTile(new t.bu(r.data)),rawData:r.data,cacheControl:r.cacheControl,expires:r.expires}}catch(t){const i=new Uint8Array(r.data);let o=`Unable to parse the tile at ${e.request.url}, `;throw o+=31===i[0]&&139===i[1]?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${t.message}`,new Error(o)}}))}loadTile(e){return t._(this,void 0,void 0,(function*(){const n=e.uid,i=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.bv(e.request),o=new r(e);this.loading[n]=o;const a=new AbortController;o.abort=a;try{const r=yield this.loadVectorTile(e,a);if(delete this.loading[n],!r)return null;const s=r.rawData,l={};r.expires&&(l.expires=r.expires),r.cacheControl&&(l.cacheControl=r.cacheControl);const c={};if(i){const t=i.finish();t&&(c.resourceTiming=JSON.parse(JSON.stringify(t)))}o.vectorTile=r.vectorTile;const u=o.parse(r.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[n]=o,this.fetching[n]={rawTileData:s,cacheControl:l,resourceTiming:c};try{const e=yield u;return t.e({rawTileData:s.slice(0)},e,l,c)}finally{delete this.fetching[n]}}catch(t){throw delete this.loading[n],o.status="done",this.loaded[n]=o,t}}))}reloadTile(e){return t._(this,void 0,void 0,(function*(){const n=e.uid;if(!this.loaded||!this.loaded[n])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const r=this.loaded[n];if(r.showCollisionBoxes=e.showCollisionBoxes,"parsing"===r.status){const e=yield r.parse(r.vectorTile,this.layerIndex,this.availableImages,this.actor);let i;if(this.fetching[n]){const{rawTileData:r,cacheControl:o,resourceTiming:a}=this.fetching[n];delete this.fetching[n],i=t.e({rawTileData:r.slice(0)},e,o,a)}else i=e;return i}if("done"===r.status&&r.vectorTile)return r.parse(r.vectorTile,this.layerIndex,this.availableImages,this.actor)}))}abortTile(e){return t._(this,void 0,void 0,(function*(){const t=this.loading,n=e.uid;t&&t[n]&&t[n].abort&&(t[n].abort.abort(),delete t[n])}))}removeTile(e){return t._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[e.uid]&&delete this.loaded[e.uid]}))}}class a{constructor(){this.loaded={}}loadTile(e){return t._(this,void 0,void 0,(function*(){const{uid:n,encoding:r,rawImageData:i,redFactor:o,greenFactor:a,blueFactor:s,baseShift:l}=e,c=i.width+2,u=i.height+2,h=t.b(i)?new t.R({width:c,height:u},yield t.bw(i,-1,-1,c,u)):i,d=new t.bx(n,h,r,o,a,s,l);return this.loaded=this.loaded||{},this.loaded[n]=d,d}))}removeTile(t){const e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]}}function s(t,e){if(0!==t.length){l(t[0],e);for(var n=1;n<t.length;n++)l(t[n],!e)}}function l(t,e){for(var n=0,r=0,i=0,o=t.length,a=o-1;i<o;a=i++){var s=(t[i][0]-t[a][0])*(t[a][1]+t[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!e&&t.reverse()}var c=t.by((function t(e,n){var r,i=e&&e.type;if("FeatureCollection"===i)for(r=0;r<e.features.length;r++)t(e.features[r],n);else if("GeometryCollection"===i)for(r=0;r<e.geometries.length;r++)t(e.geometries[r],n);else if("Feature"===i)t(e.geometry,n);else if("Polygon"===i)s(e.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<e.coordinates.length;r++)s(e.coordinates[r],n);return e}));const u=t.bt.VectorTileFeature.prototype.toGeoJSON;var h={exports:{}},d=t.bz,p=t.bt.VectorTileFeature,f=m;function m(t,e){this.options=e||{},this.features=t,this.length=t.length}function g(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}m.prototype.feature=function(t){return new g(this.features[t],this.options.extent)},g.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],r=[],i=0;i<n.length;i++)r.push(new d(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},g.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[e,r,n,i]},g.prototype.toGeoJSON=p.prototype.toGeoJSON;var y=t.bA,v=f;function _(t){var e=new y;return function(t,e){for(var n in t.layers)e.writeMessage(3,b,t.layers[n])}(t,e),e.finish()}function b(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,x,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,T,o[n])}function x(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,w,t),e.writeVarintField(3,n.type),e.writeMessage(4,P,n)}function w(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var l=n.properties[s],c=o[s];if(null!==l){void 0===c&&(r.push(s),o[s]=c=r.length-1),e.writeVarint(c);var u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var h=u+":"+l,d=a[h];void 0===d&&(i.push(l),a[h]=d=i.length-1),e.writeVarint(d)}}}function S(t,e){return(e<<3)+(7&t)}function k(t){return t<<1^t>>31}function P(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],c=1;1===r&&(c=l.length),e.writeVarint(S(1,c));for(var u=3===r?l.length-1:l.length,h=0;h<u;h++){1===h&&1!==r&&e.writeVarint(S(2,u-1));var d=l[h].x-i,p=l[h].y-o;e.writeVarint(k(d)),e.writeVarint(k(p)),i+=d,o+=p}3===r&&e.writeVarint(S(7,1))}}function T(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}h.exports=_,h.exports.fromVectorTileJs=_,h.exports.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var r in t)n[r]=new v(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return _({layers:n})},h.exports.GeoJSONWrapper=v;var E=t.by(h.exports);const C={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},A=Math.fround||(M=new Float32Array(1),t=>(M[0]=+t,M[0]));var M;const O=3,I=5,z=6;class L{constructor(t){this.options=Object.assign(Object.create(C),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:e,minZoom:n,maxZoom:r}=this.options;e&&console.time("total time");const i=`prepare ${t.length} points`;e&&console.time(i),this.points=t;const o=[];for(let s=0;s<t.length;s++){const e=t[s];if(!e.geometry)continue;const[n,r]=e.geometry.coordinates,i=A(R(n)),a=A(B(r));o.push(i,a,1/0,s,-1,1),this.options.reduce&&o.push(0)}let a=this.trees[r+1]=this._createTree(o);e&&console.timeEnd(i);for(let s=r;s>=n;s--){const t=+Date.now();a=this.trees[s]=this._createTree(this._cluster(a,s)),e&&console.log("z%d: %d clusters in %dms",s,a.numItems,+Date.now()-t)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let n=((t[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,t[1]));let i=180===t[2]?180:((t[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){const t=this.getClusters([n,r,180,o],e),a=this.getClusters([-180,r,i,o],e);return t.concat(a)}const a=this.trees[this._limitZoom(e)],s=a.range(R(n),B(o),R(i),B(r)),l=a.data,c=[];for(const u of s){const t=this.stride*u;c.push(l[t+I]>1?D(l,t,this.clusterProps):this.points[l[t+O]])}return c}getChildren(t){const e=this._getOriginId(t),n=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const o=i.data;if(e*this.stride>=o.length)throw new Error(r);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=i.within(o[e*this.stride],o[e*this.stride+1],a),l=[];for(const c of s){const e=c*this.stride;o[e+4]===t&&l.push(o[e+I]>1?D(o,e,this.clusterProps):this.points[o[e+O]])}if(0===l.length)throw new Error(r);return l}getLeaves(t,e,n){const r=[];return this._appendLeaves(r,t,e=e||10,n=n||0,0),r}getTile(t,e,n){const r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),{extent:o,radius:a}=this.options,s=a/o,l=(n-s)/i,c=(n+1+s)/i,u={features:[]};return this._addTileFeatures(r.range((e-s)/i,l,(e+1+s)/i,c),r.data,e,n,i,u),0===e&&this._addTileFeatures(r.range(1-s/i,l,1,c),r.data,i,n,i,u),e===i-1&&this._addTileFeatures(r.range(0,l,s/i,c),r.data,-1,n,i,u),u.features.length?u:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e}_appendLeaves(t,e,n,r,i){const o=this.getChildren(e);for(const a of o){const e=a.properties;if(e&&e.cluster?i+e.point_count<=r?i+=e.point_count:i=this._appendLeaves(t,e.cluster_id,n,r,i):i<r?i++:t.push(a),t.length===n)break}return i}_createTree(e){const n=new t.av(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let t=0;t<e.length;t+=this.stride)n.add(e[t],e[t+1]);return n.finish(),n.data=e,n}_addTileFeatures(t,e,n,r,i,o){for(const a of t){const t=a*this.stride,s=e[t+I]>1;let l,c,u;if(s)l=j(e,t,this.clusterProps),c=e[t],u=e[t+1];else{const n=this.points[e[t+O]];l=n.properties;const[r,i]=n.geometry.coordinates;c=R(r),u=B(i)}const h={type:1,geometry:[[Math.round(this.options.extent*(c*i-n)),Math.round(this.options.extent*(u*i-r))]],tags:l};let d;d=s||this.options.generateId?e[t+O]:this.points[e[t+O]].id,void 0!==d&&(h.id=d),o.features.push(h)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,e){const{radius:n,extent:r,reduce:i,minPoints:o}=this.options,a=n/(r*Math.pow(2,e)),s=t.data,l=[],c=this.stride;for(let u=0;u<s.length;u+=c){if(s[u+2]<=e)continue;s[u+2]=e;const n=s[u],r=s[u+1],h=t.within(s[u],s[u+1],a),d=s[u+I];let p=d;for(const t of h){const n=t*c;s[n+2]>e&&(p+=s[n+I])}if(p>d&&p>=o){let t,o=n*d,a=r*d,f=-1;const m=(u/c<<5)+(e+1)+this.points.length;for(const n of h){const r=n*c;if(s[r+2]<=e)continue;s[r+2]=e;const l=s[r+I];o+=s[r]*l,a+=s[r+1]*l,s[r+4]=m,i&&(t||(t=this._map(s,u,!0),f=this.clusterProps.length,this.clusterProps.push(t)),i(t,this._map(s,r)))}s[u+4]=m,l.push(o/p,a/p,1/0,m,-1,p),i&&l.push(f)}else{for(let t=0;t<c;t++)l.push(s[u+t]);if(p>1)for(const t of h){const n=t*c;if(!(s[n+2]<=e)){s[n+2]=e;for(let t=0;t<c;t++)l.push(s[n+t])}}}}return l}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e,n){if(t[e+I]>1){const r=this.clusterProps[t[e+z]];return n?Object.assign({},r):r}const r=this.points[t[e+O]].properties,i=this.options.map(r);return n&&i===r?Object.assign({},i):i}}function D(t,e,n){return{type:"Feature",id:t[e+O],properties:j(t,e,n),geometry:{type:"Point",coordinates:[(r=t[e],360*(r-.5)),N(t[e+1])]}};var r}function j(t,e,n){const r=t[e+I],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?Math.round(r/100)/10+"k":r,o=t[e+z],a=-1===o?{}:Object.assign({},n[o]);return Object.assign(a,{cluster:!0,cluster_id:t[e+O],point_count:r,point_count_abbreviated:i})}function R(t){return t/360+.5}function B(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function N(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function F(t,e,n,r){let i=r;const o=e+(n-e>>1);let a,s=n-e;const l=t[e],c=t[e+1],u=t[n],h=t[n+1];for(let d=e+3;d<n;d+=3){const e=$(t[d],t[d+1],l,c,u,h);if(e>i)a=d,i=e;else if(e===i){const t=Math.abs(d-o);t<s&&(a=d,s=t)}}i>r&&(a-e>3&&F(t,e,a,r),t[a+2]=i,n-a>3&&F(t,a,n,r))}function $(t,e,n,r,i,o){let a=i-n,s=o-r;if(0!==a||0!==s){const l=((t-n)*a+(e-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return a=t-n,s=e-r,a*a+s*s}function V(t,e,n,r){const i={id:null==t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if("Point"===e||"MultiPoint"===e||"LineString"===e)U(i,n);else if("Polygon"===e)U(i,n[0]);else if("MultiLineString"===e)for(const o of n)U(i,o);else if("MultiPolygon"===e)for(const o of n)U(i,o[0]);return i}function U(t,e){for(let n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function Z(t,e,n,r){if(!e.geometry)return;const i=e.geometry.coordinates;if(i&&0===i.length)return;const o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2);let s=[],l=e.id;if(n.promoteId?l=e.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)q(i,s);else if("MultiPoint"===o)for(const c of i)q(c,s);else if("LineString"===o)H(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(const n of i)s=[],H(n,s,a,!1),t.push(V(l,"LineString",s,e.properties));return}W(i,s,a,!1)}else if("Polygon"===o)W(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(const i of e.geometry.geometries)Z(t,{id:l,geometry:i,properties:e.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const t of i){const e=[];W(t,e,a,!0),s.push(e)}}t.push(V(l,o,s,e.properties))}function q(t,e){e.push(G(t[0]),X(t[1]),0)}function H(t,e,n,r){let i,o,a=0;for(let l=0;l<t.length;l++){const n=G(t[l][0]),s=X(t[l][1]);e.push(n,s,0),l>0&&(a+=r?(i*s-n*o)/2:Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))),i=n,o=s}const s=e.length-3;e[2]=1,F(e,0,s,n),e[s+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function W(t,e,n,r){for(let i=0;i<t.length;i++){const o=[];H(t[i],o,n,r),e.push(o)}}function G(t){return t/360+.5}function X(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function K(t,e,n,r,i,o,a,s){if(r/=e,o>=(n/=e)&&a<r)return t;if(a<n||o>=r)return null;const l=[];for(const c of t){const t=c.geometry;let e=c.type;const o=0===i?c.minX:c.minY,a=0===i?c.maxX:c.maxY;if(o>=n&&a<r){l.push(c);continue}if(a<n||o>=r)continue;let u=[];if("Point"===e||"MultiPoint"===e)Y(t,u,n,r,i);else if("LineString"===e)J(t,u,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===e)tt(t,u,n,r,i,!1);else if("Polygon"===e)tt(t,u,n,r,i,!0);else if("MultiPolygon"===e)for(const s of t){const t=[];tt(s,t,n,r,i,!0),t.length&&u.push(t)}if(u.length){if(s.lineMetrics&&"LineString"===e){for(const t of u)l.push(V(c.id,e,t,c.tags));continue}"LineString"!==e&&"MultiLineString"!==e||(1===u.length?(e="LineString",u=u[0]):e="MultiLineString"),"Point"!==e&&"MultiPoint"!==e||(e=3===u.length?"Point":"MultiPoint"),l.push(V(c.id,e,u,c.tags))}}return l.length?l:null}function Y(t,e,n,r,i){for(let o=0;o<t.length;o+=3){const a=t[o+i];a>=n&&a<=r&&et(e,t[o],t[o+1],t[o+2])}}function J(t,e,n,r,i,o,a){let s=Q(t);const l=0===i?nt:rt;let c,u,h=t.start;for(let g=0;g<t.length-3;g+=3){const d=t[g],p=t[g+1],f=t[g+2],m=t[g+3],y=t[g+4],v=0===i?d:p,_=0===i?m:y;let b=!1;a&&(c=Math.sqrt(Math.pow(d-m,2)+Math.pow(p-y,2))),v<n?_>n&&(u=l(s,d,p,m,y,n),a&&(s.start=h+c*u)):v>r?_<r&&(u=l(s,d,p,m,y,r),a&&(s.start=h+c*u)):et(s,d,p,f),_<n&&v>=n&&(u=l(s,d,p,m,y,n),b=!0),_>r&&v<=r&&(u=l(s,d,p,m,y,r),b=!0),!o&&b&&(a&&(s.end=h+c*u),e.push(s),s=Q(t)),a&&(h+=c)}let d=t.length-3;const p=t[d],f=t[d+1],m=0===i?p:f;m>=n&&m<=r&&et(s,p,f,t[d+2]),d=s.length-3,o&&d>=3&&(s[d]!==s[0]||s[d+1]!==s[1])&&et(s,s[0],s[1],s[2]),s.length&&e.push(s)}function Q(t){const e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function tt(t,e,n,r,i,o){for(const a of t)J(a,e,n,r,i,o,!1)}function et(t,e,n,r){t.push(e,n,r)}function nt(t,e,n,r,i,o){const a=(o-e)/(r-e);return et(t,o,n+(i-n)*a,1),a}function rt(t,e,n,r,i,o){const a=(o-n)/(i-n);return et(t,e+(r-e)*a,o,1),a}function it(t,e){const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=i.type;let a;if("Point"===o||"MultiPoint"===o||"LineString"===o)a=ot(i.geometry,e);else if("MultiLineString"===o||"Polygon"===o){a=[];for(const t of i.geometry)a.push(ot(t,e))}else if("MultiPolygon"===o){a=[];for(const t of i.geometry){const n=[];for(const r of t)n.push(ot(r,e));a.push(n)}}n.push(V(i.id,o,a,i.tags))}return n}function ot(t,e){const n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(let r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function at(t,e){if(t.transformed)return t;const n=1<<t.z,r=t.x,i=t.y;for(const o of t.features){const t=o.geometry,a=o.type;if(o.geometry=[],1===a)for(let s=0;s<t.length;s+=2)o.geometry.push(st(t[s],t[s+1],e,n,r,i));else for(let s=0;s<t.length;s++){const a=[];for(let o=0;o<t[s].length;o+=2)a.push(st(t[s][o],t[s][o+1],e,n,r,i));o.geometry.push(a)}}return t.transformed=!0,t}function st(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function lt(t,e,n,r,i){const o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:t.length,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const s of t)ct(a,s,o,i);return a}function ct(t,e,n,r){const i=e.geometry,o=e.type,a=[];if(t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),"Point"===o||"MultiPoint"===o)for(let s=0;s<i.length;s+=3)a.push(i[s],i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)ut(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(let s=0;s<i.length;s++)ut(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(let s=0;s<i.length;s++){const e=i[s];for(let r=0;r<e.length;r++)ut(a,e[r],t,n,!0,0===r)}if(a.length){let n=e.tags||null;if("LineString"===o&&r.lineMetrics){n={};for(const t in e.tags)n[t]=e.tags[t];n.mapbox_clip_start=i.start/i.size,n.mapbox_clip_end=i.end/i.size}const s={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:n};null!==e.id&&(s.id=e.id),t.features.push(s)}}function ut(t,e,n,r,i,o){const a=r*r;if(r>0&&e.size<(i?a:r))return void(n.numPoints+=e.length/3);const s=[];for(let l=0;l<e.length;l+=3)(0===r||e[l+2]>a)&&(n.numSimplified++,s.push(e[l],e[l+1])),n.numPoints++;i&&function(t,e){let n=0;for(let r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(let r=0,i=t.length;r<i/2;r+=2){const e=t[r],n=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=e,t[i-1-r]=n}}(s,o),t.push(s)}const ht={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class dt{constructor(t,e){const n=(e=this.options=function(t,e){for(const n in e)t[n]=e[n];return t}(Object.create(ht),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");let r=function(t,e){const n=[];if("FeatureCollection"===t.type)for(let r=0;r<t.features.length;r++)Z(n,t.features[r],e,r);else Z(n,"Feature"===t.type?t:{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=function(t,e){const n=e.buffer/e.extent;let r=t;const i=K(t,1,-1-n,n,0,-1,2,e),o=K(t,1,1-n,2+n,0,-1,2,e);return(i||o)&&(r=K(t,1,-n,1+n,0,-1,2,e)||[],i&&(r=it(i,1).concat(r)),o&&(r=r.concat(it(o,-1)))),r}(r,e),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(t,e,n,r,i,o,a){const s=[t,e,n,r],l=this.options,c=l.debug;for(;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();const u=1<<e,h=pt(e,n,r);let d=this.tiles[h];if(!d&&(c>1&&console.time("creation"),d=this.tiles[h]=lt(t,e,n,r,l),this.tileCoords.push({z:e,x:n,y:r}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));const t=`z${e}`;this.stats[t]=(this.stats[t]||0)+1,this.total++}if(d.source=t,null==i){if(e===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue}else{if(e===l.maxZoom||e===i)continue;if(null!=i){const t=i-e;if(n!==o>>t||r!==a>>t)continue}}if(d.source=null,0===t.length)continue;c>1&&console.time("clipping");const p=.5*l.buffer/l.extent,f=.5-p,m=.5+p,g=1+p;let y=null,v=null,_=null,b=null,x=K(t,u,n-p,n+m,0,d.minX,d.maxX,l),w=K(t,u,n+f,n+g,0,d.minX,d.maxX,l);t=null,x&&(y=K(x,u,r-p,r+m,1,d.minY,d.maxY,l),v=K(x,u,r+f,r+g,1,d.minY,d.maxY,l),x=null),w&&(_=K(w,u,r-p,r+m,1,d.minY,d.maxY,l),b=K(w,u,r+f,r+g,1,d.minY,d.maxY,l),w=null),c>1&&console.timeEnd("clipping"),s.push(y||[],e+1,2*n,2*r),s.push(v||[],e+1,2*n,2*r+1),s.push(_||[],e+1,2*n+1,2*r),s.push(b||[],e+1,2*n+1,2*r+1)}}getTile(t,e,n){t=+t,e=+e,n=+n;const r=this.options,{extent:i,debug:o}=r;if(t<0||t>24)return null;const a=1<<t,s=pt(t,e=e+a&a-1,n);if(this.tiles[s])return at(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);let l,c=t,u=e,h=n;for(;!l&&c>0;)c--,u>>=1,h>>=1,l=this.tiles[pt(c,u,h)];return l&&l.source?(o>1&&(console.log("found parent tile z%d-%d-%d",c,u,h),console.time("drilling down")),this.splitTile(l.source,c,u,h,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?at(this.tiles[s],i):null):null}}function pt(t,e,n){return 32*((1<<t)*n+e)+t}function ft(t,e){return e?t.properties[e]:t.id}function mt(t,e){if(null==t)return!0;if("Feature"===t.type)return null!=ft(t,e);if("FeatureCollection"===t.type){const n=new Set;for(const r of t.features){const t=ft(r,e);if(null==t)return!1;if(n.has(t))return!1;n.add(t)}return!0}return!1}function gt(t,e){const n=new Map;if(null==t);else if("Feature"===t.type)n.set(ft(t,e),t);else for(const r of t.features)n.set(ft(r,e),r);return n}class yt extends o{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(e,n){return t._(this,void 0,void 0,(function*(){const n=e.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return null;const i=new class{constructor(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.X,this.length=e.length,this._features=e}feature(e){return new class{constructor(e){this._feature=e,this.extent=t.X,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))}loadGeometry(){if(1===this._feature.type){const e=[];for(const n of this._feature.geometry)e.push([new t.P(n[0],n[1])]);return e}{const e=[];for(const n of this._feature.geometry){const r=[];for(const e of n)r.push(new t.P(e[0],e[1]));e.push(r)}return e}}toGeoJSON(t,e,n){return u.call(this,t,e,n)}}(this._features[e])}}(r.features);let o=E(i);return 0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),{vectorTile:i,rawData:o.buffer}}))}loadData(e){return t._(this,void 0,void 0,(function*(){var n;null===(n=this._pendingRequest)||void 0===n||n.abort();const r=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.bv(e.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(e,this._pendingRequest),this._geoJSONIndex=e.cluster?new L(function(e){let{superclusterOptions:n,clusterProperties:r}=e;if(!r||!n)return n;const i={},o={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(r);for(const c of l){const[e,n]=r[c],a=t.bC(n),s=t.bC("string"==typeof e?[e,["accumulated"],["get",c]]:e);i[c]=a.value,o[c]=s.value}return n.map=t=>{s.properties=t;const e={};for(const n of l)e[n]=i[n].evaluate(a,s);return e},n.reduce=(t,e)=>{s.properties=e;for(const n of l)a.accumulated=t[n],t[n]=o[n].evaluate(a,s)},n}(e)).load((yield this._pendingData).features):(i=yield this._pendingData,new dt(i,e.geojsonVtOptions)),this.loaded={};const n={};if(r){const t=r.finish();t&&(n.resourceTiming={},n.resourceTiming[e.source]=JSON.parse(JSON.stringify(t)))}return n}catch(e){if(delete this._pendingRequest,t.bB(e))return{abandoned:!0};throw e}var i}))}getData(){return t._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(t){const e=this.loaded;return e&&e[t.uid]?super.reloadTile(t):this.loadTile(t)}loadAndProcessGeoJSON(e,n){return t._(this,void 0,void 0,(function*(){let r=yield this.loadGeoJSON(e,n);if(delete this._pendingRequest,"object"!=typeof r)throw new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`);if(c(r,!0),e.filter){const n=t.bC(e.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===n.result)throw new Error(n.value.map((t=>`${t.key}: ${t.message}`)).join(", "));const i=r.features.filter((t=>n.value.evaluate({zoom:0},t)));r={type:"FeatureCollection",features:i}}return r}))}loadGeoJSON(e,n){return t._(this,void 0,void 0,(function*(){const{promoteId:r}=e;if(e.request){const i=yield t.h(e.request,n);return this._dataUpdateable=mt(i.data,r)?gt(i.data,r):void 0,i.data}if("string"==typeof e.data)try{const t=JSON.parse(e.data);return this._dataUpdateable=mt(t,r)?gt(t,r):void 0,t}catch(t){throw new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`)}if(!e.dataDiff)throw new Error(`Input data given to '${e.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${e.source}`);return function(t,e,n){var r,i,o,a;if(e.removeAll&&t.clear(),e.remove)for(const s of e.remove)t.delete(s);if(e.add)for(const s of e.add){const e=ft(s,n);null!=e&&t.set(e,s)}if(e.update)for(const s of e.update){let e=t.get(s.id);if(null==e)continue;const n=!s.removeAllProperties&&((null===(r=s.removeProperties)||void 0===r?void 0:r.length)>0||(null===(i=s.addOrUpdateProperties)||void 0===i?void 0:i.length)>0);if((s.newGeometry||s.removeAllProperties||n)&&(e=Object.assign({},e),t.set(s.id,e),n&&(e.properties=Object.assign({},e.properties))),s.newGeometry&&(e.geometry=s.newGeometry),s.removeAllProperties)e.properties={};else if((null===(o=s.removeProperties)||void 0===o?void 0:o.length)>0)for(const t of s.removeProperties)Object.prototype.hasOwnProperty.call(e.properties,t)&&delete e.properties[t];if((null===(a=s.addOrUpdateProperties)||void 0===a?void 0:a.length)>0)for(const{key:t,value:r}of s.addOrUpdateProperties)e.properties[t]=r}}(this._dataUpdateable,e.dataDiff,r),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}}))}removeSource(e){return t._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(t){return this._geoJSONIndex.getClusterExpansionZoom(t.clusterId)}getClusterChildren(t){return this._geoJSONIndex.getChildren(t.clusterId)}getClusterLeaves(t){return this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset)}}class vt{constructor(e){this.self=e,this.actor=new t.F(e),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(t,e)=>{if(this.externalWorkerSourceTypes[t])throw new Error(`Worker source with name "${t}" already registered.`);this.externalWorkerSourceTypes[t]=e},this.self.addProtocol=t.bi,this.self.removeProtocol=t.bj,this.self.registerRTLTextPlugin=e=>{if(t.bD.isParsed())throw new Error("RTL text plugin already registered.");t.bD.setMethods(e)},this.actor.registerMessageHandler("LDT",((t,e)=>this._getDEMWorkerSource(t,e.source).loadTile(e))),this.actor.registerMessageHandler("RDT",((e,n)=>t._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(e,n.source).removeTile(n)})))),this.actor.registerMessageHandler("GCEZ",((e,n)=>t._(this,void 0,void 0,(function*(){return this._getWorkerSource(e,n.type,n.source).getClusterExpansionZoom(n)})))),this.actor.registerMessageHandler("GCC",((e,n)=>t._(this,void 0,void 0,(function*(){return this._getWorkerSource(e,n.type,n.source).getClusterChildren(n)})))),this.actor.registerMessageHandler("GCL",((e,n)=>t._(this,void 0,void 0,(function*(){return this._getWorkerSource(e,n.type,n.source).getClusterLeaves(n)})))),this.actor.registerMessageHandler("LD",((t,e)=>this._getWorkerSource(t,e.type,e.source).loadData(e))),this.actor.registerMessageHandler("GD",((t,e)=>this._getWorkerSource(t,e.type,e.source).getData())),this.actor.registerMessageHandler("LT",((t,e)=>this._getWorkerSource(t,e.type,e.source).loadTile(e))),this.actor.registerMessageHandler("RT",((t,e)=>this._getWorkerSource(t,e.type,e.source).reloadTile(e))),this.actor.registerMessageHandler("AT",((t,e)=>this._getWorkerSource(t,e.type,e.source).abortTile(e))),this.actor.registerMessageHandler("RMT",((t,e)=>this._getWorkerSource(t,e.type,e.source).removeTile(e))),this.actor.registerMessageHandler("RS",((e,n)=>t._(this,void 0,void 0,(function*(){if(!this.workerSources[e]||!this.workerSources[e][n.type]||!this.workerSources[e][n.type][n.source])return;const t=this.workerSources[e][n.type][n.source];delete this.workerSources[e][n.type][n.source],void 0!==t.removeSource&&t.removeSource(n)})))),this.actor.registerMessageHandler("RM",(e=>t._(this,void 0,void 0,(function*(){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e]})))),this.actor.registerMessageHandler("SR",((e,n)=>t._(this,void 0,void 0,(function*(){this.referrer=n})))),this.actor.registerMessageHandler("SRPS",((t,e)=>this._syncRTLPluginState(t,e))),this.actor.registerMessageHandler("IS",((e,n)=>t._(this,void 0,void 0,(function*(){this.self.importScripts(n)})))),this.actor.registerMessageHandler("SI",((t,e)=>this._setImages(t,e))),this.actor.registerMessageHandler("UL",((e,n)=>t._(this,void 0,void 0,(function*(){this._getLayerIndex(e).update(n.layers,n.removedIds)})))),this.actor.registerMessageHandler("SL",((e,n)=>t._(this,void 0,void 0,(function*(){this._getLayerIndex(e).replace(n)}))))}_setImages(e,n){return t._(this,void 0,void 0,(function*(){this.availableImages[e]=n;for(const t in this.workerSources[e]){const r=this.workerSources[e][t];for(const t in r)r[t].availableImages=n}}))}_syncRTLPluginState(e,n){return t._(this,void 0,void 0,(function*(){if(t.bD.isParsed())return t.bD.getState();if("loading"!==n.pluginStatus)return t.bD.setState(n),n;const e=n.pluginURL;if(this.self.importScripts(e),t.bD.isParsed()){const n={pluginStatus:"loaded",pluginURL:e};return t.bD.setState(n),n}throw t.bD.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${e}`)}))}_getAvailableImages(t){let e=this.availableImages[t];return e||(e=[]),e}_getLayerIndex(t){let n=this.layerIndexes[t];return n||(n=this.layerIndexes[t]=new e),n}_getWorkerSource(t,e,n){if(this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),!this.workerSources[t][e][n]){const r={sendAsync:(e,n)=>(e.targetMapId=t,this.actor.sendAsync(e,n))};switch(e){case"vector":this.workerSources[t][e][n]=new o(r,this._getLayerIndex(t),this._getAvailableImages(t));break;case"geojson":this.workerSources[t][e][n]=new yt(r,this._getLayerIndex(t),this._getAvailableImages(t));break;default:this.workerSources[t][e][n]=new this.externalWorkerSourceTypes[e](r,this._getLayerIndex(t),this._getAvailableImages(t))}}return this.workerSources[t][e][n]}_getDEMWorkerSource(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new a),this.demWorkerSources[t][e]}}return t.i(self)&&(self.worker=new vt(self)),vt})),n("index",["exports","./shared"],(function(t,e){var n="4.7.1";let r,i;const o={now:"undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:t=>new Promise(((n,r)=>{const i=requestAnimationFrame(n);t.signal.addEventListener("abort",(()=>{cancelAnimationFrame(i),r(e.c())}))})),getImageData(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getImageCanvasContext(t).getImageData(-e,-e,t.width+2*e,t.height+2*e)},getImageCanvasContext(t){const e=window.document.createElement("canvas"),n=e.getContext("2d",{willReadFrequently:!0});if(!n)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,t.width,t.height),n},resolveURL:t=>(r||(r=document.createElement("a")),r.href=t,r.href),hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==i&&(i=matchMedia("(prefers-reduced-motion: reduce)")),i.matches)}};class a{static testProp(t){if(!a.docStyle)return t[0];for(let e=0;e<t.length;e++)if(t[e]in a.docStyle)return t[e];return t[0]}static create(t,e,n){const r=window.document.createElement(t);return void 0!==e&&(r.className=e),n&&n.appendChild(r),r}static createNS(t,e){return window.document.createElementNS(t,e)}static disableDrag(){a.docStyle&&a.selectProp&&(a.userSelect=a.docStyle[a.selectProp],a.docStyle[a.selectProp]="none")}static enableDrag(){a.docStyle&&a.selectProp&&(a.docStyle[a.selectProp]=a.userSelect)}static setTransform(t,e){t.style[a.transformProp]=e}static addEventListener(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.addEventListener(e,n,"passive"in r?r:r.capture)}static removeEventListener(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.removeEventListener(e,n,"passive"in r?r:r.capture)}static suppressClickInternal(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener("click",a.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",a.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",a.suppressClickInternal,!0)}),0)}static getScale(t){const e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}static getPoint(t,n,r){const i=n.boundingClientRect;return new e.P((r.clientX-i.left)/n.x-t.clientLeft,(r.clientY-i.top)/n.y-t.clientTop)}static mousePos(t,e){const n=a.getScale(t);return a.getPoint(t,n,e)}static touchPos(t,e){const n=[],r=a.getScale(t);for(let i=0;i<e.length;i++)n.push(a.getPoint(t,r,e[i]));return n}static mouseButton(t){return t.button}static remove(t){t.parentNode&&t.parentNode.removeChild(t)}}a.docStyle="undefined"!=typeof window&&window.document&&window.document.documentElement.style,a.selectProp=a.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),a.transformProp=a.testProp(["transform","WebkitTransform"]);const s={supported:!1,testSupport:function(t){!u&&c&&(h?d(t):l=t)}};let l,c,u=!1,h=!1;function d(t){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,c),t.isContextLost())return;s.supported=!0}catch(t){}t.deleteTexture(e),u=!0}var p;"undefined"!=typeof document&&(c=document.createElement("img"),c.onload=()=>{l&&d(l),l=null,h=!0},c.onerror=()=>{u=!0,l=null},c.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(t){let n,r,i,o;t.resetRequestQueue=()=>{n=[],r=0,i=0,o={}},t.addThrottleControl=t=>{const e=i++;return o[e]=t,e},t.removeThrottleControl=t=>{delete o[t],l()},t.getImage=function(t,r){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise(((o,a)=>{s.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),e.e(t,{type:"image"}),n.push({abortController:r,requestParameters:t,supportImageRefresh:i,state:"queued",onError:t=>{a(t)},onSuccess:t=>{o(t)}}),l()}))};const a=t=>e._(this,void 0,void 0,(function*(){t.state="running";const{requestParameters:n,supportImageRefresh:i,onError:o,onSuccess:a,abortController:s}=t,u=!1===i&&!e.i(self)&&!e.g(n.url)&&(!n.headers||Object.keys(n.headers).reduce(((t,e)=>t&&"accept"===e),!0));r++;const h=u?c(n,s):e.m(n,s);try{const n=yield h;delete t.abortController,t.state="completed",n.data instanceof HTMLImageElement||e.b(n.data)?a(n):n.data&&a({data:yield(d=n.data,"function"==typeof createImageBitmap?e.d(d):e.f(d)),cacheControl:n.cacheControl,expires:n.expires})}catch(e){delete t.abortController,o(e)}finally{r--,l()}var d})),l=()=>{const t=(()=>{for(const t of Object.keys(o))if(o[t]())return!0;return!1})()?e.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:e.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let e=r;e<t&&n.length>0;e++){const t=n.shift();t.abortController.signal.aborted?e--:a(t)}},c=(t,n)=>new Promise(((r,i)=>{const o=new Image,a=t.url,s=t.credentials;s&&"include"===s?o.crossOrigin="use-credentials":(s&&"same-origin"===s||!e.s(a))&&(o.crossOrigin="anonymous"),n.signal.addEventListener("abort",(()=>{o.src="",i(e.c())})),o.fetchPriority="high",o.onload=()=>{o.onerror=o.onload=null,r({data:o})},o.onerror=()=>{o.onerror=o.onload=null,n.signal.aborted||i(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},o.src=a}))}(p||(p={})),p.resetRequestQueue();class f{constructor(t){this._transformRequestFn=t}transformRequest(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}}setTransformRequest(t){this._transformRequestFn=t}}function m(t){var n=new e.A(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}var g,y=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t};g=new e.A(3),e.A!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0);var v=function(t){var e=t[0],n=t[1];return e*e+n*n};function _(t){const e=[];if("string"==typeof t)e.push({id:"default",url:t});else if(t&&t.length>0){const n=[];for(const{id:r,url:i}of t){const t=`${r}${i}`;-1===n.indexOf(t)&&(n.push(t),e.push({id:r,url:i}))}}return e}function b(t,e,n){const r=t.split("?");return r[0]+=`${e}${n}`,r.join("?")}!function(){var t=new e.A(2);e.A!=Float32Array&&(t[0]=0,t[1]=0)}();class x{constructor(t,e,n,r){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)}update(t,n,r){const{width:i,height:o}=t,a=!(this.size&&this.size[0]===i&&this.size[1]===o||r),{context:s}=this,{gl:l}=s;if(this.useMipmap=Boolean(n&&n.useMipmap),l.bindTexture(l.TEXTURE_2D,this.texture),s.pixelStoreUnpackFlipY.set(!1),s.pixelStoreUnpack.set(1),s.pixelStoreUnpackPremultiplyAlpha.set(this.format===l.RGBA&&(!n||!1!==n.premultiply)),a)this.size=[i,o],t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.b(t)?l.texImage2D(l.TEXTURE_2D,0,this.format,this.format,l.UNSIGNED_BYTE,t):l.texImage2D(l.TEXTURE_2D,0,this.format,i,o,0,this.format,l.UNSIGNED_BYTE,t.data);else{const{x:n,y:a}=r||{x:0,y:0};t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.b(t)?l.texSubImage2D(l.TEXTURE_2D,0,n,a,l.RGBA,l.UNSIGNED_BYTE,t):l.texSubImage2D(l.TEXTURE_2D,0,n,a,i,o,l.RGBA,l.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&l.generateMipmap(l.TEXTURE_2D)}bind(t,e,n){const{context:r}=this,{gl:i}=r;i.bindTexture(i.TEXTURE_2D,this.texture),n!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=i.LINEAR),t!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,e),this.wrap=e)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null}}function w(t){const{userImage:e}=t;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}class S extends e.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(t){if(this.loaded!==t&&(this.loaded=t,t)){for(const{ids:t,promiseResolve:e}of this.requestors)e(this._getImagesForIds(t));this.requestors=[]}}getImage(t){const n=this.images[t];if(n&&!n.data&&n.spriteData){const t=n.spriteData;n.data=new e.R({width:t.width,height:t.height},t.context.getImageData(t.x,t.y,t.width,t.height).data),n.spriteData=null}return n}addImage(t,e){if(this.images[t])throw new Error(`Image id ${t} already exist, use updateImage instead`);this._validate(t,e)&&(this.images[t]=e)}_validate(t,n){let r=!0;const i=n.data||n.spriteData;return this._validateStretch(n.stretchX,i&&i.width)||(this.fire(new e.j(new Error(`Image "${t}" has invalid "stretchX" value`))),r=!1),this._validateStretch(n.stretchY,i&&i.height)||(this.fire(new e.j(new Error(`Image "${t}" has invalid "stretchY" value`))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.j(new Error(`Image "${t}" has invalid "content" value`))),r=!1),r}_validateStretch(t,e){if(!t)return!0;let n=0;for(const r of t){if(r[0]<n||r[1]<r[0]||e<r[1])return!1;n=r[1]}return!0}_validateContent(t,e){if(!t)return!0;if(4!==t.length)return!1;const n=e.spriteData,r=n&&n.width||e.data.width,i=n&&n.height||e.data.height;return!(t[0]<0||r<t[0]||t[1]<0||i<t[1]||t[2]<0||r<t[2]||t[3]<0||i<t[3]||t[2]<t[0]||t[3]<t[1])}updateImage(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this.getImage(t);if(n&&(r.data.width!==e.data.width||r.data.height!==e.data.height))throw new Error(`size mismatch between old image (${r.data.width}x${r.data.height}) and new image (${e.data.width}x${e.data.height}).`);e.version=r.version+1,this.images[t]=e,this.updatedImages[t]=!0}removeImage(t){const e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(t){return new Promise(((e,n)=>{let r=!0;if(!this.isLoaded())for(const i of t)this.images[i]||(r=!1);this.isLoaded()||r?e(this._getImagesForIds(t)):this.requestors.push({ids:t,promiseResolve:e})}))}_getImagesForIds(t){const n={};for(const r of t){let t=this.getImage(r);t||(this.fire(new e.k("styleimagemissing",{id:r})),t=this.getImage(r)),t?n[r]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,textFitWidth:t.textFitWidth,textFitHeight:t.textFitHeight,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.w(`Image "${r}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return n}getPixelSize(){const{width:t,height:e}=this.atlasImage;return{width:t,height:e}}getPattern(t){const n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{const n={w:r.data.width+2,h:r.data.height+2,x:0,y:0},i=new e.I(n,r);this.patterns[t]={bin:n,position:i}}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const e=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new x(t,this.atlasImage,e.RGBA),this.atlasTexture.bind(e.LINEAR,e.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:n,h:r}=e.p(t),i=this.atlasImage;i.resize({width:n||1,height:r||1});for(const o in this.patterns){const{bin:t}=this.patterns[o],n=t.x+1,r=t.y+1,a=this.getImage(o).data,s=a.width,l=a.height;e.R.copy(a,i,{x:0,y:0},{x:n,y:r},{width:s,height:l}),e.R.copy(a,i,{x:0,y:l-1},{x:n,y:r-1},{width:s,height:1}),e.R.copy(a,i,{x:0,y:0},{x:n,y:r+l},{width:s,height:1}),e.R.copy(a,i,{x:s-1,y:0},{x:n-1,y:r},{width:1,height:l}),e.R.copy(a,i,{x:0,y:0},{x:n+s,y:r},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(t){for(const n of t){if(this.callbackDispatchedThisFrame[n])continue;this.callbackDispatchedThisFrame[n]=!0;const t=this.getImage(n);t||e.w(`Image with ID: "${n}" was not found`),w(t)&&this.updateImage(n,t)}}}const k=1e20;function P(t,e,n,r,i,o,a,s,l){for(let c=e;c<e+r;c++)T(t,n*o+c,o,i,a,s,l);for(let c=n;c<n+i;c++)T(t,c*o+e,1,r,a,s,l)}function T(t,e,n,r,i,o,a){o[0]=0,a[0]=-k,a[1]=k,i[0]=t[e];for(let s=1,l=0,c=0;s<r;s++){i[s]=t[e+s*n];const r=s*s;do{const t=o[l];c=(i[s]-i[t]+r-t*t)/(s-t)/2}while(c<=a[l]&&--l>-1);l++,o[l]=s,a[l]=c,a[l+1]=k}for(let s=0,l=0;s<r;s++){for(;a[l+1]<s;)l++;const r=o[l],c=s-r;t[e+s*n]=i[r]+c*c}}class E{constructor(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}}setURL(t){this.url=t}getGlyphs(t){return e._(this,void 0,void 0,(function*(){const e=[];for(const i in t)for(const n of t[i])e.push(this._getAndCacheGlyphsPromise(i,n));const n=yield Promise.all(e),r={};for(const{stack:t,id:i,glyph:o}of n)r[t]||(r[t]={}),r[t][i]=o&&{id:o.id,bitmap:o.bitmap.clone(),metrics:o.metrics};return r}))}_getAndCacheGlyphsPromise(t,n){return e._(this,void 0,void 0,(function*(){let e=this.entries[t];e||(e=this.entries[t]={glyphs:{},requests:{},ranges:{}});let r=e.glyphs[n];if(void 0!==r)return{stack:t,id:n,glyph:r};if(r=this._tinySDF(e,t,n),r)return e.glyphs[n]=r,{stack:t,id:n,glyph:r};const i=Math.floor(n/256);if(256*i>65535)throw new Error("glyphs > 65535 not supported");if(e.ranges[i])return{stack:t,id:n,glyph:r};if(!this.url)throw new Error("glyphsUrl is not set");if(!e.requests[i]){const n=E.loadGlyphRange(t,i,this.url,this.requestManager);e.requests[i]=n}const o=yield e.requests[i];for(const t in o)this._doesCharSupportLocalGlyph(+t)||(e.glyphs[+t]=o[+t]);return e.ranges[i]=!0,{stack:t,id:n,glyph:o[n]||null}}))}_doesCharSupportLocalGlyph(t){return!!this.localIdeographFontFamily&&/\p{Ideo}|\p{sc=Hang}|\p{sc=Hira}|\p{sc=Kana}/u.test(String.fromCodePoint(t))}_tinySDF(t,n,r){const i=this.localIdeographFontFamily;if(!i)return;if(!this._doesCharSupportLocalGlyph(r))return;let o=t.tinySDF;if(!o){let e="400";/bold/i.test(n)?e="900":/medium/i.test(n)?e="500":/light/i.test(n)&&(e="200"),o=t.tinySDF=new E.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:i,fontWeight:e})}const a=o.draw(String.fromCharCode(r));return{id:r,bitmap:new e.o({width:a.width||60,height:a.height||60},a.data),metrics:{width:a.glyphWidth/2||24,height:a.glyphHeight/2||24,left:a.glyphLeft/2+.5||0,top:a.glyphTop/2-27.5||-8,advance:a.glyphAdvance/2||24,isDoubleResolution:!0}}}}E.loadGlyphRange=function(t,n,r,i){return e._(this,void 0,void 0,(function*(){const o=256*n,a=o+255,s=i.transformRequest(r.replace("{fontstack}",t).replace("{range}",`${o}-${a}`),"Glyphs"),l=yield e.l(s,new AbortController);if(!l||!l.data)throw new Error(`Could not load glyph range. range: ${n}, ${o}-${a}`);const c={};for(const t of e.n(l.data))c[t.id]=t;return c}))},E.TinySDF=class{constructor(){let{fontSize:t=24,buffer:e=3,radius:n=8,cutoff:r=.25,fontFamily:i="sans-serif",fontWeight:o="normal",fontStyle:a="normal"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.buffer=e,this.cutoff=r,this.radius=n;const s=this.size=t+4*e,l=this._createCanvas(s),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font=`${a} ${o} ${t}px ${i}`,c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s)}_createCanvas(t){const e=document.createElement("canvas");return e.width=e.height=t,e}draw(t){const{width:e,actualBoundingBoxAscent:n,actualBoundingBoxDescent:r,actualBoundingBoxLeft:i,actualBoundingBoxRight:o}=this.ctx.measureText(t),a=Math.ceil(n),s=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(o-i))),l=Math.min(this.size-this.buffer,a+Math.ceil(r)),c=s+2*this.buffer,u=l+2*this.buffer,h=Math.max(c*u,0),d=new Uint8ClampedArray(h),p={data:d,width:c,height:u,glyphWidth:s,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:e};if(0===s||0===l)return p;const{ctx:f,buffer:m,gridInner:g,gridOuter:y}=this;f.clearRect(m,m,s,l),f.fillText(t,m,m+a);const v=f.getImageData(m,m,s,l);y.fill(k,0,h),g.fill(0,0,h);for(let _=0;_<l;_++)for(let t=0;t<s;t++){const e=v.data[4*(_*s+t)+3]/255;if(0===e)continue;const n=(_+m)*c+t+m;if(1===e)y[n]=0,g[n]=k;else{const t=.5-e;y[n]=t>0?t*t:0,g[n]=t<0?t*t:0}}P(y,0,0,c,u,c,this.f,this.v,this.z),P(g,m,m,s,l,c,this.f,this.v,this.z);for(let _=0;_<h;_++){const t=Math.sqrt(y[_])-Math.sqrt(g[_]);d[_]=Math.round(255-255*(t/this.radius+this.cutoff))}return p}};class C{constructor(){this.specification=e.v.light.position}possiblyEvaluate(t,n){return e.x(t.expression.evaluate(n))}interpolate(t,n,r){return{x:e.y.number(t.x,n.x,r),y:e.y.number(t.y,n.y,r),z:e.y.number(t.z,n.z,r)}}}let A;class M extends e.E{constructor(t){super(),A=A||new e.q({anchor:new e.D(e.v.light.anchor),position:new C,color:new e.D(e.v.light.color),intensity:new e.D(e.v.light.intensity)}),this._transitionable=new e.T(A),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.r,t,n))for(const e in t){const n=t[e];e.endsWith("-transition")?this._transitionable.setTransition(e.slice(0,-11),n):this._transitionable.setValue(e,n)}}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}_validate(t,n,r){return(!r||!1!==r.validate)&&e.t(this,t.call(e.u,{value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.v}))}}const O=new e.q({"sky-color":new e.D(e.v.sky["sky-color"]),"horizon-color":new e.D(e.v.sky["horizon-color"]),"fog-color":new e.D(e.v.sky["fog-color"]),"fog-ground-blend":new e.D(e.v.sky["fog-ground-blend"]),"horizon-fog-blend":new e.D(e.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new e.D(e.v.sky["sky-horizon-blend"]),"atmosphere-blend":new e.D(e.v.sky["atmosphere-blend"])});class I extends e.E{constructor(t){super(),this._transitionable=new e.T(O),this.setSky(t),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new e.z(0))}setSky(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.B,t,n)){t||(t={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const e in t){const n=t[e];e.endsWith("-transition")?this._transitionable.setTransition(e.slice(0,-11),n):this._transitionable.setValue(e,n)}}}getSky(){return this._transitionable.serialize()}updateTransitions(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(t){this.properties=this._transitioning.possiblyEvaluate(t)}_validate(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!1!==(null==r?void 0:r.validate)&&e.t(this,t.call(e.u,e.e({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.v})))}calculateFogBlendOpacity(t){return t<60?0:t<70?(t-60)/10:1}}class z{constructor(t,e){this.width=t,this.height=e,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(t,e){const n=t.join(",")+String(e);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(t,e)),this.dashEntry[n]}getDashRanges(t,e,n){const r=[];let i=t.length%2==1?-t[t.length-1]*n:0,o=t[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===t[0]});let s=t[0];for(let l=1;l<t.length;l++){a=!a;const e=t[l];i=s*n,s+=e,o=s*n,r.push({left:i,right:o,isDash:a,zeroLength:0===e})}return r}addRoundDash(t,e,n){const r=e/2;for(let i=-n;i<=n;i++){const e=this.width*(this.nextRow+n+i);let o=0,a=t[o];for(let s=0;s<this.width;s++){s/a.right>1&&(a=t[++o]);const l=Math.abs(s-a.left),c=Math.abs(s-a.right),u=Math.min(l,c);let h;const d=i/n*(r+1);if(a.isDash){const t=r-Math.abs(d);h=Math.sqrt(u*u+t*t)}else h=r-Math.sqrt(u*u+d*d);this.data[e+s]=Math.max(0,Math.min(255,h+128))}}}addRegularDash(t){for(let a=t.length-1;a>=0;--a){const e=t[a],n=t[a+1];e.zeroLength?t.splice(a,1):n&&n.isDash===e.isDash&&(n.left=e.left,t.splice(a,1))}const e=t[0],n=t[t.length-1];e.isDash===n.isDash&&(e.left=n.left-this.width,n.right=e.right+this.width);const r=this.width*this.nextRow;let i=0,o=t[i];for(let a=0;a<this.width;a++){a/o.right>1&&(o=t[++i]);const e=Math.abs(a-o.left),n=Math.abs(a-o.right),s=Math.min(e,n);this.data[r+a]=Math.max(0,Math.min(255,(o.isDash?s:-s)+128))}}addDash(t,n){const r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return e.w("LineAtlas out of space"),null;let o=0;for(let e=0;e<t.length;e++)o+=t[e];if(0!==o){const e=this.width/o,i=this.getDashRanges(t,this.width,e);n?this.addRoundDash(i,e,r):this.addRegularDash(i)}const a={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,a}bind(t){const e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))}}const L="maplibre_preloaded_worker_pool";class D{constructor(){this.active={}}acquire(t){if(!this.workers)for(this.workers=[];this.workers.length<D.workerCount;)this.workers.push(new Worker(e.a.WORKER_URL));return this.active[t]=!0,this.workers.slice()}release(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach((t=>{t.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[L]}numActive(){return Object.keys(this.active).length}}const j=Math.floor(o.hardwareConcurrency/2);let R,B;function N(){return R||(R=new D),R}D.workerCount=e.C(globalThis)?Math.max(Math.min(j,3),1):1;class F{constructor(t,n){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=n;const r=this.workerPool.acquire(n);for(let i=0;i<r.length;i++){const t=new e.F(r[i],n);t.name=`Worker ${i}`,this.actors.push(t)}if(!this.actors.length)throw new Error("No actors found")}broadcast(t,e){const n=[];for(const r of this.actors)n.push(r.sendAsync({type:t,data:e}));return Promise.all(n)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.actors.forEach((t=>{t.remove()})),this.actors=[],t&&this.workerPool.release(this.id)}registerMessageHandler(t,e){for(const n of this.actors)n.registerMessageHandler(t,e)}}function $(){return B||(B=new F(N(),e.G),B.registerMessageHandler("GR",((t,n,r)=>e.m(n,r)))),B}function V(t,n){const r=e.H();return e.J(r,r,[1,1,0]),e.K(r,r,[.5*t.width,.5*t.height,1]),e.L(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function U(t,e,n,r,i,o){const a=function(t,e,n){if(t)for(const r of t){const t=e[r];if(t&&t.source===n&&"fill-extrusion"===t.type)return!0}else for(const r in e){const t=e[r];if(t.source===n&&"fill-extrusion"===t.type)return!0}return!1}(i&&i.layers,e,t.id),s=o.maxPitchScaleFactor(),l=t.tilesIn(r,s,a);l.sort(Z);const c=[];for(const h of l)c.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(e,n,t._state,h.queryGeometry,h.cameraQueryGeometry,h.scale,i,o,s,V(t.transform,h.tileID))});const u=function(t){const e={},n={};for(const r of t){const t=r.queryResults,i=r.wrappedTileID,o=n[i]=n[i]||{};for(const n in t){const r=t[n],i=o[n]=o[n]||{},a=e[n]=e[n]||[];for(const t of r)i[t.featureIndex]||(i[t.featureIndex]=!0,a.push(t))}}return e}(c);for(const h in u)u[h].forEach((e=>{const n=e.feature,r=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return u}function Z(t,e){const n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}function q(t,n,r){return e._(this,void 0,void 0,(function*(){let i=t;if(t.url?i=(yield e.h(n.transformRequest(t.url,"Source"),r)).data:yield o.frameAsync(r),!i)return null;const a=e.M(e.e(i,t),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in i&&i.vector_layers&&(a.vectorLayerIds=i.vector_layers.map((t=>t.id))),a}))}class H{constructor(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):Array.isArray(t)&&(4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1])))}setNorthEast(t){return this._ne=t instanceof e.N?new e.N(t.lng,t.lat):e.N.convert(t),this}setSouthWest(t){return this._sw=t instanceof e.N?new e.N(t.lng,t.lat):e.N.convert(t),this}extend(t){const n=this._sw,r=this._ne;let i,o;if(t instanceof e.N)i=t,o=t;else{if(!(t instanceof H))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(H.convert(t)):this.extend(e.N.convert(t)):t&&("lng"in t||"lon"in t)&&"lat"in t?this.extend(e.N.convert(t)):this;if(i=t._sw,o=t._ne,!i||!o)return this}return n||r?(n.lng=Math.min(i.lng,n.lng),n.lat=Math.min(i.lat,n.lat),r.lng=Math.max(o.lng,r.lng),r.lat=Math.max(o.lat,r.lat)):(this._sw=new e.N(i.lng,i.lat),this._ne=new e.N(o.lng,o.lat)),this}getCenter(){return new e.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new e.N(this.getWest(),this.getNorth())}getSouthEast(){return new e.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(t){const{lng:n,lat:r}=e.N.convert(t);let i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i}static convert(t){return t instanceof H?t:t?new H(t):t}static fromLngLat(t){const n=360*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)/40075017,r=n/Math.cos(Math.PI/180*t.lat);return new H(new e.N(t.lng-r,t.lat-n),new e.N(t.lng+r,t.lat+n))}adjustAntiMeridian(){const t=new e.N(this._sw.lng,this._sw.lat),n=new e.N(this._ne.lng,this._ne.lat);return new H(t,t.lng>n.lng?new e.N(n.lng+360,n.lat):n)}}class W{constructor(t,e,n){this.bounds=H.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=n||24}validateBounds(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]}contains(t){const n=Math.pow(2,t.z),r=Math.floor(e.O(this.bounds.getWest())*n),i=Math.floor(e.Q(this.bounds.getNorth())*n),o=Math.ceil(e.O(this.bounds.getEast())*n),a=Math.ceil(e.Q(this.bounds.getSouth())*n);return t.x>=r&&t.x<o&&t.y>=i&&t.y<a}}class G extends e.E{constructor(t,n,r,i){if(super(),this.id=t,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.e(this,e.M(n,["url","scheme","tileSize","promoteId"])),this._options=e.e({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}load(){return e._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new e.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const t=yield q(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),t&&(e.e(this,t),t.bounds&&(this.tileBounds=new W(t.bounds,this.minzoom,this.maxzoom)),this.fire(new e.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.k("data",{dataType:"source",sourceDataType:"content"})))}catch(t){this._tileJSONRequest=null,this.fire(new e.j(t))}}))}loaded(){return this._loaded}hasTile(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}onAdd(t){this.map=t,this.load()}setSourceProperty(t){this._tileJSONRequest&&this._tileJSONRequest.abort(),t(),this.load()}setTiles(t){return this.setSourceProperty((()=>{this._options.tiles=t})),this}setUrl(t){return this.setSourceProperty((()=>{this.url=t,this._options.url=t})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return e.e({},this._options)}loadTile(t){return e._(this,void 0,void 0,(function*(){const e=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),n={request:this.map._requestManager.transformRequest(e,"Tile"),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};n.request.collectResourceTiming=this._collectResourceTiming;let r="RT";if(t.actor&&"expired"!==t.state){if("loading"===t.state)return new Promise(((e,n)=>{t.reloadPromise={resolve:e,reject:n}}))}else t.actor=this.dispatcher.getActor(),r="LT";t.abortController=new AbortController;try{const e=yield t.actor.sendAsync({type:r,data:n},t.abortController);if(delete t.abortController,t.aborted)return;this._afterTileLoadWorkerResponse(t,e)}catch(e){if(delete t.abortController,t.aborted)return;if(e&&404!==e.status)throw e;this._afterTileLoadWorkerResponse(t,null)}}))}_afterTileLoadWorkerResponse(t,e){if(e&&e.resourceTiming&&(t.resourceTiming=e.resourceTiming),e&&this.map._refreshExpiredTiles&&t.setExpiryData(e),t.loadVectorData(e,this.map.painter),t.reloadPromise){const e=t.reloadPromise;t.reloadPromise=null,this.loadTile(t).then(e.resolve).catch(e.reject)}}abortTile(t){return e._(this,void 0,void 0,(function*(){t.abortController&&(t.abortController.abort(),delete t.abortController),t.actor&&(yield t.actor.sendAsync({type:"AT",data:{uid:t.uid,type:this.type,source:this.id}}))}))}unloadTile(t){return e._(this,void 0,void 0,(function*(){t.unloadVectorData(),t.actor&&(yield t.actor.sendAsync({type:"RMT",data:{uid:t.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class X extends e.E{constructor(t,n,r,i){super(),this.id=t,this.dispatcher=r,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.e({type:"raster"},n),e.e(this,e.M(n,["url","scheme","tileSize"]))}load(){return e._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new e.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const t=yield q(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,t&&(e.e(this,t),t.bounds&&(this.tileBounds=new W(t.bounds,this.minzoom,this.maxzoom)),this.fire(new e.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.k("data",{dataType:"source",sourceDataType:"content"})))}catch(t){this._tileJSONRequest=null,this.fire(new e.j(t))}}))}loaded(){return this._loaded}onAdd(t){this.map=t,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(t){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),t(),this.load()}setTiles(t){return this.setSourceProperty((()=>{this._options.tiles=t})),this}setUrl(t){return this.setSourceProperty((()=>{this.url=t,this._options.url=t})),this}serialize(){return e.e({},this._options)}hasTile(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}loadTile(t){return e._(this,void 0,void 0,(function*(){const e=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);t.abortController=new AbortController;try{const n=yield p.getImage(this.map._requestManager.transformRequest(e,"Tile"),t.abortController,this.map._refreshExpiredTiles);if(delete t.abortController,t.aborted)return void(t.state="unloaded");if(n&&n.data){this.map._refreshExpiredTiles&&n.cacheControl&&n.expires&&t.setExpiryData({cacheControl:n.cacheControl,expires:n.expires});const e=this.map.painter.context,r=e.gl,i=n.data;t.texture=this.map.painter.getTileTexture(i.width),t.texture?t.texture.update(i,{useMipmap:!0}):(t.texture=new x(e,i,r.RGBA,{useMipmap:!0}),t.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST)),t.state="loaded"}}catch(e){if(delete t.abortController,t.aborted)t.state="unloaded";else if(e)throw t.state="errored",e}}))}abortTile(t){return e._(this,void 0,void 0,(function*(){t.abortController&&(t.abortController.abort(),delete t.abortController)}))}unloadTile(t){return e._(this,void 0,void 0,(function*(){t.texture&&this.map.painter.saveTileTexture(t.texture)}))}hasTransition(){return!1}}class K extends X{constructor(t,n,r,i){super(t,n,r,i),this.type="raster-dem",this.maxzoom=22,this._options=e.e({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox",this.redFactor=n.redFactor,this.greenFactor=n.greenFactor,this.blueFactor=n.blueFactor,this.baseShift=n.baseShift}loadTile(t){return e._(this,void 0,void 0,(function*(){const n=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),r=this.map._requestManager.transformRequest(n,"Tile");t.neighboringTiles=this._getNeighboringTiles(t.tileID),t.abortController=new AbortController;try{const n=yield p.getImage(r,t.abortController,this.map._refreshExpiredTiles);if(delete t.abortController,t.aborted)return void(t.state="unloaded");if(n&&n.data){const r=n.data;this.map._refreshExpiredTiles&&n.cacheControl&&n.expires&&t.setExpiryData({cacheControl:n.cacheControl,expires:n.expires});const i=e.b(r)&&e.U()?r:yield this.readImageNow(r),o={type:this.type,uid:t.uid,source:this.id,rawImageData:i,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!t.actor||"expired"===t.state){t.actor=this.dispatcher.getActor();const e=yield t.actor.sendAsync({type:"LDT",data:o});t.dem=e,t.needsHillshadePrepare=!0,t.needsTerrainPrepare=!0,t.state="loaded"}}}catch(e){if(delete t.abortController,t.aborted)t.state="unloaded";else if(e)throw t.state="errored",e}}))}readImageNow(t){return e._(this,void 0,void 0,(function*(){if("undefined"!=typeof VideoFrame&&e.V()){const n=t.width+2,r=t.height+2;try{return new e.R({width:n,height:r},yield e.W(t,-1,-1,n,r))}catch(t){}}return o.getImageData(t,1)}))}_getNeighboringTiles(t){const n=t.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,l={};return l[new e.S(t.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},l[new e.S(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new e.S(t.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},l[new e.S(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.S(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new e.S(t.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},l[new e.S(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.S(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l}unloadTile(t){return e._(this,void 0,void 0,(function*(){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&(yield t.actor.sendAsync({type:"RDT",data:{type:this.type,uid:t.uid,source:this.id}}))}))}}class Y extends e.E{constructor(t,n,r,i){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=r.getActor(),this.setEventedParent(i),this._data=n.data,this._options=e.e({},n),this._collectResourceTiming=n.collectResourceTiming,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;const o=e.X/this.tileSize;void 0!==n.clusterMaxZoom&&this.maxzoom<=n.clusterMaxZoom&&e.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${n.clusterMaxZoom}".`),this.workerOptions=e.e({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*o,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*o,extent:e.X,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:e.X,radius:(n.clusterRadius||50)*o,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}load(){return e._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(t){this.map=t,this.load()}setData(t){return this._data=t,this._updateWorkerData(),this}updateData(t){return this._updateWorkerData(t),this}getData(){return e._(this,void 0,void 0,(function*(){const t=e.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:t})}))}setClusterOptions(t){return this.workerOptions.cluster=t.cluster,t&&(void 0!==t.clusterRadius&&(this.workerOptions.superclusterOptions.radius=t.clusterRadius),void 0!==t.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=t.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(t){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:t,source:this.id}})}getClusterChildren(t){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:t,source:this.id}})}getClusterLeaves(t,e,n){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:t,limit:e,offset:n}})}_updateWorkerData(t){return e._(this,void 0,void 0,(function*(){const n=e.e({type:this.type},this.workerOptions);t?n.dataDiff=t:"string"==typeof this._data?(n.request=this.map._requestManager.transformRequest(o.resolveURL(this._data),"Source"),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new e.k("dataloading",{dataType:"source"}));try{const t=yield this.actor.sendAsync({type:"LD",data:n});if(this._pendingLoads--,this._removed||t.abandoned)return void this.fire(new e.k("dataabort",{dataType:"source"}));let r=null;t.resourceTiming&&t.resourceTiming[this.id]&&(r=t.resourceTiming[this.id].slice(0));const i={dataType:"source"};this._collectResourceTiming&&r&&r.length>0&&e.e(i,{resourceTiming:r}),this.fire(new e.k("data",Object.assign(Object.assign({},i),{sourceDataType:"metadata"}))),this.fire(new e.k("data",Object.assign(Object.assign({},i),{sourceDataType:"content"})))}catch(t){if(this._pendingLoads--,this._removed)return void this.fire(new e.k("dataabort",{dataType:"source"}));this.fire(new e.j(t))}}))}loaded(){return 0===this._pendingLoads}loadTile(t){return e._(this,void 0,void 0,(function*(){const e=t.actor?"RT":"LT";t.actor=this.actor;const n={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};t.abortController=new AbortController;const r=yield this.actor.sendAsync({type:e,data:n},t.abortController);delete t.abortController,t.unloadVectorData(),t.aborted||t.loadVectorData(r,this.map.painter,"RT"===e)}))}abortTile(t){return e._(this,void 0,void 0,(function*(){t.abortController&&(t.abortController.abort(),delete t.abortController),t.aborted=!0}))}unloadTile(t){return e._(this,void 0,void 0,(function*(){t.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:t.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return e.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var J=e.Y([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Q extends e.E{constructor(t,e,n,r){super(),this.id=t,this.dispatcher=n,this.coordinates=e.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(r),this.options=e}load(t){return e._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new e.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const e=yield p.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,e&&e.data&&(this.image=e.data,t&&(this.coordinates=t),this._finishLoading())}catch(t){this._request=null,this._loaded=!0,this.fire(new e.j(t))}}))}loaded(){return this._loaded}updateImage(t){return t.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=t.url,this.load(t.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(t){this.map=t,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(t){this.coordinates=t;const n=t.map(e.Z.fromLngLat);this.tileID=function(t){let n=1/0,r=1/0,i=-1/0,o=-1/0;for(const e of t)n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y);const a=Math.max(i-n,o-r),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),l=Math.pow(2,s);return new e.a1(s,Math.floor((n+i)/2*l),Math.floor((r+o)/2*l))}(n),this.minzoom=this.maxzoom=this.tileID.z;const r=n.map((t=>this.tileID.getTilePoint(t)._round()));return this._boundsArray=new e.$,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,e.X,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,e.X),this._boundsArray.emplaceBack(r[2].x,r[2].y,e.X,e.X),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,n=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,J.members)),this.boundsSegments||(this.boundsSegments=e.a0.simpleSegment(0,0,4,2)),this.texture||(this.texture=new x(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));let r=!1;for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture,r=!0)}r&&this.fire(new e.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(t){return e._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={}):t.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class tt extends Q{constructor(t,e,n,r){super(t,e,n,r),this.roundZoom=!0,this.type="video",this.options=e}load(){return e._(this,void 0,void 0,(function*(){this._loaded=!1;const t=this.options;this.urls=[];for(const e of t.urls)this.urls.push(this.map._requestManager.transformRequest(e,"Source").url);try{const t=yield e.a3(this.urls);if(this._loaded=!0,!t)return;this.video=t,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(t){this.fire(new e.j(t))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.j(new e.a2(`sources.${this.id}`,null,`Playback for this video can be set only between the ${n.start(0)} and ${n.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,n=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,J.members)),this.boundsSegments||(this.boundsSegments=e.a0.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new x(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));let r=!1;for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture,r=!0)}r&&this.fire(new e.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class et extends Q{constructor(t,n,r,i){super(t,n,r,i),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((t=>!Array.isArray(t)||2!==t.length||t.some((t=>"number"!=typeof t))))||this.fire(new e.j(new e.a2(`sources.${t}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.j(new e.a2(`sources.${t}`,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.j(new e.a2(`sources.${t}`,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof HTMLCanvasElement||this.fire(new e.j(new e.a2(`sources.${t}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.j(new e.a2(`sources.${t}`,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}load(){return e._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const n=this.map.painter.context,r=n.gl;this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,J.members)),this.boundsSegments||(this.boundsSegments=e.a0.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new x(n,this.canvas,r.RGBA,{premultiply:!0});let i=!1;for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture,i=!0)}i&&this.fire(new e.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const t of[this.canvas.width,this.canvas.height])if(isNaN(t)||t<=0)return!0;return!1}}const nt={},rt=t=>{switch(t){case"geojson":return Y;case"image":return Q;case"raster":return X;case"raster-dem":return K;case"vector":return G;case"video":return tt;case"canvas":return et}return nt[t]},it="RTLPluginLoaded";class ot extends e.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=$()}_syncState(t){return this.status=t,this.dispatcher.broadcast("SRPS",{pluginStatus:t,pluginURL:this.url}).catch((t=>{throw this.status="error",t}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(t){return e._(this,arguments,void 0,(function(t){var e=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){if(e.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(e.url=o.resolveURL(t),!e.url)throw new Error(`requested url ${t} is invalid`);if("unavailable"===e.status){if(!n)return e._requestImport();e.status="deferred",e._syncState(e.status)}else if("requested"===e.status)return e._requestImport()}()}))}_requestImport(){return e._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new e.k(it))}))}lazyLoad(){"unavailable"===this.status?this.status="requested":"deferred"===this.status&&this._requestImport()}}let at=null;function st(){return at||(at=new ot),at}class lt{constructor(t,n){this.timeAdded=0,this.fadeEndTime=0,this.tileID=t,this.uid=e.a4(),this.uses=0,this.tileSize=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(t){const e=t+this.timeAdded;e<this.fadeEndTime||(this.fadeEndTime=e)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(t){this.demTexture&&t.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(t,n,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){const n={};if(!e)return n;for(const r of t){const t=r.layerIds.map((t=>e.getLayer(t))).filter(Boolean);if(0!==t.length){r.layers=t,r.stateDependentLayerIds&&(r.stateDependentLayers=r.stateDependentLayerIds.map((e=>t.filter((t=>t.id===e))[0])));for(const e of t)n[e.id]=r}}return n}(t.buckets,n.style),this.hasSymbolBuckets=!1;for(const t in this.buckets){const n=this.buckets[t];if(n instanceof e.a6){if(this.hasSymbolBuckets=!0,!r)break;n.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const t in this.buckets){const n=this.buckets[t];if(n instanceof e.a6&&n.hasRTLText){this.hasRTLText=!0,st().lazyLoad();break}}this.queryPadding=0;for(const t in this.buckets){const e=this.buckets[t];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(t).queryRadius(e))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new e.a5}unloadVectorData(){for(const t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(t){return this.buckets[t.id]}upload(t){for(const n in this.buckets){const e=this.buckets[n];e.uploadPending()&&e.upload(t)}const e=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new x(t,this.imageAtlas.image,e.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new x(t,this.glyphAtlasImage,e.ALPHA),this.glyphAtlasImage=null)}prepare(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)}queryRenderedFeatures(t,e,n,r,i,o,a,s,l,c){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:c,transform:s,params:a,queryPadding:this.queryPadding*l},t,e,n):{}}querySourceFeatures(t,n){const r=this.latestFeatureIndex;if(!r||!r.rawTileData)return;const i=r.loadVTLayers(),o=n&&n.sourceLayer?n.sourceLayer:"",a=i._geojsonTileLayer||i[o];if(!a)return;const s=e.a7(n&&n.filter),{z:l,x:c,y:u}=this.tileID.canonical,h={z:l,x:c,y:u};for(let d=0;d<a.length;d++){const n=a.feature(d);if(s.needGeometry){const t=e.a8(n,!0);if(!s.filter(new e.z(this.tileID.overscaledZ),t,this.tileID.canonical))continue}else if(!s.filter(new e.z(this.tileID.overscaledZ),n))continue;const i=r.getId(n,o),p=new e.a9(n,l,c,u,i);p.tile=h,t.push(p)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const n=this.expirationTime;if(t.cacheControl){const n=e.aa(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const t=Date.now();let e=!1;if(this.expirationTime>t)e=!1;else if(n)if(this.expirationTime<n)e=!0;else{const r=this.expirationTime-n;r?this.expirationTime=t+Math.max(r,3e4):e=!0}else e=!0;e?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(t,e){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(t).length)return;const n=this.latestFeatureIndex.loadVTLayers();for(const r in this.buckets){if(!e.style.hasLayer(r))continue;const i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];if(!a||!s||0===Object.keys(s).length)continue;i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l=e&&e.style&&e.style.getLayer(r);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<o.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=o.now()+t}setDependencies(t,e){const n={};for(const r of e)n[r]=!0;this.dependencies[t]=n}hasDependency(t,e){for(const n of t){const t=this.dependencies[n];if(t)for(const n of e)if(t[n])return!0}return!1}}class ct{constructor(t,e){this.max=t,this.onRemove=e,this.reset()}reset(){for(const t in this.data)for(const e of this.data[t])e.timeout&&clearTimeout(e.timeout),this.onRemove(e.value);return this.data={},this.order=[],this}add(t,e,n){const r=t.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);const i={value:e,timeout:void 0};if(void 0!==n&&(i.timeout=setTimeout((()=>{this.remove(t,i)}),n)),this.data[r].push(i),this.order.push(r),this.order.length>this.max){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}has(t){return t.wrapped().key in this.data}getAndRemove(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null}_getAndRemoveByKey(t){const e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value}getByKey(t){const e=this.data[t];return e?e[0].value:null}get(t){return this.has(t)?this.data[t.wrapped().key][0].value:null}remove(t,e){if(!this.has(t))return this;const n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(t){for(this.max=t;this.order.length>this.max;){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}filter(t){const e=[];for(const n in this.data)for(const r of this.data[n])t(r.value)||e.push(r);for(const n of e)this.remove(n.value.tileID,n)}}class ut{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,n,r){const i=String(n);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][i]=this.stateChanges[t][i]||{},e.e(this.stateChanges[t][i],r),null===this.deletedStates[t]){this.deletedStates[t]={};for(const e in this.state[t])e!==i&&(this.deletedStates[t][e]=null)}else if(this.deletedStates[t]&&null===this.deletedStates[t][i]){this.deletedStates[t][i]={};for(const e in this.state[t][i])r[e]||(this.deletedStates[t][i][e]=null)}else for(const e in r)this.deletedStates[t]&&this.deletedStates[t][i]&&null===this.deletedStates[t][i][e]&&delete this.deletedStates[t][i][e]}removeFeatureState(t,e,n){if(null===this.deletedStates[t])return;const r=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e)null!==this.deletedStates[t][r]&&(this.deletedStates[t][r]=this.deletedStates[t][r]||{},this.deletedStates[t][r][n]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][r])for(n in this.deletedStates[t][r]={},this.stateChanges[t][r])this.deletedStates[t][r][n]=null;else this.deletedStates[t][r]=null;else this.deletedStates[t]=null}getState(t,n){const r=String(n),i=e.e({},(this.state[t]||{})[r],(this.stateChanges[t]||{})[r]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){const e=this.deletedStates[t][n];if(null===e)return{};for(const t in e)delete i[t]}return i}initializeTileState(t,e){t.setFeatureState(this.state,e)}coalesceChanges(t,n){const r={};for(const i in this.stateChanges){this.state[i]=this.state[i]||{};const t={};for(const n in this.stateChanges[i])this.state[i][n]||(this.state[i][n]={}),e.e(this.state[i][n],this.stateChanges[i][n]),t[n]=this.state[i][n];r[i]=t}for(const i in this.deletedStates){this.state[i]=this.state[i]||{};const t={};if(null===this.deletedStates[i])for(const e in this.state[i])t[e]={},this.state[i][e]={};else for(const e in this.deletedStates[i]){if(null===this.deletedStates[i][e])this.state[i][e]={};else for(const t of Object.keys(this.deletedStates[i][e]))delete this.state[i][e][t];t[e]=this.state[i][e]}r[i]=r[i]||{},e.e(r[i],t)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(const e in t)t[e].setFeatureState(r,n)}}class ht extends e.E{constructor(t,e,n){super(),this.id=t,this.dispatcher=n,this.on("data",(t=>this._dataHandler(t))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((t,e,n,r)=>{const i=new(rt(e.type))(t,e,n,r);if(i.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${i.id}`);return i})(t,e,n,this),this._tiles={},this._cache=new ct(0,(t=>this._unloadTile(t))),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new ut,this._didEmitContent=!1,this._updated=!1}onAdd(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._maxTileCacheZoomLevels=t?t._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(t)}onRemove(t){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(t)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const t in this._tiles){const e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(t,n,r){return e._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(t),this._tileLoaded(t,n,r)}catch(n){t.state="errored",404!==n.status?this._source.fire(new e.j(n,{tile:t})):this.update(this.transform,this.terrain)}}))}_unloadTile(t){this._source.unloadTile&&this._source.unloadTile(t)}_abortTile(t){this._source.abortTile&&this._source.abortTile(t),this._source.fire(new e.k("dataabort",{tile:t,coord:t.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(t){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const e in this._tiles){const n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((t=>t.tileID)).sort(dt).map((t=>t.key))}getRenderableIds(t){const n=[];for(const e in this._tiles)this._isIdRenderable(e,t)&&n.push(this._tiles[e]);return t?n.sort(((t,n)=>{const r=t.tileID,i=n.tileID,o=new e.P(r.canonical.x,r.canonical.y)._rotate(this.transform.angle),a=new e.P(i.canonical.x,i.canonical.y)._rotate(this.transform.angle);return r.overscaledZ-i.overscaledZ||a.y-o.y||a.x-o.x})).map((t=>t.tileID.key)):n.map((t=>t.tileID)).sort(dt).map((t=>t.key))}hasRenderableParent(t){const e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)}_isIdRenderable(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const t in this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")}}_reloadTile(t,n){return e._(this,void 0,void 0,(function*(){const e=this._tiles[t];e&&("loading"!==e.state&&(e.state=n),yield this._loadTile(e,t,n))}))}_tileLoaded(t,n,r){t.timeAdded=o.now(),"expired"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),t.aborted||this._source.fire(new e.k("data",{dataType:"source",tile:t,coord:t.tileID}))}_backfillDEM(t){const e=this.getRenderableIds();for(let r=0;r<e.length;r++){const i=e[r];if(t.neighboringTiles&&t.neighboringTiles[i]){const e=this.getTileByID(i);n(t,e),n(e,t)}}function n(t,e){t.needsHillshadePrepare=!0,t.needsTerrainPrepare=!0;let n=e.tileID.canonical.x-t.tileID.canonical.x;const r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}}getTile(t){return this.getTileByID(t.key)}getTileByID(t){return this._tiles[t]}_retainLoadedChildren(t,e,n,r){for(const i in this._tiles){let o=this._tiles[i];if(r[i]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)continue;let a=o.tileID;for(;o&&o.tileID.overscaledZ>e+1;){const t=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[t.key],o&&o.hasData()&&(a=t)}let s=a;for(;s.overscaledZ>e;)if(s=s.scaledTo(s.overscaledZ-1),t[s.key]){r[a.key]=a;break}}}findLoadedParent(t,e){if(t.key in this._loadedParentTiles){const n=this._loadedParentTiles[t.key];return n&&n.tileID.overscaledZ>=e?n:null}for(let n=t.overscaledZ-1;n>=e;n--){const e=t.scaledTo(n),r=this._getLoadedTile(e);if(r)return r}}findLoadedSibling(t){return this._getLoadedTile(t)}_getLoadedTile(t){const e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(t.wrapped().key)}updateCacheSize(t){const n=Math.ceil(t.width/this._source.tileSize)+1,r=Math.ceil(t.height/this._source.tileSize)+1,i=Math.floor(n*r*(null===this._maxTileCacheZoomLevels?e.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(o)}handleWrapJump(t){const e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){const t={};for(const n in this._tiles){const r=this._tiles[n];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+e),t[r.tileID.key]=r}this._tiles=t;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(e,this._tiles[e])}}_updateCoveredAndRetainedTiles(t,e,n,r,i,a){const s={},l={},c=Object.keys(t),u=o.now();for(const o of c){const n=t[o],r=this._tiles[o];if(!r||0!==r.fadeEndTime&&r.fadeEndTime<=u)continue;const i=this.findLoadedParent(n,e),a=this.findLoadedSibling(n),c=i||a||null;c&&(this._addTile(c.tileID),s[c.tileID.key]=c.tileID),l[o]=n}this._retainLoadedChildren(l,r,n,t);for(const o in s)t[o]||(this._coveredTiles[o]=!0,t[o]=s[o]);if(a){const e={},n={};for(const t of i)this._tiles[t.key].hasData()?e[t.key]=t:n[t.key]=t;for(const r in n){const i=n[r].children(this._source.maxzoom);this._tiles[i[0].key]&&this._tiles[i[1].key]&&this._tiles[i[2].key]&&this._tiles[i[3].key]&&(e[i[0].key]=t[i[0].key]=i[0],e[i[1].key]=t[i[1].key]=i[1],e[i[2].key]=t[i[2].key]=i[2],e[i[3].key]=t[i[3].key]=i[3],delete n[r])}for(const r in n){const i=n[r],o=this.findLoadedParent(i,this._source.minzoom),a=this.findLoadedSibling(i),s=o||a||null;if(s){e[s.tileID.key]=t[s.tileID.key]=s.tileID;for(const t in e)e[t].isChildOf(s.tileID)&&delete e[t]}}for(const t in this._tiles)e[t]||(this._coveredTiles[t]=!0)}}update(t,n){if(!this._sourceLoaded||this._paused)return;let r;this.transform=t,this.terrain=n,this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?r=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((t=>new e.S(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y))):(r=t.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:n}),this._source.hasTile&&(r=r.filter((t=>this._source.hasTile(t))))):r=[];const i=t.coveringZoomLevel(this._source),o=Math.max(i-ht.maxOverzooming,this._source.minzoom),a=Math.max(i+ht.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const t={};for(const e of r)if(e.canonical.z>this._source.minzoom){const n=e.scaledTo(e.canonical.z-1);t[n.key]=n;const r=e.scaledTo(Math.max(this._source.minzoom,Math.min(e.canonical.z,5)));t[r.key]=r}r=r.concat(Object.values(t))}const s=0===r.length&&!this._updated&&this._didEmitContent;this._updated=!0,s&&this.fire(new e.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const l=this._updateRetainedTiles(r,i);pt(this._source.type)&&this._updateCoveredAndRetainedTiles(l,o,a,i,r,n);for(const e in l)this._tiles[e].clearFadeHold();const c=e.ab(this._tiles,l);for(const e of c){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(e)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)}_updateRetainedTiles(t,e){var n;const r={},i={},o=Math.max(e-ht.maxOverzooming,this._source.minzoom),a=Math.max(e+ht.maxUnderzooming,this._source.minzoom),s={};for(const l of t){const t=this._addTile(l);r[l.key]=l,t.hasData()||e<this._source.maxzoom&&(s[l.key]=l)}this._retainLoadedChildren(s,e,a,r);for(const l of t){let t=this._tiles[l.key];if(t.hasData())continue;if(e+1>this._source.maxzoom){const t=l.children(this._source.maxzoom)[0],e=this.getTile(t);if(e&&e.hasData()){r[t.key]=t;continue}}else{const t=l.children(this._source.maxzoom);if(r[t[0].key]&&r[t[1].key]&&r[t[2].key]&&r[t[3].key])continue}let a=t.wasRequested();for(let e=l.overscaledZ-1;e>=o;--e){const o=l.scaledTo(e);if(i[o.key])break;if(i[o.key]=!0,t=this.getTile(o),!t&&a&&(t=this._addTile(o)),t){const e=t.hasData();if((e||!(null===(n=this.map)||void 0===n?void 0:n.cancelPendingTileRequestsWhileZooming)||a)&&(r[o.key]=o),a=t.wasRequested(),e)break}}}return r}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const t in this._tiles){const e=[];let n,r=this._tiles[t].tileID;for(;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}e.push(r.key);const t=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(t),n)break;r=t}for(const t of e)this._loadedParentTiles[t]=n}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const t in this._tiles){const e=this._tiles[t].tileID,n=this._getLoadedTile(e);this._loadedSiblingTiles[e.key]=n}}_addTile(t){let n=this._tiles[t.key];if(n)return n;n=this._cache.getAndRemove(t),n&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));const r=n;return n||(n=new lt(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,t.key,n.state)),n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.k("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n}_setTileReloadTimer(t,e){t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);const n=e.getExpiryTimeout();n&&(this._timers[t]=setTimeout((()=>{this._reloadTile(t,"expired"),delete this._timers[t]}),n))}_removeTile(t){const e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))}_dataHandler(t){const e=t.sourceDataType;"source"===t.dataType&&"metadata"===e&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===t.dataType&&"content"===e&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const t in this._tiles)this._removeTile(t);this._cache.reset()}tilesIn(t,n,r){const i=[],o=this.transform;if(!o)return i;const a=r?o.getCameraQueryGeometry(t):t,s=t.map((t=>o.pointCoordinate(t,this.terrain))),l=a.map((t=>o.pointCoordinate(t,this.terrain))),c=this.getIds();let u=1/0,h=1/0,d=-1/0,p=-1/0;for(const e of l)u=Math.min(u,e.x),h=Math.min(h,e.y),d=Math.max(d,e.x),p=Math.max(p,e.y);for(let f=0;f<c.length;f++){const t=this._tiles[c[f]];if(t.holdingForFade())continue;const r=t.tileID,a=Math.pow(2,o.zoom-t.tileID.overscaledZ),m=n*t.queryPadding*e.X/t.tileSize/a,g=[r.getTilePoint(new e.Z(u,h)),r.getTilePoint(new e.Z(d,p))];if(g[0].x-m<e.X&&g[0].y-m<e.X&&g[1].x+m>=0&&g[1].y+m>=0){const e=s.map((t=>r.getTilePoint(t))),n=l.map((t=>r.getTilePoint(t)));i.push({tile:t,tileID:r,queryGeometry:e,cameraQueryGeometry:n,scale:a})}}return i}getVisibleCoordinates(t){const e=this.getRenderableIds(t).map((t=>this._tiles[t].tileID));for(const n of e)n.posMatrix=this.transform.calculatePosMatrix(n.toUnwrapped());return e}hasTransition(){if(this._source.hasTransition())return!0;if(pt(this._source.type)){const t=o.now();for(const e in this._tiles)if(this._tiles[e].fadeEndTime>=t)return!0}return!1}setFeatureState(t,e,n){this._state.updateState(t=t||"_geojsonTileLayer",e,n)}removeFeatureState(t,e,n){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,n)}getFeatureState(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)}setDependencies(t,e,n){const r=this._tiles[t];r&&r.setDependencies(e,n)}reloadTilesForDependencies(t,e){for(const n in this._tiles)this._tiles[n].hasDependency(t,e)&&this._reloadTile(n,"reloading");this._cache.filter((n=>!n.hasDependency(t,e)))}}function dt(t,e){const n=Math.abs(2*t.wrap)-+(t.wrap<0),r=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||r-n||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function pt(t){return"raster"===t||"image"===t||"video"===t}ht.maxOverzooming=10,ht.maxUnderzooming=3;class ft{constructor(t,e){this.reset(t,e)}reset(t,e){this.points=t||[],this._distances=[0];for(let n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.ac(t,0,1);let n=1,r=this._distances[n];const i=t*this.paddedLength+this.padding;for(;r<i&&n<this._distances.length;)r=this._distances[++n];const o=n-1,a=this._distances[o],s=r-a,l=s>0?(i-a)/s:0;return this.points[o].mult(1-l).add(this.points[n].mult(l))}}function mt(t,e){let n=!0;return"always"===t||"never"!==t&&"never"!==e||(n=!1),n}class gt{constructor(t,e,n){const r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(let o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}insertCircle(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)}_insertBoxCell(t,e,n,r,i,o){this.boxCells[i].push(o)}_insertCircleCell(t,e,n,r,i,o){this.circleCells[i].push(o)}_query(t,e,n,r,i,o,a){if(n<0||t>this.width||r<0||e>this.height)return[];const s=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return[{key:null,x1:t,y1:e,x2:n,y2:r}];for(let t=0;t<this.boxKeys.length;t++)s.push({key:this.boxKeys[t],x1:this.bboxes[4*t],y1:this.bboxes[4*t+1],x2:this.bboxes[4*t+2],y2:this.bboxes[4*t+3]});for(let t=0;t<this.circleKeys.length;t++){const e=this.circles[3*t],n=this.circles[3*t+1],r=this.circles[3*t+2];s.push({key:this.circleKeys[t],x1:e-r,y1:n-r,x2:e+r,y2:n+r})}}else this._forEachCell(t,e,n,r,this._queryCell,s,{hitTest:i,overlapMode:o,seenUids:{box:{},circle:{}}},a);return s}query(t,e,n,r){return this._query(t,e,n,r,!1,null)}hitTest(t,e,n,r,i,o){return this._query(t,e,n,r,!0,i,o).length>0}hitTestCircle(t,e,n,r,i){const o=t-n,a=t+n,s=e-n,l=e+n;if(a<0||o>this.width||l<0||s>this.height)return!1;const c=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,c,{hitTest:!0,overlapMode:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}},i),c.length>0}_queryCell(t,e,n,r,i,o,a,s){const{seenUids:l,hitTest:c,overlapMode:u}=a,h=this.boxCells[i];if(null!==h){const i=this.bboxes;for(const a of h)if(!l.box[a]){l.box[a]=!0;const h=4*a,d=this.boxKeys[a];if(t<=i[h+2]&&e<=i[h+3]&&n>=i[h+0]&&r>=i[h+1]&&(!s||s(d))&&(!c||!mt(u,d.overlapMode))&&(o.push({key:d,x1:i[h],y1:i[h+1],x2:i[h+2],y2:i[h+3]}),c))return!0}}const d=this.circleCells[i];if(null!==d){const i=this.circles;for(const a of d)if(!l.circle[a]){l.circle[a]=!0;const h=3*a,d=this.circleKeys[a];if(this._circleAndRectCollide(i[h],i[h+1],i[h+2],t,e,n,r)&&(!s||s(d))&&(!c||!mt(u,d.overlapMode))){const t=i[h],e=i[h+1],n=i[h+2];if(o.push({key:d,x1:t-n,y1:e-n,x2:t+n,y2:e+n}),c)return!0}}}return!1}_queryCellCircle(t,e,n,r,i,o,a,s){const{circle:l,seenUids:c,overlapMode:u}=a,h=this.boxCells[i];if(null!==h){const t=this.bboxes;for(const e of h)if(!c.box[e]){c.box[e]=!0;const n=4*e,r=this.boxKeys[e];if(this._circleAndRectCollide(l.x,l.y,l.radius,t[n+0],t[n+1],t[n+2],t[n+3])&&(!s||s(r))&&!mt(u,r.overlapMode))return o.push(!0),!0}}const d=this.circleCells[i];if(null!==d){const t=this.circles;for(const e of d)if(!c.circle[e]){c.circle[e]=!0;const n=3*e,r=this.circleKeys[e];if(this._circlesCollide(t[n],t[n+1],t[n+2],l.x,l.y,l.radius)&&(!s||s(r))&&!mt(u,r.overlapMode))return o.push(!0),!0}}}_forEachCell(t,e,n,r,i,o,a,s){const l=this._convertToXCellCoord(t),c=this._convertToYCellCoord(e),u=this._convertToXCellCoord(n),h=this._convertToYCellCoord(r);for(let d=l;d<=u;d++)for(let l=c;l<=h;l++)if(i.call(this,t,e,n,r,this.xCellCount*l+d,o,a,s))return}_convertToXCellCoord(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}_convertToYCellCoord(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}_circlesCollide(t,e,n,r,i,o){const a=r-t,s=i-e,l=n+o;return l*l>a*a+s*s}_circleAndRectCollide(t,e,n,r,i,o,a){const s=(o-r)/2,l=Math.abs(t-(r+s));if(l>s+n)return!1;const c=(a-i)/2,u=Math.abs(e-(i+c));if(u>c+n)return!1;if(l<=s||u<=c)return!0;const h=l-s,d=u-c;return h*h+d*d<=n*n}}function yt(t,n,r,i,o){const a=e.H();return n?(e.K(a,a,[1/o,1/o,1]),r||e.ad(a,a,i.angle)):e.L(a,i.labelPlaneMatrix,t),a}function vt(t,n,r,i,o){if(n){const n=e.ae(t);return e.K(n,n,[o,o,1]),r||e.ad(n,n,-i.angle),n}return i.glCoordMatrix}function _t(t,n,r,i){let o;i?(o=[t,n,i(t,n),1],e.af(o,o,r)):(o=[t,n,0,1],Lt(o,o,r));const a=o[3];return{point:new e.P(o[0]/a,o[1]/a),signedDistanceFromCamera:a,isOccluded:!1}}function bt(t,e){return.5+t/e*.5}function xt(t,e){return t.x>=-e[0]&&t.x<=e[0]&&t.y>=-e[1]&&t.y<=e[1]}function wt(t,n,r,i,o,a,s,l,c,u,h,d,p,f,m){const g=i?t.textSizeData:t.iconSizeData,y=e.ag(g,r.transform.zoom),v=[256/r.width*2+1,256/r.height*2+1],_=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;_.clear();const b=t.lineVertexArray,x=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,w=r.transform.width/r.transform.height;let S=!1;for(let k=0;k<x.length;k++){const i=x.get(k);if(i.hidden||i.writingMode===e.ah.vertical&&!S){zt(i.numGlyphs,_);continue}S=!1;const P=_t(i.anchorX,i.anchorY,n,m);if(!xt(P.point,v)){zt(i.numGlyphs,_);continue}const T=bt(r.transform.cameraToCenterDistance,P.signedDistanceFromCamera),E=e.ai(g,y,i),C=s?E/T:E*T,A={getElevation:m,labelPlaneMatrix:o,lineVertexArray:b,pitchWithMap:s,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:u,tileAnchorPoint:new e.P(i.anchorX,i.anchorY),unwrappedTileID:h,width:d,height:p,translation:f},M=Pt(A,i,C,!1,l,n,a,t.glyphOffsetArray,_,w,c);S=M.useVertical,(M.notEnoughRoom||S||M.needsFlipping&&Pt(A,i,C,!0,l,n,a,t.glyphOffsetArray,_,w,c).notEnoughRoom)&&zt(i.numGlyphs,_)}i?t.text.dynamicLayoutVertexBuffer.updateData(_):t.icon.dynamicLayoutVertexBuffer.updateData(_)}function St(t,e,n,r,i,o,a,s){const l=o.glyphStartIndex+o.numGlyphs,c=o.lineStartIndex,u=o.lineStartIndex+o.lineLength,h=e.getoffsetX(o.glyphStartIndex),d=e.getoffsetX(l-1),p=Ot(t*h,n,r,i,o.segment,c,u,s,a);if(!p)return null;const f=Ot(t*d,n,r,i,o.segment,c,u,s,a);return f?s.projectionCache.anyProjectionOccluded?null:{first:p,last:f}:null}function kt(t,n,r,i){return t===e.ah.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(t===e.ah.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function Pt(t,n,r,i,o,a,s,l,c,u,h){const d=r/24,p=n.lineOffsetX*d,f=n.lineOffsetY*d;let m;if(n.numGlyphs>1){const e=n.glyphStartIndex+n.numGlyphs,r=n.lineStartIndex,a=n.lineStartIndex+n.lineLength,c=St(d,l,p,f,i,n,h,t);if(!c)return{notEnoughRoom:!0};const g=_t(c.first.point.x,c.first.point.y,s,t.getElevation).point,y=_t(c.last.point.x,c.last.point.y,s,t.getElevation).point;if(o&&!i){const t=kt(n.writingMode,g,y,u);if(t)return t}m=[c.first];for(let o=n.glyphStartIndex+1;o<e-1;o++)m.push(Ot(d*l.getoffsetX(o),p,f,i,n.segment,r,a,t,h));m.push(c.last)}else{if(o&&!i){const r=_t(t.tileAnchorPoint.x,t.tileAnchorPoint.y,a,t.getElevation).point,i=n.lineStartIndex+n.segment+1,o=new e.P(t.lineVertexArray.getx(i),t.lineVertexArray.gety(i)),s=_t(o.x,o.y,a,t.getElevation),l=s.signedDistanceFromCamera>0?s.point:function(t,e,n,r,i,o){return Tt(t,e,n,1,i,o)}(t.tileAnchorPoint,o,r,0,a,t),c=kt(n.writingMode,r,l,u);if(c)return c}const r=Ot(d*l.getoffsetX(n.glyphStartIndex),p,f,i,n.segment,n.lineStartIndex,n.lineStartIndex+n.lineLength,t,h);if(!r||t.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};m=[r]}for(const g of m)e.aj(c,g.point,g.angle);return{}}function Tt(t,e,n,r,i,o){const a=t.add(t.sub(e)._unit()),s=void 0!==i?_t(a.x,a.y,i,o.getElevation).point:Ct(a.x,a.y,o).point,l=n.sub(s);return n.add(l._mult(r/l.mag()))}function Et(t,n,r){const i=n.projectionCache;if(i.projections[t])return i.projections[t];const o=new e.P(n.lineVertexArray.getx(t),n.lineVertexArray.gety(t)),a=Ct(o.x,o.y,n);if(a.signedDistanceFromCamera>0)return i.projections[t]=a.point,i.anyProjectionOccluded=i.anyProjectionOccluded||a.isOccluded,a.point;const s=t-r.direction;return function(t,e,n,r,i){return Tt(t,e,n,r,void 0,i)}(0===r.distanceFromAnchor?n.tileAnchorPoint:new e.P(n.lineVertexArray.getx(s),n.lineVertexArray.gety(s)),o,r.previousVertex,r.absOffsetX-r.distanceFromAnchor+1,n)}function Ct(t,e,n){const r=t+n.translation[0],i=e+n.translation[1];let o;return!n.pitchWithMap&&n.projection.useSpecialProjectionForSymbols?(o=n.projection.projectTileCoordinates(r,i,n.unwrappedTileID,n.getElevation),o.point.x=(.5*o.point.x+.5)*n.width,o.point.y=(.5*-o.point.y+.5)*n.height):(o=_t(r,i,n.labelPlaneMatrix,n.getElevation),o.isOccluded=!1),o}function At(t,e,n){return t._unit()._perp()._mult(e*n)}function Mt(t,n,r,i,o,a,s,l,c){if(l.projectionCache.offsets[t])return l.projectionCache.offsets[t];const u=r.add(n);if(t+c.direction<i||t+c.direction>=o)return l.projectionCache.offsets[t]=u,u;const h=Et(t+c.direction,l,c),d=At(h.sub(r),s,c.direction),p=r.add(d),f=h.add(d);return l.projectionCache.offsets[t]=e.ak(a,u,p,f)||u,l.projectionCache.offsets[t]}function Ot(t,e,n,r,i,o,a,s,l){const c=r?t-e:t+e;let u=c>0?1:-1,h=0;r&&(u*=-1,h=Math.PI),u<0&&(h+=Math.PI);let d,p=u>0?o+i:o+i+1;s.projectionCache.cachedAnchorPoint?d=s.projectionCache.cachedAnchorPoint:(d=Ct(s.tileAnchorPoint.x,s.tileAnchorPoint.y,s).point,s.projectionCache.cachedAnchorPoint=d);let f,m,g=d,y=d,v=0,_=0;const b=Math.abs(c),x=[];let w;for(;v+_<=b;){if(p+=u,p<o||p>=a)return null;v+=_,y=g,m=f;const t={absOffsetX:b,direction:u,distanceFromAnchor:v,previousVertex:y};if(g=Et(p,s,t),0===n)x.push(y),w=g.sub(y);else{let e;const r=g.sub(y);e=0===r.mag()?At(Et(p+u,s,t).sub(g),n,u):At(r,n,u),m||(m=y.add(e)),f=Mt(p,e,g,o,a,m,n,s,t),x.push(m),w=f.sub(m)}_=w.mag()}const S=w._mult((b-v)/_)._add(m||y),k=h+Math.atan2(g.y-y.y,g.x-y.x);return x.push(S),{point:S,angle:l?k:0,path:x}}const It=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function zt(t,e){for(let n=0;n<t;n++){const t=e.length;e.resize(t+4),e.float32.set(It,3*t)}}function Lt(t,e,n){const r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}const Dt=100;class jt{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new gt(t.width+200,t.height+200,25),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new gt(t.width+200,t.height+200,25);this.transform=t,this.mapProjection=e,this.grid=n,this.ignoredGrid=r,this.pitchFactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+Dt,this.screenBottomBoundary=t.height+Dt,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(t,e,n,r,i,o,a,s,l,c,u){const h=t.anchorPointX+s[0],d=t.anchorPointY+s[1],p=this.projectAndGetPerspectiveRatio(r,h,d,i,c),f=n*p.perspectiveRatio;let m;if(o||a)m=this._projectCollisionBox(t,f,r,i,o,a,s,p,c,u);else{const e=p.point.x+(u?u.x*f:0),n=p.point.y+(u?u.y*f:0);m={allPointsOccluded:!1,box:[e+t.x1*f,n+t.y1*f,e+t.x2*f,n+t.y2*f]}}const[g,y,v,_]=m.box;return this.mapProjection.useSpecialProjectionForSymbols&&(o?m.allPointsOccluded:this.mapProjection.isOccluded(h,d,i))||p.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(g,y,v,_)||"always"!==e&&this.grid.hitTest(g,y,v,_,e,l)?{box:[g,y,v,_],placeable:!1,offscreen:!1}:{box:[g,y,v,_],placeable:!0,offscreen:this.isOffscreen(g,y,v,_)}}placeCollisionCircles(t,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g){const y=[],v=new e.P(n.anchorX,n.anchorY),_=this.getPerspectiveRatio(a,v.x,v.y,s,g),b=(h?o/_:o*_)/e.ap,x={getElevation:g,labelPlaneMatrix:l,lineVertexArray:r,pitchWithMap:h,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:v,unwrappedTileID:s,width:this.transform.width,height:this.transform.height,translation:m},w=St(b,i,n.lineOffsetX*b,n.lineOffsetY*b,!1,n,!1,x);let S=!1,k=!1,P=!0;if(w){const n=.5*p*_+f,r=new e.P(-100,-100),i=new e.P(this.screenRightBoundary,this.screenBottomBoundary),o=new ft,a=w.first,s=w.last;let l=[];for(let t=a.path.length-1;t>=1;t--)l.push(a.path[t]);for(let t=1;t<s.path.length;t++)l.push(s.path[t]);const h=2.5*n;if(c){const t=this.projectPathToScreenSpace(l,x,c);l=t.some((t=>t.signedDistanceFromCamera<=0))?[]:t.map((t=>t.point))}let m=[];if(l.length>0){const t=l[0].clone(),n=l[0].clone();for(let e=1;e<l.length;e++)t.x=Math.min(t.x,l[e].x),t.y=Math.min(t.y,l[e].y),n.x=Math.max(n.x,l[e].x),n.y=Math.max(n.y,l[e].y);m=t.x>=r.x&&n.x<=i.x&&t.y>=r.y&&n.y<=i.y?[l]:n.x<r.x||t.x>i.x||n.y<r.y||t.y>i.y?[]:e.al([l],r.x,r.y,i.x,i.y)}for(const e of m){o.reset(e,.25*n);let r=0;r=o.length<=.5*n?1:Math.ceil(o.paddedLength/h)+1;for(let e=0;e<r;e++){const i=e/Math.max(r-1,1),a=o.lerp(i),s=a.x+Dt,l=a.y+Dt;y.push(s,l,n,0);const c=s-n,h=l-n,p=s+n,f=l+n;if(P=P&&this.isOffscreen(c,h,p,f),k=k||this.isInsideGrid(c,h,p,f),"always"!==t&&this.grid.hitTestCircle(s,l,n,t,d)&&(S=!0,!u))return{circles:[],offscreen:!1,collisionDetected:S}}}}return{circles:!u&&S||!k||_<this.perspectiveRatioCutoff?[]:y,offscreen:P,collisionDetected:S}}projectPathToScreenSpace(t,e,n){return t.map((t=>_t(t.x,t.y,n,e.getElevation)))}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const n=[];let r=1/0,i=1/0,o=-1/0,a=-1/0;for(const u of t){const t=new e.P(u.x+Dt,u.y+Dt);r=Math.min(r,t.x),i=Math.min(i,t.y),o=Math.max(o,t.x),a=Math.max(a,t.y),n.push(t)}const s=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a)),l={},c={};for(const u of s){const t=u.key;if(void 0===l[t.bucketInstanceId]&&(l[t.bucketInstanceId]={}),l[t.bucketInstanceId][t.featureIndex])continue;const r=[new e.P(u.x1,u.y1),new e.P(u.x2,u.y1),new e.P(u.x2,u.y2),new e.P(u.x1,u.y2)];e.am(n,r)&&(l[t.bucketInstanceId][t.featureIndex]=!0,void 0===c[t.bucketInstanceId]&&(c[t.bucketInstanceId]=[]),c[t.bucketInstanceId].push(t.featureIndex))}return c}insertCollisionBox(t,e,n,r,i,o){(n?this.ignoredGrid:this.grid).insert({bucketInstanceId:r,featureIndex:i,collisionGroupID:o,overlapMode:e},t[0],t[1],t[2],t[3])}insertCollisionCircles(t,e,n,r,i,o){const a=n?this.ignoredGrid:this.grid,s={bucketInstanceId:r,featureIndex:i,collisionGroupID:o,overlapMode:e};for(let l=0;l<t.length;l+=4)a.insertCircle(s,t[l],t[l+1],t[l+2])}projectAndGetPerspectiveRatio(t,n,r,i,o){let a;o?(a=[n,r,o(n,r),1],e.af(a,a,t)):(a=[n,r,0,1],Lt(a,a,t));const s=a[3];return{point:new e.P((a[0]/s+1)/2*this.transform.width+Dt,(-a[1]/s+1)/2*this.transform.height+Dt),perspectiveRatio:.5+this.transform.cameraToCenterDistance/s*.5,isOccluded:!1,signedDistanceFromCamera:s}}getPerspectiveRatio(t,e,n,r,i){const o=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(e,n,r,i):_t(e,n,t,i);return.5+this.transform.cameraToCenterDistance/o.signedDistanceFromCamera*.5}isOffscreen(t,e,n,r){return n<Dt||t>=this.screenRightBoundary||r<Dt||e>this.screenBottomBoundary}isInsideGrid(t,e,n,r){return n>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary}getViewportMatrix(){const t=e.an([]);return e.J(t,t,[-100,-100,0]),t}_projectCollisionBox(t,n,r,i,o,a,s,l,c,u){let h=new e.P(1,0),d=new e.P(0,1);const p=new e.P(t.anchorPointX+s[0],t.anchorPointY+s[1]);if(a&&!o){const t=this.projectAndGetPerspectiveRatio(r,p.x+1,p.y,i,c).point.sub(l.point).unit(),n=Math.atan(t.y/t.x)+(t.x<0?Math.PI:0),o=Math.sin(n),a=Math.cos(n);h=new e.P(a,o),d=new e.P(-o,a)}else if(!a&&o){const t=-this.transform.angle,n=Math.sin(t),r=Math.cos(t);h=new e.P(r,n),d=new e.P(-n,r)}let f=l.point,m=n;if(o){f=p;const t=this.transform.zoom-Math.floor(this.transform.zoom);m=Math.pow(2,-t),m*=this.mapProjection.getPitchedTextCorrection(this.transform,p,i),u||(m*=e.ac(.5+l.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}u&&(f=f.add(h.mult(u.x*m)).add(d.mult(u.y*m)));const g=t.x1*m,y=t.x2*m,v=(g+y)/2,_=t.y1*m,b=t.y2*m,x=(_+b)/2,w=[{offsetX:g,offsetY:_},{offsetX:v,offsetY:_},{offsetX:y,offsetY:_},{offsetX:y,offsetY:x},{offsetX:y,offsetY:b},{offsetX:v,offsetY:b},{offsetX:g,offsetY:b},{offsetX:g,offsetY:x}];let S=[];for(const{offsetX:P,offsetY:T}of w)S.push(new e.P(f.x+h.x*P+d.x*T,f.y+h.y*P+d.y*T));let k=!1;if(o){const t=S.map((t=>this.projectAndGetPerspectiveRatio(r,t.x,t.y,i,c)));k=t.some((t=>!t.isOccluded)),S=t.map((t=>t.point))}else k=!0;return{box:e.ao(S),allPointsOccluded:!k}}}function Rt(t,n,r){return n*(e.X/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}class Bt{constructor(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n}isHidden(){return 0===this.opacity&&!this.placed}}class Nt{constructor(t,e,n,r,i){this.text=new Bt(t?t.text:null,e,n,i),this.icon=new Bt(t?t.icon:null,e,r,i)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ft{constructor(t,e,n){this.text=t,this.icon=e,this.skipFade=n}}class $t{constructor(){this.invProjMatrix=e.H(),this.viewportMatrix=e.H(),this.circles=[]}}class Vt{constructor(t,e,n,r,i){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i}}class Ut{constructor(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}get(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){const e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:t=>t.collisionGroupID===e}}return this.collisionGroups[t]}}function Zt(t,n,r,i,o){const{horizontalAlign:a,verticalAlign:s}=e.au(t);return new e.P(-(a-.5)*n+i[0]*o,-(s-.5)*r+i[1]*o)}class qt{constructor(t,e,n,r,i,o){this.transform=t.clone(),this.terrain=n,this.collisionIndex=new jt(this.transform,e),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=r,this.retainedQueryData={},this.collisionGroups=new Ut(i),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=o,o&&(o.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(t){const e=this.terrain;return e?(n,r)=>e.getElevation(t,n,r):null}getBucketParts(t,n,r,i){const o=r.getBucket(n),a=r.latestFeatureIndex;if(!o||!a||n.id!==o.layerIds[0])return;const s=r.collisionBoxArray,l=o.layers[0].layout,c=o.layers[0].paint,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),h=r.tileSize/e.X,d=r.tileID.toUnwrapped(),p=this.transform.calculatePosMatrix(d),f="map"===l.get("text-pitch-alignment"),m="map"===l.get("text-rotation-alignment"),g=Rt(r,1,this.transform.zoom),y=this.collisionIndex.mapProjection.translatePosition(this.transform,r,c.get("text-translate"),c.get("text-translate-anchor")),v=this.collisionIndex.mapProjection.translatePosition(this.transform,r,c.get("icon-translate"),c.get("icon-translate-anchor")),_=yt(p,f,m,this.transform,g);let b=null;if(f){const t=vt(p,f,m,this.transform,g);b=e.L([],this.transform.labelPlaneMatrix,t)}this.retainedQueryData[o.bucketInstanceId]=new Vt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);const x={bucket:o,layout:l,translationText:y,translationIcon:v,posMatrix:p,unwrappedTileID:d,textLabelPlaneMatrix:_,labelToScreenMatrix:b,scale:u,textPixelRatio:h,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.ag(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(const e of o.sortKeyRanges){const{sortKey:n,symbolInstanceStart:r,symbolInstanceEnd:i}=e;t.push({sortKey:n,symbolInstanceStart:r,symbolInstanceEnd:i,parameters:x})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:x})}attemptAnchorPlacement(t,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y,v,_){const b=e.aq[t.textAnchor],x=[t.textOffset0,t.textOffset1],w=Zt(b,r,i,x,o),S=this.collisionIndex.placeCollisionBox(n,d,l,c,u,s,a,g,h.predicate,_,w);if((!v||this.collisionIndex.placeCollisionBox(v,d,l,c,u,s,a,y,h.predicate,_,w).placeable)&&S.placeable){let t;if(this.prevPlacement&&this.prevPlacement.variableOffsets[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID].text&&(t=this.prevPlacement.variableOffsets[p.crossTileID].anchor),0===p.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[p.crossTileID]={textOffset:x,width:r,height:i,anchor:b,textBoxScale:o,prevAnchor:t},this.markUsedJustification(f,b,p,m),f.allowVerticalPlacement&&(this.markUsedOrientation(f,m,p),this.placedOrientations[p.crossTileID]=m),{shift:w,placedGlyphBoxes:S}}}placeLayerBucketPart(t,n,r){const{bucket:i,layout:o,translationText:a,translationIcon:s,posMatrix:l,unwrappedTileID:c,textLabelPlaneMatrix:u,labelToScreenMatrix:h,textPixelRatio:d,holdingForFade:p,collisionBoxArray:f,partiallyEvaluatedTextSize:m,collisionGroup:g}=t.parameters,y=o.get("text-optional"),v=o.get("icon-optional"),_=e.ar(o,"text-overlap","text-allow-overlap"),b="always"===_,x=e.ar(o,"icon-overlap","icon-allow-overlap"),w="always"===x,S="map"===o.get("text-rotation-alignment"),k="map"===o.get("text-pitch-alignment"),P="none"!==o.get("icon-text-fit"),T="viewport-y"===o.get("symbol-z-order"),E=b&&(w||!i.hasIconData()||v),C=w&&(b||!i.hasTextData()||y);!i.collisionArrays&&f&&i.deserializeCollisionBoxes(f);const A=this._getTerrainElevationFunc(this.retainedQueryData[i.bucketInstanceId].tileID),M=(t,f,w)=>{var T,M;if(n[t.crossTileID])return;if(p)return void(this.placements[t.crossTileID]=new Ft(!1,!1,!1));let O=!1,I=!1,z=!0,L=null,D={box:null,placeable:!1,offscreen:null},j={box:null,placeable:!1,offscreen:null},R=null,B=null,N=null,F=0,$=0,V=0;f.textFeatureIndex?F=f.textFeatureIndex:t.useRuntimeCollisionCircles&&(F=t.featureIndex),f.verticalTextFeatureIndex&&($=f.verticalTextFeatureIndex);const U=f.textBox;if(U){const n=n=>{let r=e.ah.horizontal;if(i.allowVerticalPlacement&&!n&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[t.crossTileID];e&&(this.placedOrientations[t.crossTileID]=e,r=e,this.markUsedOrientation(i,r,t))}return r},o=(n,r)=>{if(i.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&f.verticalTextBox){for(const t of i.writingModes)if(t===e.ah.vertical?(D=r(),j=D):D=n(),D&&D.placeable)break}else D=n()},u=t.textAnchorOffsetStartIndex,h=t.textAnchorOffsetEndIndex;if(h===u){const r=(e,n)=>{const r=this.collisionIndex.placeCollisionBox(e,_,d,l,c,k,S,a,g.predicate,A);return r&&r.placeable&&(this.markUsedOrientation(i,n,t),this.placedOrientations[t.crossTileID]=n),r};o((()=>r(U,e.ah.horizontal)),(()=>{const n=f.verticalTextBox;return i.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?r(n,e.ah.vertical):{box:null,offscreen:null}})),n(D&&D.placeable)}else{let p=e.aq[null===(M=null===(T=this.prevPlacement)||void 0===T?void 0:T.variableOffsets[t.crossTileID])||void 0===M?void 0:M.anchor];const m=(n,o,f)=>{const m=n.x2-n.x1,y=n.y2-n.y1,v=t.textBoxScale,b=P&&"never"===x?o:null;let w=null,T="never"===_?1:2,E="never";p&&T++;for(let e=0;e<T;e++){for(let e=u;e<h;e++){const r=i.textAnchorOffsets.get(e);if(p&&r.textAnchor!==p)continue;const o=this.attemptAnchorPlacement(r,n,m,y,v,S,k,d,l,c,g,E,t,i,f,a,s,b,A);if(o&&(w=o.placedGlyphBoxes,w&&w.placeable))return O=!0,L=o.shift,w}p?p=null:E=_}return r&&!w&&(w={box:this.collisionIndex.placeCollisionBox(U,"always",d,l,c,k,S,a,g.predicate,A,new e.P(0,0)).box,offscreen:!1,placeable:!1}),w};o((()=>m(U,f.iconBox,e.ah.horizontal)),(()=>{const n=f.verticalTextBox;return i.allowVerticalPlacement&&(!D||!D.placeable)&&t.numVerticalGlyphVertices>0&&n?m(n,f.verticalIconBox,e.ah.vertical):{box:null,occluded:!0,offscreen:null}})),D&&(O=D.placeable,z=D.offscreen);const y=n(D&&D.placeable);if(!O&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[t.crossTileID];e&&(this.variableOffsets[t.crossTileID]=e,this.markUsedJustification(i,e.anchor,t,y))}}}if(R=D,O=R&&R.placeable,z=R&&R.offscreen,t.useRuntimeCollisionCircles){const n=i.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),s=e.ai(i.textSizeData,m,n),d=o.get("text-padding");B=this.collisionIndex.placeCollisionCircles(_,n,i.lineVertexArray,i.glyphOffsetArray,s,l,c,u,h,r,k,g.predicate,t.collisionCircleDiameter,d,a,A),B.circles.length&&B.collisionDetected&&!r&&e.w("Collisions detected, but collision boxes are not shown"),O=b||B.circles.length>0&&!B.collisionDetected,z=z&&B.offscreen}if(f.iconFeatureIndex&&(V=f.iconFeatureIndex),f.iconBox){const t=t=>this.collisionIndex.placeCollisionBox(t,x,d,l,c,k,S,s,g.predicate,A,P&&L?L:void 0);j&&j.placeable&&f.verticalIconBox?(N=t(f.verticalIconBox),I=N.placeable):(N=t(f.iconBox),I=N.placeable),z=z&&N.offscreen}const Z=y||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,q=v||0===t.numIconVertices;Z||q?q?Z||(I=I&&O):O=I&&O:I=O=I&&O;const H=I&&N.placeable;if(O&&R.placeable&&this.collisionIndex.insertCollisionBox(R.box,_,o.get("text-ignore-placement"),i.bucketInstanceId,j&&j.placeable&&$?$:F,g.ID),H&&this.collisionIndex.insertCollisionBox(N.box,x,o.get("icon-ignore-placement"),i.bucketInstanceId,V,g.ID),B&&O&&this.collisionIndex.insertCollisionCircles(B.circles,_,o.get("text-ignore-placement"),i.bucketInstanceId,F,g.ID),r&&this.storeCollisionData(i.bucketInstanceId,w,f,R,N,B),0===t.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===i.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[t.crossTileID]=new Ft(O||E,I||C,z||i.justReloaded),n[t.crossTileID]=!0};if(T){if(0!==t.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const e=i.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const n=e[t];M(i.symbolInstances.get(n),i.collisionArrays[n],n)}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)M(i.symbolInstances.get(e),i.collisionArrays[e],e);if(r&&i.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[i.bucketInstanceId];e.as(t.invProjMatrix,l),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}i.justReloaded=!1}storeCollisionData(t,e,n,r,i,o){if(n.textBox||n.iconBox){let o,a;this.collisionBoxArrays.has(t)?o=this.collisionBoxArrays.get(t):(o=new Map,this.collisionBoxArrays.set(t,o)),o.has(e)?a=o.get(e):(a={text:null,icon:null},o.set(e,a)),n.textBox&&(a.text=r.box),n.iconBox&&(a.icon=i.box)}if(o){let e=this.collisionCircleArrays[t];void 0===e&&(e=this.collisionCircleArrays[t]=new $t);for(let t=0;t<o.circles.length;t+=4)e.circles.push(o.circles[t+0]),e.circles.push(o.circles[t+1]),e.circles.push(o.circles[t+2]),e.circles.push(o.collisionDetected?1:0)}}markUsedJustification(t,n,r,i){let o;o=i===e.ah.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.at(n)];const a=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];for(const e of a)e>=0&&(t.text.placedSymbolArray.get(e).crossTileID=o>=0&&e!==o?0:r.crossTileID)}markUsedOrientation(t,n,r){const i=n===e.ah.horizontal||n===e.ah.horizontalOnly?n:0,o=n===e.ah.vertical?n:0,a=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];for(const e of a)t.text.placedSymbolArray.get(e).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)}commit(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;const e=this.prevPlacement;let n=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;const r=e?e.symbolFadeChange(t):1,i=e?e.opacities:{},o=e?e.variableOffsets:{},a=e?e.placedOrientations:{};for(const s in this.placements){const t=this.placements[s],e=i[s];e?(this.opacities[s]=new Nt(e,r,t.text,t.icon),n=n||t.text!==e.text.placed||t.icon!==e.icon.placed):(this.opacities[s]=new Nt(null,r,t.text,t.icon,t.skipFade),n=n||t.text||t.icon)}for(const s in i){const t=i[s];if(!this.opacities[s]){const e=new Nt(t,r,!1,!1);e.isHidden()||(this.opacities[s]=e,n=n||t.text.placed||t.icon.placed)}}for(const s in o)this.variableOffsets[s]||!this.opacities[s]||this.opacities[s].isHidden()||(this.variableOffsets[s]=o[s]);for(const s in a)this.placedOrientations[s]||!this.opacities[s]||this.opacities[s].isHidden()||(this.placedOrientations[s]=a[s]);if(e&&void 0===e.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)}updateLayerOpacities(t,e){const n={};for(const r of e){const e=r.getBucket(t);e&&r.latestFeatureIndex&&t.id===e.layerIds[0]&&this.updateBucketOpacities(e,r.tileID,n,r.collisionBoxArray)}}updateBucketOpacities(t,n,r,i){t.hasTextData()&&(t.text.opacityVertexArray.clear(),t.text.hasVisibleVertices=!1),t.hasIconData()&&(t.icon.opacityVertexArray.clear(),t.icon.hasVisibleVertices=!1),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const o=t.layers[0],a=o.layout,s=new Nt(null,0,!1,!1,!0),l=a.get("text-allow-overlap"),c=a.get("icon-allow-overlap"),u=o._unevaluatedLayout.hasValue("text-variable-anchor")||o._unevaluatedLayout.hasValue("text-variable-anchor-offset"),h="map"===a.get("text-rotation-alignment"),d="map"===a.get("text-pitch-alignment"),p="none"!==a.get("icon-text-fit"),f=new Nt(null,0,l&&(c||!t.hasIconData()||a.get("icon-optional")),c&&(l||!t.hasTextData()||a.get("text-optional")),!0);!t.collisionArrays&&i&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(i);const m=(t,e,n)=>{for(let r=0;r<e/4;r++)t.opacityVertexArray.emplaceBack(n);t.hasVisibleVertices=t.hasVisibleVertices||n!==ee},g=this.collisionBoxArrays.get(t.bucketInstanceId);for(let y=0;y<t.symbolInstances.length;y++){const n=t.symbolInstances.get(y),{numHorizontalGlyphVertices:i,numVerticalGlyphVertices:o,crossTileID:a}=n;let l=this.opacities[a];r[a]?l=s:l||(l=f,this.opacities[a]=l),r[a]=!0;const c=n.numIconVertices>0,v=this.placedOrientations[n.crossTileID],_=v===e.ah.vertical,b=v===e.ah.horizontal||v===e.ah.horizontalOnly;if(i>0||o>0){const e=te(l.text);m(t.text,i,_?ee:e),m(t.text,o,b?ee:e);const r=l.text.isHidden();[n.rightJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.leftJustifiedTextSymbolIndex].forEach((e=>{e>=0&&(t.text.placedSymbolArray.get(e).hidden=r||_?1:0)})),n.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).hidden=r||b?1:0);const a=this.variableOffsets[n.crossTileID];a&&this.markUsedJustification(t,a.anchor,n,v);const s=this.placedOrientations[n.crossTileID];s&&(this.markUsedJustification(t,"left",n,s),this.markUsedOrientation(t,s,n))}if(c){const e=te(l.icon),r=!(p&&n.verticalPlacedIconSymbolIndex&&_);n.placedIconSymbolIndex>=0&&(m(t.icon,n.numIconVertices,r?e:ee),t.icon.placedSymbolArray.get(n.placedIconSymbolIndex).hidden=l.icon.isHidden()),n.verticalPlacedIconSymbolIndex>=0&&(m(t.icon,n.numVerticalIconVertices,r?ee:e),t.icon.placedSymbolArray.get(n.verticalPlacedIconSymbolIndex).hidden=l.icon.isHidden())}const x=g&&g.has(y)?g.get(y):{text:null,icon:null};if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const n=t.collisionArrays[y];if(n){let r=new e.P(0,0);if(n.textBox||n.verticalTextBox){let e=!0;if(u){const t=this.variableOffsets[a];t?(r=Zt(t.anchor,t.width,t.height,t.textOffset,t.textBoxScale),h&&r._rotate(d?this.transform.angle:-this.transform.angle)):e=!1}if(n.textBox||n.verticalTextBox){let i;n.textBox&&(i=_),n.verticalTextBox&&(i=b),Ht(t.textCollisionBox.collisionVertexArray,l.text.placed,!e||i,x.text,r.x,r.y)}}if(n.iconBox||n.verticalIconBox){const e=Boolean(!b&&n.verticalIconBox);let i;n.iconBox&&(i=e),n.verticalIconBox&&(i=!e),Ht(t.iconCollisionBox.collisionVertexArray,l.icon.placed,i,x.icon,p?r.x:0,p?r.y:0)}}}}if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.text.opacityVertexArray.length!==t.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${t.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${t.text.layoutVertexArray.length}) / 4`);if(t.icon.opacityVertexArray.length!==t.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${t.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${t.icon.layoutVertexArray.length}) / 4`);if(t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(t){return Math.max(0,(this.transform.zoom-t)/1.5)}hasTransitions(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(t,e){const n=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*n>t}setStale(){this.stale=!0}}function Ht(t,e,n,r,i,o){r&&0!==r.length||(r=[0,0,0,0]);const a=r[0]-Dt,s=r[1]-Dt,l=r[2]-Dt,c=r[3]-Dt;t.emplaceBack(e?1:0,n?1:0,i||0,o||0,a,s),t.emplaceBack(e?1:0,n?1:0,i||0,o||0,l,s),t.emplaceBack(e?1:0,n?1:0,i||0,o||0,l,c),t.emplaceBack(e?1:0,n?1:0,i||0,o||0,a,c)}const Wt=Math.pow(2,25),Gt=Math.pow(2,24),Xt=Math.pow(2,17),Kt=Math.pow(2,16),Yt=Math.pow(2,9),Jt=Math.pow(2,8),Qt=Math.pow(2,1);function te(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;const e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*Wt+e*Gt+n*Xt+e*Kt+n*Yt+e*Jt+n*Qt+e}const ee=0;function ne(){return{isOccluded:(t,e,n)=>!1,getPitchedTextCorrection:(t,e,n)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(t,e,n,r){throw new Error("Not implemented.")},translatePosition:(t,e,n,r)=>function(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!n[0]&&!n[1])return[0,0];const o=i?"map"===r?t.angle:0:"viewport"===r?-t.angle:0;if(o){const t=Math.sin(o),e=Math.cos(o);n=[n[0]*e-n[1]*t,n[0]*t+n[1]*e]}return[i?n[0]:Rt(e,n[0],t.zoom),i?n[1]:Rt(e,n[1],t.zoom)]}(t,e,n,r),getCircleRadiusCorrection:t=>1}}class re{constructor(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&!t.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(t,e,n,r,i){const o=this._bucketParts;for(;this._currentTileIndex<t.length;)if(e.getBucketParts(o,r,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort(((t,e)=>t.sortKey-e.sortKey)));this._currentPartIndex<o.length;)if(e.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1}}class ie{constructor(t,e,n,r,i,o,a,s){this.placement=new qt(t,ne(),e,o,a,s),this._currentPlacementIndex=n.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=i,this._done=!1}isDone(){return this._done}continuePlacement(t,e,n){const r=o.now(),i=()=>!this._forceFullPlacement&&o.now()-r>2;for(;this._currentPlacementIndex>=0;){const r=e[t[this._currentPlacementIndex]],o=this.placement.collisionIndex.transform.zoom;if("symbol"===r.type&&(!r.minzoom||r.minzoom<=o)&&(!r.maxzoom||r.maxzoom>o)){if(this._inProgressLayer||(this._inProgressLayer=new re(r)),this._inProgressLayer.continuePlacement(n[r.source],this.placement,this._showCollisionBoxes,r,i))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(t){return this.placement.commit(t),this.placement}}const oe=512/e.X/2;class ae{constructor(t,n,r){this.tileID=t,this.bucketInstanceId=r,this._symbolsByKey={};const i=new Map;for(let e=0;e<n.length;e++){const t=n.get(e),r=t.key,o=i.get(r);o?o.push(t):i.set(r,[t])}for(const[o,a]of i){const t={positions:a.map((t=>({x:Math.floor(t.anchorX*oe),y:Math.floor(t.anchorY*oe)}))),crossTileIDs:a.map((t=>t.crossTileID))};if(t.positions.length>128){const n=new e.av(t.positions.length,16,Uint16Array);for(const{x:e,y:r}of t.positions)n.add(e,r);n.finish(),delete t.positions,t.index=n}this._symbolsByKey[o]=t}}getScaledCoordinates(t,n){const{x:r,y:i,z:o}=this.tileID.canonical,{x:a,y:s,z:l}=n.canonical,c=oe/Math.pow(2,l-o),u=(s*e.X+t.anchorY)*c,h=i*e.X*oe;return{x:Math.floor((a*e.X+t.anchorX)*c-r*e.X*oe),y:Math.floor(u-h)}}findMatches(t,e,n){const r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z);for(let i=0;i<t.length;i++){const o=t.get(i);if(o.crossTileID)continue;const a=this._symbolsByKey[o.key];if(!a)continue;const s=this.getScaledCoordinates(o,e);if(a.index){const t=a.index.range(s.x-r,s.y-r,s.x+r,s.y+r).sort();for(const e of t){const t=a.crossTileIDs[e];if(!n[t]){n[t]=!0,o.crossTileID=t;break}}}else if(a.positions)for(let t=0;t<a.positions.length;t++){const e=a.positions[t],i=a.crossTileIDs[t];if(Math.abs(e.x-s.x)<=r&&Math.abs(e.y-s.y)<=r&&!n[i]){n[i]=!0,o.crossTileID=i;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((t=>{let{crossTileIDs:e}=t;return e}))}}class se{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class le{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(t){const e=Math.round((t-this.lng)/360);if(0!==e)for(const n in this.indexes){const t=this.indexes[n],r={};for(const n in t){const i=t[n];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+e),r[i.tileID.key]=i}this.indexes[n]=r}this.lng=t}addBucket(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(let i=0;i<e.symbolInstances.length;i++)e.symbolInstances.get(i).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});const r=this.usedCrossTileIDs[t.overscaledZ];for(const i in this.indexes){const n=this.indexes[i];if(Number(i)>t.overscaledZ)for(const i in n){const o=n[i];o.tileID.isChildOf(t)&&o.findMatches(e.symbolInstances,t,r)}else{const o=n[t.scaledTo(Number(i)).key];o&&o.findMatches(e.symbolInstances,t,r)}}for(let i=0;i<e.symbolInstances.length;i++){const t=e.symbolInstances.get(i);t.crossTileID||(t.crossTileID=n.generate(),r[t.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new ae(t,e.symbolInstances,e.bucketInstanceId),!0}removeBucketCrossTileIDs(t,e){for(const n of e.getCrossTileIDsLists())for(const e of n)delete this.usedCrossTileIDs[t][e]}removeStaleBuckets(t){let e=!1;for(const n in this.indexes){const r=this.indexes[n];for(const i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e}}class ce{constructor(){this.layerIndexes={},this.crossTileIDs=new se,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(t,e,n){let r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new le);let i=!1;const o={};r.handleWrapJump(n);for(const a of e){const e=a.getBucket(t);e&&t.id===e.layerIds[0]&&(e.bucketInstanceId||(e.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(a.tileID,e,this.crossTileIDs)&&(i=!0),o[e.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i}pruneUnusedLayers(t){const e={};t.forEach((t=>{e[t]=!0}));for(const n in this.layerIndexes)e[n]||delete this.layerIndexes[n]}}const ue=(t,n)=>e.t(t,n&&n.filter((t=>"source.canvas"!==t.identifier))),he=e.aw();class de extends e.E{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this._rtlPluginLoaded=()=>{for(const t in this.sourceCaches){const e=this.sourceCaches[t].getSource().type;"vector"!==e&&"geojson"!==e||this.sourceCaches[t].reload()}},this.map=t,this.dispatcher=new F(N(),t._getMapId()),this.dispatcher.registerMessageHandler("GG",((t,e)=>this.getGlyphs(t,e))),this.dispatcher.registerMessageHandler("GI",((t,e)=>this.getImages(t,e))),this.imageManager=new S,this.imageManager.setEventedParent(this),this.glyphManager=new E(t._requestManager,n.localIdeographFontFamily),this.lineAtlas=new z(256,512),this.crossTileSymbolIndex=new ce,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ax,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",e.ay()),st().on(it,this._rtlPluginLoaded),this.on("data",(t=>{if("source"!==t.dataType||"metadata"!==t.sourceDataType)return;const e=this.sourceCaches[t.sourceId];if(!e)return;const n=e.getSource();if(n&&n.vectorLayerIds)for(const r in this._layers){const t=this._layers[r];t.source===n.id&&this._validateLayer(t)}}))}loadURL(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.fire(new e.k("dataloading",{dataType:"style"})),n.validate="boolean"!=typeof n.validate||n.validate;const i=this.map._requestManager.transformRequest(t,"Style");this._loadStyleRequest=new AbortController;const o=this._loadStyleRequest;e.h(i,this._loadStyleRequest).then((t=>{this._loadStyleRequest=null,this._load(t.data,n,r)})).catch((t=>{this._loadStyleRequest=null,t&&!o.signal.aborted&&this.fire(new e.j(t))}))}loadJSON(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.fire(new e.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,o.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,n.validate=!1!==n.validate,this._load(t,n,r)})).catch((()=>{}))}loadEmpty(){this.fire(new e.k("dataloading",{dataType:"style"})),this._load(he,{validate:!1})}_load(t,n,r){var i;const o=n.transformStyle?n.transformStyle(r,t):t;if(!n.validate||!ue(this,e.u(o))){this._loaded=!0,this.stylesheet=o;for(const t in o.sources)this.addSource(t,o.sources[t],{validate:!1});o.sprite?this._loadSprite(o.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(o.glyphs),this._createLayers(),this.light=new M(this.stylesheet.light),this.sky=new I(this.stylesheet.sky),this.map.setTerrain(null!==(i=this.stylesheet.terrain)&&void 0!==i?i:null),this.fire(new e.k("data",{dataType:"style"})),this.fire(new e.k("style.load"))}}_createLayers(){const t=e.az(this.stylesheet.layers);this.dispatcher.broadcast("SL",t),this._order=t.map((t=>t.id)),this._layers={},this._serializedLayers=null;for(const n of t){const t=e.aA(n);t.setEventedParent(this,{layer:{id:n.id}}),this._layers[n.id]=t}}_loadSprite(t){let n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(t,n,r,i){return e._(this,void 0,void 0,(function*(){const a=_(t),s=r>1?"@2x":"",l={},c={};for(const{id:t,url:r}of a){const o=n.transformRequest(b(r,s,".json"),"SpriteJSON");l[t]=e.h(o,i);const a=n.transformRequest(b(r,s,".png"),"SpriteImage");c[t]=p.getImage(a,i)}return yield Promise.all([...Object.values(l),...Object.values(c)]),function(t,n){return e._(this,void 0,void 0,(function*(){const e={};for(const r in t){e[r]={};const i=o.getImageCanvasContext((yield n[r]).data),a=(yield t[r]).data;for(const t in a){const{width:n,height:o,x:s,y:l,sdf:c,pixelRatio:u,stretchX:h,stretchY:d,content:p,textFitWidth:f,textFitHeight:m}=a[t];e[r][t]={data:null,pixelRatio:u,sdf:c,stretchX:h,stretchY:d,content:p,textFitWidth:f,textFitHeight:m,spriteData:{width:n,height:o,x:s,y:l,context:i}}}}return e}))}(l,c)}))}(t,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((t=>{if(this._spriteRequest=null,t)for(const e in t){this._spritesImagesIds[e]=[];const n=this._spritesImagesIds[e]?this._spritesImagesIds[e].filter((e=>!(e in t))):[];for(const t of n)this.imageManager.removeImage(t),this._changedImages[t]=!0;for(const i in t[e]){const n="default"===e?i:`${e}:${i}`;this._spritesImagesIds[e].push(n),n in this.imageManager.images?this.imageManager.updateImage(n,t[e][i],!1):this.imageManager.addImage(n,t[e][i]),r&&(this._changedImages[n]=!0)}}})).catch((t=>{this._spriteRequest=null,n=t,this.fire(new e.j(n))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),r&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new e.k("data",{dataType:"style"})),i&&i(n)}))}_unloadSprite(){for(const t of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(t),this._changedImages[t]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new e.k("data",{dataType:"style"}))}_validateLayer(t){const n=this.sourceCaches[t.source];if(!n)return;const r=t.sourceLayer;if(!r)return;const i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new e.j(new Error(`Source layer "${r}" does not exist on source "${i.id}" as specified by style layer "${t.id}".`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this._serializedAllLayers();if(!t||0===t.length)return Object.values(n?e.aB(r):r);const i=[];for(const o of t)if(r[o]){const t=n?e.aB(r[o]):r[o];i.push(t)}return i}_serializedAllLayers(){let t=this._serializedLayers;if(t)return t;t=this._serializedLayers={};const e=Object.keys(this._layers);for(const n of e){const e=this._layers[n];"custom"!==e.type&&(t[n]=e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.sky&&this.sky.hasTransition())return!0;for(const t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(const t in this._layers)if(this._layers[t].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(t){if(!this._loaded)return;const n=this._changed;if(n){const e=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);(e.length||n.length)&&this._updateWorkerLayers(e,n);for(const t in this._updatedSources){const e=this._updatedSources[t];if("reload"===e)this._reloadSource(t);else{if("clear"!==e)throw new Error(`Invalid action ${e}`);this._clearSource(t)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const r in this._updatedPaintProps)this._layers[r].updateTransitions(t);this.light.updateTransitions(t),this.sky.updateTransitions(t),this._resetUpdates()}const r={};for(const e in this.sourceCaches){const t=this.sourceCaches[e];r[e]=t.used,t.used=!1}for(const e of this._order){const n=this._layers[e];n.recalculate(t,this._availableImages),!n.isHidden(t.zoom)&&n.source&&(this.sourceCaches[n.source].used=!0)}for(const i in r){const t=this.sourceCaches[i];!!r[i]!=!!t.used&&t.fire(new e.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:i}))}this.light.recalculate(t),this.sky.recalculate(t),this.z=t.zoom,n&&this.fire(new e.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const t=Object.keys(this._changedImages);if(t.length){for(const e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(t,e){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(t,!1),removedIds:e})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this._checkLoaded();const i=this.serialize();if(t=n.transformStyle?n.transformStyle(i,t):t,(null===(r=n.validate)||void 0===r||r)&&ue(this,e.u(t)))return!1;(t=e.aB(t)).layers=e.az(t.layers);const o=e.aC(i,t),a=this._getOperationsToPerform(o);if(a.unimplemented.length>0)throw new Error(`Unimplemented: ${a.unimplemented.join(", ")}.`);if(0===a.operations.length)return!1;for(const e of a.operations)e();return this.stylesheet=t,this._serializedLayers=null,!0}_getOperationsToPerform(t){const e=[],n=[];for(const r of t)switch(r.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":e.push((()=>this.addLayer.apply(this,r.args)));break;case"removeLayer":e.push((()=>this.removeLayer.apply(this,r.args)));break;case"setPaintProperty":e.push((()=>this.setPaintProperty.apply(this,r.args)));break;case"setLayoutProperty":e.push((()=>this.setLayoutProperty.apply(this,r.args)));break;case"setFilter":e.push((()=>this.setFilter.apply(this,r.args)));break;case"addSource":e.push((()=>this.addSource.apply(this,r.args)));break;case"removeSource":e.push((()=>this.removeSource.apply(this,r.args)));break;case"setLayerZoomRange":e.push((()=>this.setLayerZoomRange.apply(this,r.args)));break;case"setLight":e.push((()=>this.setLight.apply(this,r.args)));break;case"setGeoJSONSourceData":e.push((()=>this.setGeoJSONSourceData.apply(this,r.args)));break;case"setGlyphs":e.push((()=>this.setGlyphs.apply(this,r.args)));break;case"setSprite":e.push((()=>this.setSprite.apply(this,r.args)));break;case"setSky":e.push((()=>this.setSky.apply(this,r.args)));break;case"setTerrain":e.push((()=>this.map.setTerrain.apply(this,r.args)));break;case"setTransition":e.push((()=>{}));break;default:n.push(r.command)}return{operations:e,unimplemented:n}}addImage(t,n){if(this.getImage(t))return this.fire(new e.j(new Error(`An image named "${t}" already exists.`)));this.imageManager.addImage(t,n),this._afterImageUpdated(t)}updateImage(t,e){this.imageManager.updateImage(t,e)}getImage(t){return this.imageManager.getImage(t)}removeImage(t){if(!this.getImage(t))return this.fire(new e.j(new Error(`An image named "${t}" does not exist.`)));this.imageManager.removeImage(t),this._afterImageUpdated(t)}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new e.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error(`Source "${t}" already exists.`);if(!n.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(n).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.u.source,`sources.${t}`,n,null,r))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const i=this.sourceCaches[t]=new ht(t,n,this.dispatcher);i.style=this,i.setEventedParent(this,(()=>({isSourceLoaded:i.loaded(),source:i.serialize(),sourceId:t}))),i.onAdd(this.map),this._changed=!0}removeSource(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(const r in this._layers)if(this._layers[r].source===t)return this.fire(new e.j(new Error(`Source "${t}" cannot be removed while layer "${r}" is using it.`)));const n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new e.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(t,e){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error(`There is no source with this ID=${t}`);const n=this.sourceCaches[t].getSource();if("geojson"!==n.type)throw new Error(`geojsonSource.type is ${n.type}, which is !== 'geojson`);n.setData(e),this._changed=!0}getSource(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()}addLayer(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();const i=t.id;if(this.getLayer(i))return void this.fire(new e.j(new Error(`Layer "${i}" already exists on this map.`)));let o;if("custom"===t.type){if(ue(this,e.aD(t)))return;o=e.aA(t)}else{if("source"in t&&"object"==typeof t.source&&(this.addSource(i,t.source),t=e.aB(t),t=e.e(t,{source:i})),this._validate(e.u.layer,`layers.${i}`,t,{arrayIndex:-1},r))return;o=e.aA(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}})}const a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new e.j(new Error(`Cannot add layer "${i}" before non-existing layer "${n}".`)));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){const t=this._removedLayers[i];delete this._removedLayers[i],t.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}moveLayer(t,n){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.j(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===n)return;const r=this._order.indexOf(t);this._order.splice(r,1);const i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new e.j(new Error(`Cannot move layer "${t}" before non-existing layer "${n}".`))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}removeLayer(t){this._checkLoaded();const n=this._layers[t];if(!n)return void this.fire(new e.j(new Error(`Cannot remove non-existing layer "${t}".`)));n.setEventedParent(null);const r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],this._serializedLayers&&delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}getLayer(t){return this._layers[t]}getLayersOrder(){return[...this._order]}hasLayer(t){return t in this._layers}setLayerZoomRange(t,n,r){this._checkLoaded();const i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.j(new Error(`Cannot set the zoom range of non-existing layer "${t}".`)))}setFilter(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();const i=this.getLayer(t);if(i){if(!e.aE(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(e.u.filter,`layers.${i.id}.filter`,n,null,r)||(i.filter=e.aB(n),this._updateLayer(i)))}else this.fire(new e.j(new Error(`Cannot filter non-existing layer "${t}".`)))}getFilter(t){return e.aB(this.getLayer(t).filter)}setLayoutProperty(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();const o=this.getLayer(t);o?e.aE(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new e.j(new Error(`Cannot style non-existing layer "${t}".`)))}getLayoutProperty(t,n){const r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.j(new Error(`Cannot get style of non-existing layer "${t}".`)))}setPaintProperty(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();const o=this.getLayer(t);o?e.aE(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[t]=!0,this._serializedLayers=null):this.fire(new e.j(new Error(`Cannot style non-existing layer "${t}".`)))}getPaintProperty(t,e){return this.getLayer(t).getPaintProperty(e)}setFeatureState(t,n){this._checkLoaded();const r=t.source,i=t.sourceLayer,o=this.sourceCaches[r];if(void 0===o)return void this.fire(new e.j(new Error(`The source '${r}' does not exist in the map's style.`)));const a=o.getSource().type;"geojson"===a&&i?this.fire(new e.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===t.id&&this.fire(new e.j(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,t.id,n)):this.fire(new e.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(t,n){this._checkLoaded();const r=t.source,i=this.sourceCaches[r];if(void 0===i)return void this.fire(new e.j(new Error(`The source '${r}' does not exist in the map's style.`)));const o=i.getSource().type,a="vector"===o?t.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.j(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,t.id,n):this.fire(new e.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(t){this._checkLoaded();const n=t.source,r=t.sourceLayer,i=this.sourceCaches[n];if(void 0!==i)return"vector"!==i.getSource().type||r?(void 0===t.id&&this.fire(new e.j(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,t.id)):void this.fire(new e.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new e.j(new Error(`The source '${n}' does not exist in the map's style.`)))}getTransition(){return e.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const t=e.aF(this.sourceCaches,(t=>t.serialize())),n=this._serializeByIds(this._order,!0),r=this.map.getTerrain()||void 0,i=this.stylesheet;return e.aG({version:i.version,name:i.name,metadata:i.metadata,light:i.light,sky:i.sky,center:i.center,zoom:i.zoom,bearing:i.bearing,pitch:i.pitch,sprite:i.sprite,glyphs:i.glyphs,transition:i.transition,sources:t,layers:n,terrain:r},(t=>void 0!==t))}_updateLayer(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&"raster"!==this.sourceCaches[t.source].getSource().type&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(t){const e=t=>"fill-extrusion"===this._layers[t].type,n={},r=[];for(let o=this._order.length-1;o>=0;o--){const i=this._order[o];if(e(i)){n[i]=o;for(const e of t){const t=e[i];if(t)for(const e of t)r.push(e)}}}r.sort(((t,e)=>e.intersectionZ-t.intersectionZ));const i=[];for(let o=this._order.length-1;o>=0;o--){const a=this._order[o];if(e(a))for(let t=r.length-1;t>=0;t--){const e=r[t].feature;if(n[e.layer.id]<o)break;i.push(e),r.pop()}else for(const e of t){const t=e[a];if(t)for(const e of t)i.push(e.feature)}}return i}queryRenderedFeatures(t,n,r){n&&n.filter&&this._validate(e.u.filter,"queryRenderedFeatures.filter",n.filter,null,n);const i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.j(new Error("parameters.layers must be an Array."))),[];for(const t of n.layers){const n=this._layers[t];if(!n)return this.fire(new e.j(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];i[n.source]=!0}}const o=[];n.availableImages=this._availableImages;const a=this._serializedAllLayers();for(const e in this.sourceCaches)n.layers&&!i[e]||o.push(U(this.sourceCaches[e],this._layers,a,t,n,r));return this.placement&&o.push(function(t,e,n,r,i,o,a){const s={},l=o.queryRenderedSymbols(r),c=[];for(const u of Object.keys(l).map(Number))c.push(a[u]);c.sort(Z);for(const u of c){const n=u.featureIndex.lookupSymbolFeatures(l[u.bucketInstanceId],e,u.bucketIndex,u.sourceLayerIndex,i.filter,i.layers,i.availableImages,t);for(const t in n){const e=s[t]=s[t]||[],r=n[t];r.sort(((t,e)=>{const n=u.featureSortOrder;if(n){const r=n.indexOf(t.featureIndex);return n.indexOf(e.featureIndex)-r}return e.featureIndex-t.featureIndex}));for(const t of r)e.push(t)}}for(const u in s)s[u].forEach((e=>{const r=e.feature,i=n[t[u].source].getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=i}));return s}(this._layers,a,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(o)}querySourceFeatures(t,n){n&&n.filter&&this._validate(e.u.filter,"querySourceFeatures.filter",n.filter,null,n);const r=this.sourceCaches[t];return r?function(t,e){const n=t.getRenderableIds().map((e=>t.getTileByID(e))),r=[],i={};for(let o=0;o<n.length;o++){const t=n[o],a=t.tileID.canonical.key;i[a]||(i[a]=!0,t.querySourceFeatures(r,e))}return r}(r,n):[]}getLight(){return this.light.getLight()}setLight(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();const r=this.light.getLight();let i=!1;for(const o in t)if(!e.aE(t[o],r[o])){i=!0;break}if(!i)return;const a={now:o.now(),transition:e.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(a)}getSky(){var t;return null===(t=this.stylesheet)||void 0===t?void 0:t.sky}setSky(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getSky();let i=!1;if(!t&&!r)return;if(t&&!r)i=!0;else if(!t&&r)i=!0;else for(const o in t)if(!e.aE(t[o],r[o])){i=!0;break}if(!i)return;const a={now:o.now(),transition:e.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=t,this.sky.setSky(t,n),this.sky.updateTransitions(a)}_validate(t,n,r,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!o||!1!==o.validate)&&ue(this,t.call(e.u,e.e({key:n,style:this.serialize(),value:r,styleSpec:e.v},i)))}_remove(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),st().off(it,this._rtlPluginLoaded);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this.sourceCaches){const t=this.sourceCaches[e];t.setEventedParent(null),t.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),t&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(t)}_clearSource(t){this.sourceCaches[t].clearTiles()}_reloadSource(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()}_updateSources(t){for(const e in this.sourceCaches)this.sourceCaches[e].update(t,this.map.terrain)}_generateCollisionBoxes(){for(const t in this.sourceCaches)this._reloadSource(t)}_updatePlacement(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=!1,s=!1;const l={};for(const o of this._order){const e=this._layers[o];if("symbol"!==e.type)continue;if(!l[e.source]){const t=this.sourceCaches[e.source];l[e.source]=t.getRenderableIds(!0).map((e=>t.getTileByID(e))).sort(((t,e)=>e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)))}const n=this.crossTileSymbolIndex.addLayer(e,l[e.source],t.center.lng);a=a||n}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((i=i||this._layerOrderChanged||0===n)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.now(),t.zoom))&&(this.pauseablePlacement=new ie(t,this.map.terrain,this._order,i,e,n,r,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(const o of this._order){const t=this._layers[o];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.now())}_releaseSymbolFadeTiles(){for(const t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()}getImages(t,n){return e._(this,void 0,void 0,(function*(){const t=yield this.imageManager.getImages(n.icons);this._updateTilesForChangedImages();const e=this.sourceCaches[n.source];return e&&e.setDependencies(n.tileID.key,n.type,n.icons),t}))}getGlyphs(t,n){return e._(this,void 0,void 0,(function*(){const t=yield this.glyphManager.getGlyphs(n.stacks),e=this.sourceCaches[n.source];return e&&e.setDependencies(n.tileID.key,n.type,[""]),t}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded(),t&&this._validate(e.u.glyphs,"glyphs",t,null,n)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=t,this.glyphManager.entries={},this.glyphManager.setURL(t))}addSprite(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;this._checkLoaded();const o=[{id:t,url:n}],a=[..._(this.stylesheet.sprite),...o];this._validate(e.u.sprite,"sprite",a,null,r)||(this.stylesheet.sprite=a,this._loadSprite(o,!0,i))}removeSprite(t){this._checkLoaded();const n=_(this.stylesheet.sprite);if(n.find((e=>e.id===t))){if(this._spritesImagesIds[t])for(const e of this._spritesImagesIds[t])this.imageManager.removeImage(e),this._changedImages[e]=!0;n.splice(n.findIndex((e=>e.id===t)),1),this.stylesheet.sprite=n.length>0?n:void 0,delete this._spritesImagesIds[t],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new e.k("data",{dataType:"style"}))}else this.fire(new e.j(new Error(`Sprite "${t}" doesn't exists on this map.`)))}getSprite(){return _(this.stylesheet.sprite)}setSprite(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this._checkLoaded(),t&&this._validate(e.u.sprite,"sprite",t,null,n)||(this.stylesheet.sprite=t,t?this._loadSprite(t,!0,r):(this._unloadSprite(),r&&r(null)))}}var pe=e.Y([{name:"a_pos",type:"Int16",components:2}]);const fe={prelude:me("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:me("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:me("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:me("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:me("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:me("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,get_elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}"),heatmapTexture:me("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:me("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:me("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:me("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:me("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:me("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:me("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:me("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:me("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:me("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:me("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:me("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:me("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:me("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:me("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:me("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:me("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:me("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:me("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:me("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:me("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;varying vec2 v_texture_pos;varying float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture2D(u_texture,v_texture_pos);if (v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);gl_FragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {gl_FragColor=surface_color;}}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform mat4 u_fog_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:me("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:me("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);}"),sky:me("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform float u_horizon;uniform float u_sky_horizon_blend;void main() {float y=gl_FragCoord.y;if (y > u_horizon) {float blend=y-u_horizon;if (blend < u_sky_horizon_blend) {gl_FragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {gl_FragColor=u_sky_color;}}}","attribute vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function me(t,e){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=e.match(/attribute ([\w]+) ([\w]+)/g),i=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:t=t.replace(n,((t,e,n,r,i)=>(s[i]=!0,"define"===e?`\n#ifndef HAS_UNIFORM_u_${i}\nvarying ${n} ${r} ${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = u_${i};\n#endif\n`))),vertexSource:e=e.replace(n,((t,e,n,r,i)=>{const o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===e?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${n} ${o} a_${i};\nvarying ${n} ${r} ${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = a_${i};\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:"define"===e?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${n} ${o} a_${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = a_${i};\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`})),staticAttributes:r,staticUniforms:a}}class ge{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(t,e,n,r,i,o,a,s,l){this.context=t;let c=this.boundPaintVertexBuffers.length!==r.length;for(let u=0;!c&&u<r.length;u++)this.boundPaintVertexBuffers[u]!==r[u]&&(c=!0);!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==n||c||this.boundIndexBuffer!==i||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s||this.boundDynamicVertexBuffer3!==l?this.freshBind(e,n,r,i,o,a,s,l):(t.bindVertexArray.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind(),l&&l.bind())}freshBind(t,e,n,r,i,o,a,s){const l=t.numAttributes,c=this.context,u=c.gl;this.vao&&this.destroy(),this.vao=c.createVertexArray(),c.bindVertexArray.set(this.vao),this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a,this.boundDynamicVertexBuffer3=s,e.enableAttributes(u,t);for(const h of n)h.enableAttributes(u,t);o&&o.enableAttributes(u,t),a&&a.enableAttributes(u,t),s&&s.enableAttributes(u,t),e.bind(),e.setVertexAttribPointers(u,t,i);for(const h of n)h.bind(),h.setVertexAttribPointers(u,t,i);o&&(o.bind(),o.setVertexAttribPointers(u,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(u,t,i)),s&&(s.bind(),s.setVertexAttribPointers(u,t,i)),c.currentNumAttributes=l}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const ye=(t,n,r,i,o)=>({u_matrix:t,u_texture:0,u_ele_delta:n,u_fog_matrix:r,u_fog_color:i?i.properties.get("fog-color"):e.aM.white,u_fog_ground_blend:i?i.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:i?i.calculateFogBlendOpacity(o):0,u_horizon_color:i?i.properties.get("horizon-color"):e.aM.white,u_horizon_fog_blend:i?i.properties.get("horizon-fog-blend"):1});function ve(t){const e=[];for(let n=0;n<t.length;n++){if(null===t[n])continue;const r=t[n].split(" ");e.push(r.pop())}return e}class _e{constructor(t,n,r,i,o,a){const s=t.gl;this.program=s.createProgram();const l=ve(n.staticAttributes),c=r?r.getBinderAttributes():[],u=l.concat(c),h=fe.prelude.staticUniforms?ve(fe.prelude.staticUniforms):[],d=n.staticUniforms?ve(n.staticUniforms):[],p=r?r.getBinderUniforms():[],f=h.concat(d).concat(p),m=[];for(const e of f)m.indexOf(e)<0&&m.push(e);const g=r?r.defines():[];o&&g.push("#define OVERDRAW_INSPECTOR;"),a&&g.push("#define TERRAIN3D;");const y=g.concat(fe.prelude.fragmentSource,n.fragmentSource).join("\n"),v=g.concat(fe.prelude.vertexSource,n.vertexSource).join("\n"),_=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);if(s.shaderSource(_,y),s.compileShader(_),!s.getShaderParameter(_,s.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${s.getShaderInfoLog(_)}`);s.attachShader(this.program,_);const b=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);if(s.shaderSource(b,v),s.compileShader(b),!s.getShaderParameter(b,s.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${s.getShaderInfoLog(b)}`);s.attachShader(this.program,b),this.attributes={};const x={};this.numAttributes=u.length;for(let e=0;e<this.numAttributes;e++)u[e]&&(s.bindAttribLocation(this.program,e,u[e]),this.attributes[u[e]]=e);if(s.linkProgram(this.program),!s.getProgramParameter(this.program,s.LINK_STATUS))throw new Error(`Program failed to link: ${s.getProgramInfoLog(this.program)}`);s.deleteShader(b),s.deleteShader(_);for(let e=0;e<m.length;e++){const t=m[e];if(t&&!x[t]){const e=s.getUniformLocation(this.program,t);e&&(x[t]=e)}}this.fixedUniforms=i(t,x),this.terrainUniforms=((t,n)=>({u_depth:new e.aH(t,n.u_depth),u_terrain:new e.aH(t,n.u_terrain),u_terrain_dim:new e.aI(t,n.u_terrain_dim),u_terrain_matrix:new e.aJ(t,n.u_terrain_matrix),u_terrain_unpack:new e.aK(t,n.u_terrain_unpack),u_terrain_exaggeration:new e.aI(t,n.u_terrain_exaggeration)}))(t,x),this.binderUniforms=r?r.getUniforms(t,x):[]}draw(t,e,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y){const v=t.gl;if(this.failedToCreate)return;if(t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(r),t.setColorMode(i),t.setCullFace(o),s){t.activeTexture.set(v.TEXTURE2),v.bindTexture(v.TEXTURE_2D,s.depthTexture),t.activeTexture.set(v.TEXTURE3),v.bindTexture(v.TEXTURE_2D,s.texture);for(const t in this.terrainUniforms)this.terrainUniforms[t].set(s[t])}for(const b in this.fixedUniforms)this.fixedUniforms[b].set(a[b]);f&&f.setUniforms(t,this.binderUniforms,d,{zoom:p});let _=0;switch(e){case v.LINES:_=2;break;case v.TRIANGLES:_=3;break;case v.LINE_STRIP:_=1}for(const b of h.get()){const n=b.vaos||(b.vaos={});(n[l]||(n[l]=new ge)).bind(t,this,c,f?f.getPaintVertexBuffers():[],u,b.vertexOffset,m,g,y),v.drawElements(e,b.primitiveLength*_,v.UNSIGNED_SHORT,b.primitiveOffset*_*2)}}}function be(t,e,n){const r=1/Rt(n,1,e.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,e.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}const xe=(t,n,r,i)=>{const o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=function(){var t=new e.A(9);return e.A!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}();"viewport"===o.properties.get("anchor")&&function(t,e){var n=Math.sin(e),r=Math.cos(e);t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1}(l,-n.transform.angle),function(t,e,n){var r=e[0],i=e[1],o=e[2];t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8]}(s,s,l);const c=o.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+r,u_opacity:i}},we=(t,n,r,i,o,a,s)=>e.e(xe(t,n,r,i),be(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8}),Se=t=>({u_matrix:t}),ke=(t,n,r,i)=>e.e(Se(t),be(r,n,i)),Pe=(t,e)=>({u_matrix:t,u_world:e}),Te=(t,n,r,i,o)=>e.e(ke(t,n,r,i),{u_world:o}),Ee=(t,e,n,r)=>{const i=t.transform;let o,a;if("map"===r.paint.get("circle-pitch-alignment")){const t=Rt(n,1,i.zoom);o=!0,a=[t,t]}else o=!1,a=i.pixelsToGLUnits;return{u_camera_to_center_distance:i.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(e.posMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:t.pixelRatio,u_extrude_scale:a}},Ce=(t,e,n)=>({u_matrix:t,u_inv_matrix:e,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}),Ae=function(t,e){return{u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}},Me=t=>({u_matrix:t}),Oe=(t,e,n,r)=>({u_matrix:t,u_extrude_scale:Rt(e,1,n),u_intensity:r}),Ie=(t,n,r,i)=>{const o=e.H();e.aP(o,0,t.width,t.height,0,0,1);const a=t.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:r,u_color_ramp:i,u_opacity:n.paint.get("heatmap-opacity")}};function ze(t,n){const r=Math.pow(2,n.canonical.z),i=n.canonical.y;return[new e.Z(0,i/r).toLngLat().lat,new e.Z(0,(i+1)/r).toLngLat().lat]}const Le=(t,e,n,r)=>{const i=t.transform;return{u_matrix:Ne(t,e,n,r),u_ratio:1/Rt(e,1,i.zoom),u_device_pixel_ratio:t.pixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},De=(t,n,r,i,o)=>e.e(Le(t,n,r,o),{u_image:0,u_image_height:i}),je=(t,e,n,r,i)=>{const o=t.transform,a=Be(e,o);return{u_matrix:Ne(t,e,n,i),u_texsize:e.imageAtlasTexture.size,u_ratio:1/Rt(e,1,o.zoom),u_device_pixel_ratio:t.pixelRatio,u_image:0,u_scale:[a,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Re=(t,n,r,i,o,a)=>{const s=t.lineAtlas,l=Be(n,t.transform),c="round"===r.layout.get("line-cap"),u=s.getDash(i.from,c),h=s.getDash(i.to,c),d=u.width*o.fromScale,p=h.width*o.toScale;return e.e(Le(t,n,r,a),{u_patternscale_a:[l/d,-u.height/2],u_patternscale_b:[l/p,-h.height/2],u_sdfgamma:s.width/(256*Math.min(d,p)*t.pixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:h.y,u_mix:o.t})};function Be(t,e){return 1/Rt(t,1,e.tileZoom)}function Ne(t,e,n,r){return t.translatePosMatrix(r?r.posMatrix:e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}const Fe=(t,e,n,r,i)=>{return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:$e(i.paint.get("raster-hue-rotate"))};var o,a};function $e(t){t*=Math.PI/180;const e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}const Ve=(t,e,n,r,i,o,a,s,l,c,u,h,d,p)=>{const f=a.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:f.cameraToCenterDistance,u_pitch:f.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:f.width/f.height,u_fade_change:a.options.fadeDuration?a.symbolFadeChange:1,u_matrix:s,u_label_plane_matrix:l,u_coord_matrix:c,u_is_text:+h,u_pitch_with_map:+r,u_is_along_line:i,u_is_variable_anchor:o,u_texsize:d,u_texture:0,u_translation:u,u_pitched_scale:p}},Ue=(t,n,r,i,o,a,s,l,c,u,h,d,p,f,m)=>{const g=s.transform;return e.e(Ve(t,n,r,i,o,a,s,l,c,u,h,d,p,m),{u_gamma_scale:i?Math.cos(g._pitch)*g.cameraToCenterDistance:1,u_device_pixel_ratio:s.pixelRatio,u_is_halo:+f})},Ze=(t,n,r,i,o,a,s,l,c,u,h,d,p,f)=>e.e(Ue(t,n,r,i,o,a,s,l,c,u,h,!0,d,!0,f),{u_texsize_icon:p,u_texture_icon:1}),qe=(t,e,n)=>({u_matrix:t,u_opacity:e,u_color:n}),He=(t,n,r,i,o,a)=>e.e(function(t,e,n,r){const i=n.imageManager.getPattern(t.from.toString()),o=n.imageManager.getPattern(t.to.toString()),{width:a,height:s}=n.imageManager.getPixelSize(),l=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/l,u=c*(r.tileID.canonical.x+r.tileID.wrap*l),h=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[a,s],u_mix:e.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/Rt(r,1,n.transform.tileZoom),u_pixel_coord_upper:[u>>16,h>>16],u_pixel_coord_lower:[65535&u,65535&h]}}(i,a,r,o),{u_matrix:t,u_opacity:n}),We={fillExtrusion:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_lightpos:new e.aN(t,n.u_lightpos),u_lightintensity:new e.aI(t,n.u_lightintensity),u_lightcolor:new e.aN(t,n.u_lightcolor),u_vertical_gradient:new e.aI(t,n.u_vertical_gradient),u_opacity:new e.aI(t,n.u_opacity)}),fillExtrusionPattern:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_lightpos:new e.aN(t,n.u_lightpos),u_lightintensity:new e.aI(t,n.u_lightintensity),u_lightcolor:new e.aN(t,n.u_lightcolor),u_vertical_gradient:new e.aI(t,n.u_vertical_gradient),u_height_factor:new e.aI(t,n.u_height_factor),u_image:new e.aH(t,n.u_image),u_texsize:new e.aO(t,n.u_texsize),u_pixel_coord_upper:new e.aO(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.aO(t,n.u_pixel_coord_lower),u_scale:new e.aN(t,n.u_scale),u_fade:new e.aI(t,n.u_fade),u_opacity:new e.aI(t,n.u_opacity)}),fill:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix)}),fillPattern:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_image:new e.aH(t,n.u_image),u_texsize:new e.aO(t,n.u_texsize),u_pixel_coord_upper:new e.aO(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.aO(t,n.u_pixel_coord_lower),u_scale:new e.aN(t,n.u_scale),u_fade:new e.aI(t,n.u_fade)}),fillOutline:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_world:new e.aO(t,n.u_world)}),fillOutlinePattern:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_world:new e.aO(t,n.u_world),u_image:new e.aH(t,n.u_image),u_texsize:new e.aO(t,n.u_texsize),u_pixel_coord_upper:new e.aO(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.aO(t,n.u_pixel_coord_lower),u_scale:new e.aN(t,n.u_scale),u_fade:new e.aI(t,n.u_fade)}),circle:(t,n)=>({u_camera_to_center_distance:new e.aI(t,n.u_camera_to_center_distance),u_scale_with_map:new e.aH(t,n.u_scale_with_map),u_pitch_with_map:new e.aH(t,n.u_pitch_with_map),u_extrude_scale:new e.aO(t,n.u_extrude_scale),u_device_pixel_ratio:new e.aI(t,n.u_device_pixel_ratio),u_matrix:new e.aJ(t,n.u_matrix)}),collisionBox:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_pixel_extrude_scale:new e.aO(t,n.u_pixel_extrude_scale)}),collisionCircle:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_inv_matrix:new e.aJ(t,n.u_inv_matrix),u_camera_to_center_distance:new e.aI(t,n.u_camera_to_center_distance),u_viewport_size:new e.aO(t,n.u_viewport_size)}),debug:(t,n)=>({u_color:new e.aL(t,n.u_color),u_matrix:new e.aJ(t,n.u_matrix),u_overlay:new e.aH(t,n.u_overlay),u_overlay_scale:new e.aI(t,n.u_overlay_scale)}),clippingMask:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix)}),heatmap:(t,n)=>({u_extrude_scale:new e.aI(t,n.u_extrude_scale),u_intensity:new e.aI(t,n.u_intensity),u_matrix:new e.aJ(t,n.u_matrix)}),heatmapTexture:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_world:new e.aO(t,n.u_world),u_image:new e.aH(t,n.u_image),u_color_ramp:new e.aH(t,n.u_color_ramp),u_opacity:new e.aI(t,n.u_opacity)}),hillshade:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_image:new e.aH(t,n.u_image),u_latrange:new e.aO(t,n.u_latrange),u_light:new e.aO(t,n.u_light),u_shadow:new e.aL(t,n.u_shadow),u_highlight:new e.aL(t,n.u_highlight),u_accent:new e.aL(t,n.u_accent)}),hillshadePrepare:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_image:new e.aH(t,n.u_image),u_dimension:new e.aO(t,n.u_dimension),u_zoom:new e.aI(t,n.u_zoom),u_unpack:new e.aK(t,n.u_unpack)}),line:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_ratio:new e.aI(t,n.u_ratio),u_device_pixel_ratio:new e.aI(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.aO(t,n.u_units_to_pixels)}),lineGradient:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_ratio:new e.aI(t,n.u_ratio),u_device_pixel_ratio:new e.aI(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.aO(t,n.u_units_to_pixels),u_image:new e.aH(t,n.u_image),u_image_height:new e.aI(t,n.u_image_height)}),linePattern:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_texsize:new e.aO(t,n.u_texsize),u_ratio:new e.aI(t,n.u_ratio),u_device_pixel_ratio:new e.aI(t,n.u_device_pixel_ratio),u_image:new e.aH(t,n.u_image),u_units_to_pixels:new e.aO(t,n.u_units_to_pixels),u_scale:new e.aN(t,n.u_scale),u_fade:new e.aI(t,n.u_fade)}),lineSDF:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_ratio:new e.aI(t,n.u_ratio),u_device_pixel_ratio:new e.aI(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.aO(t,n.u_units_to_pixels),u_patternscale_a:new e.aO(t,n.u_patternscale_a),u_patternscale_b:new e.aO(t,n.u_patternscale_b),u_sdfgamma:new e.aI(t,n.u_sdfgamma),u_image:new e.aH(t,n.u_image),u_tex_y_a:new e.aI(t,n.u_tex_y_a),u_tex_y_b:new e.aI(t,n.u_tex_y_b),u_mix:new e.aI(t,n.u_mix)}),raster:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_tl_parent:new e.aO(t,n.u_tl_parent),u_scale_parent:new e.aI(t,n.u_scale_parent),u_buffer_scale:new e.aI(t,n.u_buffer_scale),u_fade_t:new e.aI(t,n.u_fade_t),u_opacity:new e.aI(t,n.u_opacity),u_image0:new e.aH(t,n.u_image0),u_image1:new e.aH(t,n.u_image1),u_brightness_low:new e.aI(t,n.u_brightness_low),u_brightness_high:new e.aI(t,n.u_brightness_high),u_saturation_factor:new e.aI(t,n.u_saturation_factor),u_contrast_factor:new e.aI(t,n.u_contrast_factor),u_spin_weights:new e.aN(t,n.u_spin_weights)}),symbolIcon:(t,n)=>({u_is_size_zoom_constant:new e.aH(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.aH(t,n.u_is_size_feature_constant),u_size_t:new e.aI(t,n.u_size_t),u_size:new e.aI(t,n.u_size),u_camera_to_center_distance:new e.aI(t,n.u_camera_to_center_distance),u_pitch:new e.aI(t,n.u_pitch),u_rotate_symbol:new e.aH(t,n.u_rotate_symbol),u_aspect_ratio:new e.aI(t,n.u_aspect_ratio),u_fade_change:new e.aI(t,n.u_fade_change),u_matrix:new e.aJ(t,n.u_matrix),u_label_plane_matrix:new e.aJ(t,n.u_label_plane_matrix),u_coord_matrix:new e.aJ(t,n.u_coord_matrix),u_is_text:new e.aH(t,n.u_is_text),u_pitch_with_map:new e.aH(t,n.u_pitch_with_map),u_is_along_line:new e.aH(t,n.u_is_along_line),u_is_variable_anchor:new e.aH(t,n.u_is_variable_anchor),u_texsize:new e.aO(t,n.u_texsize),u_texture:new e.aH(t,n.u_texture),u_translation:new e.aO(t,n.u_translation),u_pitched_scale:new e.aI(t,n.u_pitched_scale)}),symbolSDF:(t,n)=>({u_is_size_zoom_constant:new e.aH(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.aH(t,n.u_is_size_feature_constant),u_size_t:new e.aI(t,n.u_size_t),u_size:new e.aI(t,n.u_size),u_camera_to_center_distance:new e.aI(t,n.u_camera_to_center_distance),u_pitch:new e.aI(t,n.u_pitch),u_rotate_symbol:new e.aH(t,n.u_rotate_symbol),u_aspect_ratio:new e.aI(t,n.u_aspect_ratio),u_fade_change:new e.aI(t,n.u_fade_change),u_matrix:new e.aJ(t,n.u_matrix),u_label_plane_matrix:new e.aJ(t,n.u_label_plane_matrix),u_coord_matrix:new e.aJ(t,n.u_coord_matrix),u_is_text:new e.aH(t,n.u_is_text),u_pitch_with_map:new e.aH(t,n.u_pitch_with_map),u_is_along_line:new e.aH(t,n.u_is_along_line),u_is_variable_anchor:new e.aH(t,n.u_is_variable_anchor),u_texsize:new e.aO(t,n.u_texsize),u_texture:new e.aH(t,n.u_texture),u_gamma_scale:new e.aI(t,n.u_gamma_scale),u_device_pixel_ratio:new e.aI(t,n.u_device_pixel_ratio),u_is_halo:new e.aH(t,n.u_is_halo),u_translation:new e.aO(t,n.u_translation),u_pitched_scale:new e.aI(t,n.u_pitched_scale)}),symbolTextAndIcon:(t,n)=>({u_is_size_zoom_constant:new e.aH(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.aH(t,n.u_is_size_feature_constant),u_size_t:new e.aI(t,n.u_size_t),u_size:new e.aI(t,n.u_size),u_camera_to_center_distance:new e.aI(t,n.u_camera_to_center_distance),u_pitch:new e.aI(t,n.u_pitch),u_rotate_symbol:new e.aH(t,n.u_rotate_symbol),u_aspect_ratio:new e.aI(t,n.u_aspect_ratio),u_fade_change:new e.aI(t,n.u_fade_change),u_matrix:new e.aJ(t,n.u_matrix),u_label_plane_matrix:new e.aJ(t,n.u_label_plane_matrix),u_coord_matrix:new e.aJ(t,n.u_coord_matrix),u_is_text:new e.aH(t,n.u_is_text),u_pitch_with_map:new e.aH(t,n.u_pitch_with_map),u_is_along_line:new e.aH(t,n.u_is_along_line),u_is_variable_anchor:new e.aH(t,n.u_is_variable_anchor),u_texsize:new e.aO(t,n.u_texsize),u_texsize_icon:new e.aO(t,n.u_texsize_icon),u_texture:new e.aH(t,n.u_texture),u_texture_icon:new e.aH(t,n.u_texture_icon),u_gamma_scale:new e.aI(t,n.u_gamma_scale),u_device_pixel_ratio:new e.aI(t,n.u_device_pixel_ratio),u_is_halo:new e.aH(t,n.u_is_halo),u_translation:new e.aO(t,n.u_translation),u_pitched_scale:new e.aI(t,n.u_pitched_scale)}),background:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_opacity:new e.aI(t,n.u_opacity),u_color:new e.aL(t,n.u_color)}),backgroundPattern:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_opacity:new e.aI(t,n.u_opacity),u_image:new e.aH(t,n.u_image),u_pattern_tl_a:new e.aO(t,n.u_pattern_tl_a),u_pattern_br_a:new e.aO(t,n.u_pattern_br_a),u_pattern_tl_b:new e.aO(t,n.u_pattern_tl_b),u_pattern_br_b:new e.aO(t,n.u_pattern_br_b),u_texsize:new e.aO(t,n.u_texsize),u_mix:new e.aI(t,n.u_mix),u_pattern_size_a:new e.aO(t,n.u_pattern_size_a),u_pattern_size_b:new e.aO(t,n.u_pattern_size_b),u_scale_a:new e.aI(t,n.u_scale_a),u_scale_b:new e.aI(t,n.u_scale_b),u_pixel_coord_upper:new e.aO(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.aO(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.aI(t,n.u_tile_units_to_pixels)}),terrain:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_texture:new e.aH(t,n.u_texture),u_ele_delta:new e.aI(t,n.u_ele_delta),u_fog_matrix:new e.aJ(t,n.u_fog_matrix),u_fog_color:new e.aL(t,n.u_fog_color),u_fog_ground_blend:new e.aI(t,n.u_fog_ground_blend),u_fog_ground_blend_opacity:new e.aI(t,n.u_fog_ground_blend_opacity),u_horizon_color:new e.aL(t,n.u_horizon_color),u_horizon_fog_blend:new e.aI(t,n.u_horizon_fog_blend)}),terrainDepth:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_ele_delta:new e.aI(t,n.u_ele_delta)}),terrainCoords:(t,n)=>({u_matrix:new e.aJ(t,n.u_matrix),u_texture:new e.aH(t,n.u_texture),u_terrain_coords_id:new e.aI(t,n.u_terrain_coords_id),u_ele_delta:new e.aI(t,n.u_ele_delta)}),sky:(t,n)=>({u_sky_color:new e.aL(t,n.u_sky_color),u_horizon_color:new e.aL(t,n.u_horizon_color),u_horizon:new e.aI(t,n.u_horizon),u_sky_horizon_blend:new e.aI(t,n.u_sky_horizon_blend)})};class Ge{constructor(t,e,n){this.context=t;const r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(t){const e=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Xe={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Ke{constructor(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;const i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(t){if(t.length!==this.length)throw new Error(`Length of new data is ${t.length}, which doesn't match current length of ${this.length}`);const e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)}enableAttributes(t,e){for(let n=0;n<this.attributes.length;n++){const r=e.attributes[this.attributes[n].name];void 0!==r&&t.enableVertexAttribArray(r)}}setVertexAttribPointers(t,e,n){for(let r=0;r<this.attributes.length;r++){const i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[Xe[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ye=new WeakMap;function Je(t){var e;if(Ye.has(t))return Ye.get(t);{const n=null===(e=t.getParameter(t.VERSION))||void 0===e?void 0:e.startsWith("WebGL 2.0");return Ye.set(t,n),n}}class Qe{constructor(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(t){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class tn extends Qe{getDefault(){return e.aM.transparent}set(t){const e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class en extends Qe{getDefault(){return 1}set(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)}}class nn extends Qe{getDefault(){return 0}set(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)}}class rn extends Qe{getDefault(){return[!0,!0,!0,!0]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class on extends Qe{getDefault(){return!0}set(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)}}class an extends Qe{getDefault(){return 255}set(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)}}class sn extends Qe{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(t){const e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)}}class ln extends Qe{getDefault(){const t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)}}class cn extends Qe{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}}class un extends Qe{getDefault(){return[0,1]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)}}class hn extends Qe{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}}class dn extends Qe{getDefault(){return this.gl.LESS}set(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)}}class pn extends Qe{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}}class fn extends Qe{getDefault(){const t=this.gl;return[t.ONE,t.ZERO]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)}}class mn extends Qe{getDefault(){return e.aM.transparent}set(t){const e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}class gn extends Qe{getDefault(){return this.gl.FUNC_ADD}set(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)}}class yn extends Qe{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}}class vn extends Qe{getDefault(){return this.gl.BACK}set(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)}}class _n extends Qe{getDefault(){return this.gl.CCW}set(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)}}class bn extends Qe{getDefault(){return null}set(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)}}class xn extends Qe{getDefault(){return this.gl.TEXTURE0}set(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)}}class wn extends Qe{getDefault(){const t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]}set(t){const e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}class Sn extends Qe{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}}class kn extends Qe{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class Pn extends Qe{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}}class Tn extends Qe{getDefault(){return null}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class En extends Qe{getDefault(){return null}set(t){const e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}class Cn extends Qe{getDefault(){return null}set(t){var e;if(t===this.current&&!this.dirty)return;const n=this.gl;Je(n)?n.bindVertexArray(t):null===(e=n.getExtension("OES_vertex_array_object"))||void 0===e||e.bindVertexArrayOES(t),this.current=t,this.dirty=!1}}class An extends Qe{getDefault(){return 4}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}}class Mn extends Qe{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}}class On extends Qe{getDefault(){return!1}set(t){if(t===this.current&&!this.dirty)return;const e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}}class In extends Qe{constructor(t,e){super(t),this.context=t,this.parent=e}getDefault(){return null}}class zn extends In{setDirty(){this.dirty=!0}set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}}class Ln extends In{set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class Dn extends In{set(t){if(t===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}class jn{constructor(t,e,n,r,i){this.context=t,this.width=e,this.height=n;const o=t.gl,a=this.framebuffer=o.createFramebuffer();if(this.colorAttachment=new zn(t,a),r)this.depthAttachment=i?new Dn(t,a):new Ln(t,a);else if(i)throw new Error("Stencil cannot be set without depth");if(o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){const e=this.depthAttachment.get();e&&t.deleteRenderbuffer(e)}t.deleteFramebuffer(this.framebuffer)}}class Rn{constructor(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n}}Rn.Replace=[1,0],Rn.disabled=new Rn(Rn.Replace,e.aM.transparent,[!1,!1,!1,!1]),Rn.unblended=new Rn(Rn.Replace,e.aM.transparent,[!0,!0,!0,!0]),Rn.alphaBlended=new Rn([1,771],e.aM.transparent,[!0,!0,!0,!0]);class Bn{constructor(t){var e,n;if(this.gl=t,this.clearColor=new tn(this),this.clearDepth=new en(this),this.clearStencil=new nn(this),this.colorMask=new rn(this),this.depthMask=new on(this),this.stencilMask=new an(this),this.stencilFunc=new sn(this),this.stencilOp=new ln(this),this.stencilTest=new cn(this),this.depthRange=new un(this),this.depthTest=new hn(this),this.depthFunc=new dn(this),this.blend=new pn(this),this.blendFunc=new fn(this),this.blendColor=new mn(this),this.blendEquation=new gn(this),this.cullFace=new yn(this),this.cullFaceSide=new vn(this),this.frontFace=new _n(this),this.program=new bn(this),this.activeTexture=new xn(this),this.viewport=new wn(this),this.bindFramebuffer=new Sn(this),this.bindRenderbuffer=new kn(this),this.bindTexture=new Pn(this),this.bindVertexBuffer=new Tn(this),this.bindElementBuffer=new En(this),this.bindVertexArray=new Cn(this),this.pixelStoreUnpack=new An(this),this.pixelStoreUnpackPremultiplyAlpha=new Mn(this),this.pixelStoreUnpackFlipY=new On(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),Je(t)){this.HALF_FLOAT=t.HALF_FLOAT;const r=t.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(e=t.RGBA16F)&&void 0!==e?e:null==r?void 0:r.RGBA16F_EXT,this.RGB16F=null!==(n=t.RGB16F)&&void 0!==n?n:null==r?void 0:r.RGB16F_EXT,t.getExtension("EXT_color_buffer_float")}else{t.getExtension("EXT_color_buffer_half_float"),t.getExtension("OES_texture_half_float_linear");const e=t.getExtension("OES_texture_half_float");this.HALF_FLOAT=null==e?void 0:e.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(t,e){return new Ge(this,t,e)}createVertexBuffer(t,e,n){return new Ke(this,t,e,n)}createRenderbuffer(t,e,n){const r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i}createFramebuffer(t,e,n,r){return new jn(this,t,e,n,r)}clear(t){let{color:e,depth:n,stencil:r}=t;const i=this.gl;let o=0;e&&(o|=i.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(o|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),void 0!==r&&(o|=i.STENCIL_BUFFER_BIT,this.clearStencil.set(r),this.stencilMask.set(255)),i.clear(o)}setCullFace(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))}setDepthMode(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)}setStencilMode(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)}setColorMode(t){e.aE(t.blendFunction,Rn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)}createVertexArray(){var t;return Je(this.gl)?this.gl.createVertexArray():null===(t=this.gl.getExtension("OES_vertex_array_object"))||void 0===t?void 0:t.createVertexArrayOES()}deleteVertexArray(t){var e;return Je(this.gl)?this.gl.deleteVertexArray(t):null===(e=this.gl.getExtension("OES_vertex_array_object"))||void 0===e?void 0:e.deleteVertexArrayOES(t)}unbindVAO(){this.bindVertexArray.set(null)}}class Nn{constructor(t,e,n){this.func=t,this.mask=e,this.range=n}}Nn.ReadOnly=!1,Nn.ReadWrite=!0,Nn.disabled=new Nn(519,Nn.ReadOnly,[0,1]);const Fn=7680;class $n{constructor(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o}}$n.disabled=new $n({func:519,mask:0},0,0,Fn,Fn,Fn);class Vn{constructor(t,e,n){this.enable=t,this.mode=e,this.frontFace=n}}let Un;function Zn(t,n,r,i,o){const a=t.context,s=a.gl,l=t.useProgram("collisionBox"),c=[];let u=0,h=0;for(let v=0;v<i.length;v++){const p=i[v],f=n.getTile(p).getBucket(r);if(!f)continue;const m=o?f.textCollisionBox:f.iconCollisionBox,g=f.collisionCircleArray;if(g.length>0){const n=e.H();e.aQ(n,f.placementInvProjMatrix,t.transform.glCoordMatrix),e.aQ(n,n,f.placementViewportMatrix),c.push({circleArray:g,circleOffset:h,transform:p.posMatrix,invTransform:n,coord:p}),u+=g.length/4,h=u}m&&l.draw(a,s.LINES,Nn.disabled,$n.disabled,t.colorModeForRenderPass(),Vn.disabled,{u_matrix:p.posMatrix,u_pixel_extrude_scale:[1/(d=t.transform).width,1/d.height]},t.style.map.terrain&&t.style.map.terrain.getTerrainData(p),r.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,null,t.transform.zoom,null,null,m.collisionVertexBuffer)}var d;if(!o||!c.length)return;const p=t.useProgram("collisionCircle"),f=new e.aR;f.resize(4*u),f._trim();let m=0;for(const e of c)for(let t=0;t<e.circleArray.length/4;t++){const n=4*t,r=e.circleArray[n+0],i=e.circleArray[n+1],o=e.circleArray[n+2],a=e.circleArray[n+3];f.emplace(m++,r,i,o,a,0),f.emplace(m++,r,i,o,a,1),f.emplace(m++,r,i,o,a,2),f.emplace(m++,r,i,o,a,3)}(!Un||Un.length<2*u)&&(Un=function(t){const n=2*t,r=new e.aT;r.resize(n),r._trim();for(let e=0;e<n;e++){const t=6*e;r.uint16[t+0]=4*e+0,r.uint16[t+1]=4*e+1,r.uint16[t+2]=4*e+2,r.uint16[t+3]=4*e+2,r.uint16[t+4]=4*e+3,r.uint16[t+5]=4*e+0}return r}(u));const g=a.createIndexBuffer(Un,!0),y=a.createVertexBuffer(f,e.aS.members,!0);for(const v of c){const n=Ce(v.transform,v.invTransform,t.transform);p.draw(a,s.TRIANGLES,Nn.disabled,$n.disabled,t.colorModeForRenderPass(),Vn.disabled,n,t.style.map.terrain&&t.style.map.terrain.getTerrainData(v.coord),r.id,y,g,e.a0.simpleSegment(0,2*v.circleOffset,v.circleArray.length,v.circleArray.length/2),null,t.transform.zoom,null,null,null)}y.destroy(),g.destroy()}Vn.disabled=new Vn(!1,1029,2305),Vn.backCCW=new Vn(!0,1029,2305);const qn=e.an(new Float32Array(16));function Hn(t,n,r,i,o,a){const{horizontalAlign:s,verticalAlign:l}=e.au(t);return new e.P((-(s-.5)*n/o+i[0])*a,(-(l-.5)*r/o+i[1])*a)}function Wn(t,n,r,i,o,a){const s=n.tileAnchorPoint.add(new e.P(n.translation[0],n.translation[1]));if(n.pitchWithMap){let t=i.mult(a);r||(t=t.rotate(-o));const e=s.add(t);return _t(e.x,e.y,n.labelPlaneMatrix,n.getElevation).point}if(r){const e=Ct(n.tileAnchorPoint.x+1,n.tileAnchorPoint.y,n).point.sub(t),r=Math.atan(e.y/e.x)+(e.x<0?Math.PI:0);return t.add(i.rotate(r))}return t.add(i)}function Gn(t,n,r,i,o,a,s,l,c,u,h,d,p,f){const m=t.text.placedSymbolArray,g=t.text.dynamicLayoutVertexArray,y=t.icon.dynamicLayoutVertexArray,v={};g.clear();for(let _=0;_<m.length;_++){const y=m.get(_),b=y.hidden||!y.crossTileID||t.allowVerticalPlacement&&!y.placedOrientation?null:i[y.crossTileID];if(b){const i=new e.P(y.anchorX,y.anchorY),m={getElevation:f,width:o.width,height:o.height,labelPlaneMatrix:a,lineVertexArray:null,pitchWithMap:r,projection:h,projectionCache:null,tileAnchorPoint:i,translation:d,unwrappedTileID:p},_=r?_t(i.x,i.y,s,f):Ct(i.x,i.y,m),x=bt(o.cameraToCenterDistance,_.signedDistanceFromCamera);let w=e.ai(t.textSizeData,c,y)*x/e.ap;r&&(w*=t.tilePixelRatio/l);const{width:S,height:k,anchor:P,textOffset:T,textBoxScale:E}=b,C=Hn(P,S,k,T,E,w),A=h.getPitchedTextCorrection(o,i.add(new e.P(d[0],d[1])),p),M=Wn(_.point,m,n,C,o.angle,A),O=t.allowVerticalPlacement&&y.placedOrientation===e.ah.vertical?Math.PI/2:0;for(let t=0;t<y.numGlyphs;t++)e.aj(g,M,O);u&&y.associatedIconIndex>=0&&(v[y.associatedIconIndex]={shiftedAnchor:M,angle:O})}else zt(y.numGlyphs,g)}if(u){y.clear();const n=t.icon.placedSymbolArray;for(let t=0;t<n.length;t++){const r=n.get(t);if(r.hidden)zt(r.numGlyphs,y);else{const n=v[t];if(n)for(let t=0;t<r.numGlyphs;t++)e.aj(y,n.shiftedAnchor,n.angle);else zt(r.numGlyphs,y)}}t.icon.dynamicLayoutVertexBuffer.updateData(y)}t.text.dynamicLayoutVertexBuffer.updateData(g)}function Xn(t,e,n){return n.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function Kn(t,n,r,i,o,a,s,l,c,u,h,d){const p=t.context,f=p.gl,m=t.transform,g=ne(),y="map"===l,v="map"===c,_="viewport"!==l&&"point"!==r.layout.get("symbol-placement"),b=y&&!v&&!_,x=!v&&_,w=!r.layout.get("symbol-sort-key").isConstant();let S=!1;const k=t.depthModeForSublayer(0,Nn.ReadOnly),P=r._unevaluatedLayout.hasValue("text-variable-anchor")||r._unevaluatedLayout.hasValue("text-variable-anchor-offset"),T=[],E=g.getCircleRadiusCorrection(m);for(const C of i){const i=n.getTile(C),l=i.getBucket(r);if(!l)continue;const c=o?l.text:l.icon;if(!c||!c.segments.get().length||!c.hasVisibleVertices)continue;const h=c.programConfigurations.get(r.id),d=o||l.sdfIcons,p=o?l.textSizeData:l.iconSizeData,k=v||0!==m.pitch,A=t.useProgram(Xn(d,o,l),h),M=e.ag(p,m.zoom),O=t.style.map.terrain&&t.style.map.terrain.getTerrainData(C);let I,z,L,D,j=[0,0],R=null;if(o)z=i.glyphAtlasTexture,L=f.LINEAR,I=i.glyphAtlasTexture.size,l.iconsInText&&(j=i.imageAtlasTexture.size,R=i.imageAtlasTexture,D=k||t.options.rotating||t.options.zooming||"composite"===p.kind||"camera"===p.kind?f.LINEAR:f.NEAREST);else{const e=1!==r.layout.get("icon-size").constantOr(0)||l.iconsNeedLinear;z=i.imageAtlasTexture,L=d||t.options.rotating||t.options.zooming||e||k?f.LINEAR:f.NEAREST,I=i.imageAtlasTexture.size}const B=Rt(i,1,t.transform.zoom),N=x?C.posMatrix:qn,F=yt(N,v,y,t.transform,B),$=vt(N,v,y,t.transform,B),V=vt(C.posMatrix,v,y,t.transform,B),U=g.translatePosition(t.transform,i,a,s),Z=P&&l.hasTextData(),q="none"!==r.layout.get("icon-text-fit")&&Z&&l.hasIconData();if(_){const e=t.style.map.terrain?(e,n)=>t.style.map.terrain.getElevation(C,e,n):null,n="map"===r.layout.get("text-rotation-alignment");wt(l,C.posMatrix,t,o,F,V,v,u,n,g,C.toUnwrapped(),m.width,m.height,U,e)}const H=C.posMatrix,W=o&&P||q,G=_||W?qn:F,X=$,K=d&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);let Y;Y=d?l.iconsInText?Ze(p.kind,M,b,v,_,W,t,H,G,X,U,I,j,E):Ue(p.kind,M,b,v,_,W,t,H,G,X,U,o,I,!0,E):Ve(p.kind,M,b,v,_,W,t,H,G,X,U,o,I,E);const J={program:A,buffers:c,uniformValues:Y,atlasTexture:z,atlasTextureIcon:R,atlasInterpolation:L,atlasInterpolationIcon:D,isSDF:d,hasHalo:K};if(w&&l.canOverlap){S=!0;const t=c.segments.get();for(const n of t)T.push({segments:new e.a0([n]),sortKey:n.sortKey,state:J,terrainData:O})}else T.push({segments:c.segments,sortKey:0,state:J,terrainData:O})}S&&T.sort(((t,e)=>t.sortKey-e.sortKey));for(const e of T){const n=e.state;if(p.activeTexture.set(f.TEXTURE0),n.atlasTexture.bind(n.atlasInterpolation,f.CLAMP_TO_EDGE),n.atlasTextureIcon&&(p.activeTexture.set(f.TEXTURE1),n.atlasTextureIcon&&n.atlasTextureIcon.bind(n.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),n.isSDF){const i=n.uniformValues;n.hasHalo&&(i.u_is_halo=1,Yn(n.buffers,e.segments,r,t,n.program,k,h,d,i,e.terrainData)),i.u_is_halo=0}Yn(n.buffers,e.segments,r,t,n.program,k,h,d,n.uniformValues,e.terrainData)}}function Yn(t,e,n,r,i,o,a,s,l,c){const u=r.context;i.draw(u,u.gl.TRIANGLES,o,a,s,Vn.disabled,l,c,n.id,t.layoutVertexBuffer,t.indexBuffer,e,n.paint,r.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function Jn(t,n,r,i){const o=t.context,a=o.gl,s=$n.disabled,l=new Rn([a.ONE,a.ONE],e.aM.transparent,[!0,!0,!0,!0]),c=n.getBucket(r);if(!c)return;const u=i.key;let h=r.heatmapFbos.get(u);h||(h=tr(o,n.tileSize,n.tileSize),r.heatmapFbos.set(u,h)),o.bindFramebuffer.set(h.framebuffer),o.viewport.set([0,0,n.tileSize,n.tileSize]),o.clear({color:e.aM.transparent});const d=c.programConfigurations.get(r.id),p=t.useProgram("heatmap",d),f=t.style.map.terrain.getTerrainData(i);p.draw(o,a.TRIANGLES,Nn.disabled,s,l,Vn.disabled,Oe(i.posMatrix,n,t.transform.zoom,r.paint.get("heatmap-intensity")),f,r.id,c.layoutVertexBuffer,c.indexBuffer,c.segments,r.paint,t.transform.zoom,d)}function Qn(t,e,n){const r=t.context,i=r.gl;r.setColorMode(t.colorModeForRenderPass());const o=er(r,e),a=n.key,s=e.heatmapFbos.get(a);s&&(r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,s.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1),o.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,Nn.disabled,$n.disabled,t.colorModeForRenderPass(),Vn.disabled,Ie(t,e,0,1),null,e.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments,e.paint,t.transform.zoom),s.destroy(),e.heatmapFbos.delete(a))}function tr(t,e,n){var r,i;const o=t.gl,a=o.createTexture();o.bindTexture(o.TEXTURE_2D,a),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR);const s=null!==(r=t.HALF_FLOAT)&&void 0!==r?r:o.UNSIGNED_BYTE,l=null!==(i=t.RGBA16F)&&void 0!==i?i:o.RGBA;o.texImage2D(o.TEXTURE_2D,0,l,e,n,0,o.RGBA,s,null);const c=t.createFramebuffer(e,n,!1,!1);return c.colorAttachment.set(a),c}function er(t,e){return e.colorRampTexture||(e.colorRampTexture=new x(t,e.colorRamp,t.gl.RGBA)),e.colorRampTexture}function nr(t,e,n,r,i){if(!n||!r||!r.imageAtlas)return;const o=r.imageAtlas.patternPositions;let a=o[n.to.toString()],s=o[n.from.toString()];if(!a&&s&&(a=s),!s&&a&&(s=a),!a||!s){const t=i.getPaintProperty(e);a=o[t],s=o[t]}a&&s&&t.setConstantPatternPositions(a,s)}function rr(t,e,n,r,i,o,a){const s=t.context.gl,l="fill-pattern",c=n.paint.get(l),u=c&&c.constantOr(1),h=n.getCrossfadeParameters();let d,p,f,m,g;a?(p=u&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",d=s.LINES):(p=u?"fillPattern":"fill",d=s.TRIANGLES);const y=c.constantOr(null);for(const v of r){const r=e.getTile(v);if(u&&!r.patternsLoaded())continue;const c=r.getBucket(n);if(!c)continue;const _=c.programConfigurations.get(n.id),b=t.useProgram(p,_),x=t.style.map.terrain&&t.style.map.terrain.getTerrainData(v);u&&(t.context.activeTexture.set(s.TEXTURE0),r.imageAtlasTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),_.updatePaintBuffers(h)),nr(_,l,y,r,n);const w=x?v:null,S=t.translatePosMatrix(w?w.posMatrix:v.posMatrix,r,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){m=c.indexBuffer2,g=c.segments2;const e=[s.drawingBufferWidth,s.drawingBufferHeight];f="fillOutlinePattern"===p&&u?Te(S,t,h,r,e):Pe(S,e)}else m=c.indexBuffer,g=c.segments,f=u?ke(S,t,h,r):Se(S);b.draw(t.context,d,i,t.stencilModeForClipping(v),o,Vn.disabled,f,x,n.id,c.layoutVertexBuffer,m,g,n.paint,t.transform.zoom,_)}}function ir(t,e,n,r,i,o,a){const s=t.context,l=s.gl,c="fill-extrusion-pattern",u=n.paint.get(c),h=u.constantOr(1),d=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity"),f=u.constantOr(null);for(const m of r){const r=e.getTile(m),u=r.getBucket(n);if(!u)continue;const g=t.style.map.terrain&&t.style.map.terrain.getTerrainData(m),y=u.programConfigurations.get(n.id),v=t.useProgram(h?"fillExtrusionPattern":"fillExtrusion",y);h&&(t.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePaintBuffers(d)),nr(y,c,f,r,n);const _=t.translatePosMatrix(m.posMatrix,r,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),b=n.paint.get("fill-extrusion-vertical-gradient"),x=h?we(_,t,b,p,m,d,r):xe(_,t,b,p);v.draw(s,s.gl.TRIANGLES,i,o,a,Vn.backCCW,x,g,n.id,u.layoutVertexBuffer,u.indexBuffer,u.segments,n.paint,t.transform.zoom,y,t.style.map.terrain&&u.centroidVertexBuffer)}}function or(t,e,n,r,i,o,a){const s=t.context,l=s.gl,c=n.fbo;if(!c)return;const u=t.useProgram("hillshade"),h=t.style.map.terrain&&t.style.map.terrain.getTerrainData(e);s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,c.colorAttachment.get()),u.draw(s,l.TRIANGLES,i,o,a,Vn.disabled,((t,e,n,r)=>{const i=n.paint.get("hillshade-shadow-color"),o=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color");let s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);const l=!t.options.moving;return{u_matrix:r?r.posMatrix:t.transform.calculatePosMatrix(e.tileID.toUnwrapped(),l),u_image:0,u_latrange:ze(0,e.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}})(t,n,r,h?e:null),h,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}function ar(t,n,r,i,o,a){const s=t.context,l=s.gl,c=n.dem;if(c&&c.data){const u=c.dim,h=c.stride,d=c.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(h),n.demTexture){const t=n.demTexture;t.update(d,{premultiply:!1}),t.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new x(s,d,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);let p=n.fbo;if(!p){const t=new x(s,{width:u,height:u,data:null},l.RGBA);t.bind(l.LINEAR,l.CLAMP_TO_EDGE),p=n.fbo=s.createFramebuffer(u,u,!0,!1),p.colorAttachment.set(t.texture)}s.bindFramebuffer.set(p.framebuffer),s.viewport.set([0,0,u,u]),t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,o,a,Vn.disabled,((t,n)=>{const r=n.stride,i=e.H();return e.aP(i,0,e.X,-e.X,0,0,1),e.J(i,i,[0,-e.X,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}})(n.tileID,c),null,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function sr(t,n,r,i,a,s){const l=i.paint.get("raster-fade-duration");if(!s&&l>0){const i=o.now(),s=(i-t.timeAdded)/l,c=n?(i-n.timeAdded)/l:-1,u=r.getSource(),h=a.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),d=!n||Math.abs(n.tileID.overscaledZ-h)>Math.abs(t.tileID.overscaledZ-h),p=d&&t.refreshedUponExpiration?1:e.ac(d?s:1-c,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-p}:{opacity:p,mix:0}}return{opacity:1,mix:0}}const lr=new e.aM(1,0,0,1),cr=new e.aM(0,1,0,1),ur=new e.aM(0,0,1,1),hr=new e.aM(1,0,1,1),dr=new e.aM(0,1,1,1);function pr(t,e,n,r){mr(t,0,e+n/2,t.transform.width,n,r)}function fr(t,e,n,r){mr(t,e-n/2,0,n,t.transform.height,r)}function mr(t,e,n,r,i,o){const a=t.context,s=a.gl;s.enable(s.SCISSOR_TEST),s.scissor(e*t.pixelRatio,n*t.pixelRatio,r*t.pixelRatio,i*t.pixelRatio),a.clear({color:o}),s.disable(s.SCISSOR_TEST)}function gr(t,n,r){const i=t.context,o=i.gl,a=r.posMatrix,s=t.useProgram("debug"),l=Nn.disabled,c=$n.disabled,u=t.colorModeForRenderPass(),h="$debug",d=t.style.map.terrain&&t.style.map.terrain.getTerrainData(r);i.activeTexture.set(o.TEXTURE0);const p=n.getTileByID(r.key).latestRawTileData,f=Math.floor((p&&p.byteLength||0)/1024),m=n.getTile(r).tileSize,g=512/Math.min(m,512)*(r.overscaledZ/t.transform.zoom)*.5;let y=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(y+=` => ${r.overscaledZ}`),function(t,e){t.initDebugOverlayCanvas();const n=t.debugOverlayCanvas,r=t.context.gl,i=t.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(e,5,5),i.strokeText(e,5,5),t.debugOverlayTexture.update(n),t.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,`${y} ${f}kB`),s.draw(i,o.TRIANGLES,l,c,Rn.alphaBlended,Vn.disabled,Ae(a,e.aM.transparent,g),null,h,t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments),s.draw(i,o.LINE_STRIP,l,c,u,Vn.disabled,Ae(a,e.aM.red),d,h,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments)}function yr(t,e,n){const r=t.context,i=r.gl,o=t.colorModeForRenderPass(),a=new Nn(i.LEQUAL,Nn.ReadWrite,t.depthRangeFor3D),s=t.useProgram("terrain"),l=e.getTerrainMesh();r.bindFramebuffer.set(null),r.viewport.set([0,0,t.width,t.height]);for(const c of n){const n=t.renderToTexture.getTexture(c),u=e.getTerrainData(c.tileID);r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,n.texture);const h=t.transform.calculatePosMatrix(c.tileID.toUnwrapped()),d=e.getMeshFrameDelta(t.transform.zoom),p=t.transform.calculateFogMatrix(c.tileID.toUnwrapped()),f=ye(h,d,p,t.style.sky,t.transform.pitch);s.draw(r,i.TRIANGLES,a,$n.disabled,o,Vn.backCCW,f,u,"terrain",l.vertexBuffer,l.indexBuffer,l.segments)}}class vr{constructor(t,e,n){this.vertexBuffer=t,this.indexBuffer=e,this.segments=n}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}class _r{constructor(t,n){this.context=new Bn(t),this.transform=n,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:e.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=ht.maxUnderzooming+ht.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ce}resize(t,e,n){if(this.width=Math.floor(t*n),this.height=Math.floor(e*n),this.pixelRatio=n,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const r of this.style._order)this.style._layers[r].resize()}setup(){const t=this.context,n=new e.aX;n.emplaceBack(0,0),n.emplaceBack(e.X,0),n.emplaceBack(0,e.X),n.emplaceBack(e.X,e.X),this.tileExtentBuffer=t.createVertexBuffer(n,pe.members),this.tileExtentSegments=e.a0.simpleSegment(0,0,4,2);const r=new e.aX;r.emplaceBack(0,0),r.emplaceBack(e.X,0),r.emplaceBack(0,e.X),r.emplaceBack(e.X,e.X),this.debugBuffer=t.createVertexBuffer(r,pe.members),this.debugSegments=e.a0.simpleSegment(0,0,4,5);const i=new e.$;i.emplaceBack(0,0,0,0),i.emplaceBack(e.X,0,e.X,0),i.emplaceBack(0,e.X,0,e.X),i.emplaceBack(e.X,e.X,e.X,e.X),this.rasterBoundsBuffer=t.createVertexBuffer(i,J.members),this.rasterBoundsSegments=e.a0.simpleSegment(0,0,4,2);const o=new e.aX;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(o,pe.members),this.viewportSegments=e.a0.simpleSegment(0,0,4,2);const a=new e.aZ;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);const s=new e.aY;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s);const l=this.context.gl;this.stencilClearMode=new $n({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)}clearStencil(){const t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const r=e.H();e.aP(r,0,this.width,this.height,0,0,1),e.K(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,Nn.disabled,this.stencilClearMode,Rn.disabled,Vn.disabled,Me(r),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(t,e){if(this.currentStencilSource===t.source||!t.isTileClipped()||!e||!e.length)return;this.currentStencilSource=t.source;const n=this.context,r=n.gl;this.nextStencilID+e.length>256&&this.clearStencil(),n.setColorMode(Rn.disabled),n.setDepthMode(Nn.disabled);const i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const o of e){const t=this._tileClippingMaskIDs[o.key]=this.nextStencilID++,e=this.style.map.terrain&&this.style.map.terrain.getTerrainData(o);i.draw(n,r.TRIANGLES,Nn.disabled,new $n({func:r.ALWAYS,mask:0},t,255,r.KEEP,r.KEEP,r.REPLACE),Rn.disabled,Vn.disabled,Me(o.posMatrix),e,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,e=this.context.gl;return new $n({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)}stencilModeForClipping(t){const e=this.context.gl;return new $n({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)}stencilConfigForOverlap(t){const e=this.context.gl,n=t.sort(((t,e)=>e.overscaledZ-t.overscaledZ)),r=n[n.length-1].overscaledZ,i=n[0].overscaledZ-r+1;if(i>1){this.currentStencilSource=void 0,this.nextStencilID+i>256&&this.clearStencil();const t={};for(let n=0;n<i;n++)t[n+r]=new $n({func:e.GEQUAL,mask:255},n+this.nextStencilID,255,e.KEEP,e.KEEP,e.REPLACE);return this.nextStencilID+=i,[t,n]}return[{[r]:$n.disabled},n]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const n=1/8;return new Rn([t.CONSTANT_COLOR,t.ONE],new e.aM(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?Rn.unblended:Rn.alphaBlended}depthModeForSublayer(t,e,n){if(!this.opaquePassEnabledForLayer())return Nn.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new Nn(n||this.context.gl.LEQUAL,e,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,n){this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(o.now()),this.imageManager.beginFrame();const r=this.style._order,i=this.style.sourceCaches,a={},s={},l={};for(const e in i){const t=i[e];t.used&&t.prepare(this.context),a[e]=t.getVisibleCoordinates(),s[e]=a[e].slice().reverse(),l[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<r.length;e++)if(this.style._layers[r[e]].is3D()){this.opaquePassCutoff=e;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const e of r){const t=this.style._layers[e];if(!t.hasOffscreenPass()||t.isHidden(this.transform.zoom))continue;const n=s[t.source];("custom"===t.type||n.length)&&this.renderLayer(this,i[t.source],t,n)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.aM.black:e.aM.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(t,n){const r=t.context,i=r.gl,o=((t,e,n)=>({u_sky_color:t.properties.get("sky-color"),u_horizon_color:t.properties.get("horizon-color"),u_horizon:(e.height/2+e.getHorizon())*n,u_sky_horizon_blend:t.properties.get("sky-horizon-blend")*e.height/2*n}))(n,t.style.map.transform,t.pixelRatio),a=new Nn(i.LEQUAL,Nn.ReadWrite,[0,1]),s=$n.disabled,l=t.colorModeForRenderPass(),c=t.useProgram("sky");if(!n.mesh){const t=new e.aX;t.emplaceBack(-1,-1),t.emplaceBack(1,-1),t.emplaceBack(1,1),t.emplaceBack(-1,1);const i=new e.aY;i.emplaceBack(0,1,2),i.emplaceBack(0,2,3),n.mesh=new vr(r.createVertexBuffer(t,pe.members),r.createIndexBuffer(i),e.a0.simpleSegment(0,0,t.length,i.length))}c.draw(r,i.TRIANGLES,a,s,l,Vn.disabled,o,void 0,"sky",n.mesh.vertexBuffer,n.mesh.indexBuffer,n.mesh.segments)}(this,this.style.sky),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){const t=this.style._layers[r[this.currentLayer]],e=i[t.source],n=a[t.source];this._renderTileClippingMasks(t,n),this.renderLayer(this,e,t,n)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){const t=this.style._layers[r[this.currentLayer]],e=i[t.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(t))continue;const n=("symbol"===t.type?l:s)[t.source];this._renderTileClippingMasks(t,a[t.source]),this.renderLayer(this,e,t,n)}if(this.options.showTileBoundaries){const t=function(t,e){let n=null;const r=Object.values(t._layers).flatMap((n=>n.source&&!n.isHidden(e)?[t.sourceCaches[n.source]]:[])),i=r.filter((t=>"vector"===t.getSource().type)),o=r.filter((t=>"vector"!==t.getSource().type)),a=t=>{(!n||n.getSource().maxzoom<t.getSource().maxzoom)&&(n=t)};return i.forEach((t=>a(t))),n||o.forEach((t=>a(t))),n}(this.style,this.transform.zoom);t&&function(t,e,n){for(let r=0;r<n.length;r++)gr(t,e,n[r])}(this,t,t.getVisibleCoordinates())}this.options.showPadding&&function(t){const e=t.transform.padding;pr(t,t.transform.height-(e.top||0),3,lr),pr(t,e.bottom||0,3,cr),fr(t,e.left||0,3,ur),fr(t,t.transform.width-(e.right||0),3,hr);const n=t.transform.centerPoint;!function(t,e,n,r){mr(t,e-1,n-10,2,20,r),mr(t,e-10,n-1,20,2,r)}(t,n.x,t.transform.height-n.y,dr)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(t){if(!this.style||!this.style.map||!this.style.map.terrain)return;const n=this.terrainFacilitator.matrix,r=this.transform.modelViewProjectionMatrix;let i=this.terrainFacilitator.dirty;i||(i=t?!e.a_(n,r):!e.a$(n,r)),i||(i=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),i&&(e.b0(n,r),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(t,n){const r=t.context,i=r.gl,o=Rn.unblended,a=new Nn(i.LEQUAL,Nn.ReadWrite,[0,1]),s=n.getTerrainMesh(),l=n.sourceCache.getRenderableTiles(),c=t.useProgram("terrainDepth");r.bindFramebuffer.set(n.getFramebuffer("depth").framebuffer),r.viewport.set([0,0,t.width/devicePixelRatio,t.height/devicePixelRatio]),r.clear({color:e.aM.transparent,depth:1});for(const e of l){const l=n.getTerrainData(e.tileID),u={u_matrix:t.transform.calculatePosMatrix(e.tileID.toUnwrapped()),u_ele_delta:n.getMeshFrameDelta(t.transform.zoom)};c.draw(r,i.TRIANGLES,a,$n.disabled,o,Vn.backCCW,u,l,"terrain",s.vertexBuffer,s.indexBuffer,s.segments)}r.bindFramebuffer.set(null),r.viewport.set([0,0,t.width,t.height])}(this,this.style.map.terrain),function(t,n){const r=t.context,i=r.gl,o=Rn.unblended,a=new Nn(i.LEQUAL,Nn.ReadWrite,[0,1]),s=n.getTerrainMesh(),l=n.getCoordsTexture(),c=n.sourceCache.getRenderableTiles(),u=t.useProgram("terrainCoords");r.bindFramebuffer.set(n.getFramebuffer("coords").framebuffer),r.viewport.set([0,0,t.width/devicePixelRatio,t.height/devicePixelRatio]),r.clear({color:e.aM.transparent,depth:1}),n.coordsIndex=[];for(const e of c){const c=n.getTerrainData(e.tileID);r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,l.texture);const h={u_matrix:t.transform.calculatePosMatrix(e.tileID.toUnwrapped()),u_terrain_coords_id:(255-n.coordsIndex.length)/255,u_texture:0,u_ele_delta:n.getMeshFrameDelta(t.transform.zoom)};u.draw(r,i.TRIANGLES,a,$n.disabled,o,Vn.backCCW,h,c,"terrain",s.vertexBuffer,s.indexBuffer,s.segments),n.coordsIndex.push(e.tileID.key)}r.bindFramebuffer.set(null),r.viewport.set([0,0,t.width,t.height])}(this,this.style.map.terrain))}renderLayer(t,n,r,i){if(!r.isHidden(this.transform.zoom)&&("background"===r.type||"custom"===r.type||(i||[]).length))switch(this.id=r.id,r.type){case"symbol":!function(t,n,r,i,o){if("translucent"!==t.renderPass)return;const a=$n.disabled,s=t.colorModeForRenderPass();(r._unevaluatedLayout.hasValue("text-variable-anchor")||r._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(t,n,r,i,o,a,s,l,c){const u=n.transform,h=ne(),d="map"===o,p="map"===a;for(const f of t){const t=i.getTile(f),o=t.getBucket(r);if(!o||!o.text||!o.text.segments.get().length)continue;const a=e.ag(o.textSizeData,u.zoom),m=Rt(t,1,n.transform.zoom),g=yt(f.posMatrix,p,d,n.transform,m),y="none"!==r.layout.get("icon-text-fit")&&o.hasIconData();if(a){const e=Math.pow(2,u.zoom-t.tileID.overscaledZ),r=n.style.map.terrain?(t,e)=>n.style.map.terrain.getElevation(f,t,e):null,i=h.translatePosition(u,t,s,l);Gn(o,d,p,c,u,g,f.posMatrix,e,a,y,h,i,f.toUnwrapped(),r)}}}(i,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&Kn(t,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&Kn(t,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Zn(t,n,r,i,!0),Zn(t,n,r,i,!1))}(t,n,r,i,this.style.placement.variableOffsets);break;case"circle":!function(t,n,r,i){if("translucent"!==t.renderPass)return;const o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=!r.layout.get("circle-sort-key").isConstant();if(0===o.constantOr(1)&&(0===a.constantOr(1)||0===s.constantOr(1)))return;const c=t.context,u=c.gl,h=t.depthModeForSublayer(0,Nn.ReadOnly),d=$n.disabled,p=t.colorModeForRenderPass(),f=[];for(let m=0;m<i.length;m++){const o=i[m],a=n.getTile(o),s=a.getBucket(r);if(!s)continue;const c=s.programConfigurations.get(r.id),u=t.useProgram("circle",c),h=s.layoutVertexBuffer,d=s.indexBuffer,p=t.style.map.terrain&&t.style.map.terrain.getTerrainData(o),g={programConfiguration:c,program:u,layoutVertexBuffer:h,indexBuffer:d,uniformValues:Ee(t,o,a,r),terrainData:p};if(l){const t=s.segments.get();for(const n of t)f.push({segments:new e.a0([n]),sortKey:n.sortKey,state:g})}else f.push({segments:s.segments,sortKey:0,state:g})}l&&f.sort(((t,e)=>t.sortKey-e.sortKey));for(const e of f){const{programConfiguration:n,program:i,layoutVertexBuffer:o,indexBuffer:a,uniformValues:s,terrainData:l}=e.state;i.draw(c,u.TRIANGLES,h,d,p,Vn.disabled,s,l,r.id,o,a,e.segments,r.paint,t.transform.zoom,n)}}(t,n,r,i);break;case"heatmap":!function(t,n,r,i){if(0===r.paint.get("heatmap-opacity"))return;const o=t.context;if(t.style.map.terrain){for(const e of i){const i=n.getTile(e);n.hasRenderableParent(e)||("offscreen"===t.renderPass?Jn(t,i,r,e):"translucent"===t.renderPass&&Qn(t,r,e))}o.viewport.set([0,0,t.width,t.height])}else"offscreen"===t.renderPass?function(t,n,r,i){const o=t.context,a=o.gl,s=$n.disabled,l=new Rn([a.ONE,a.ONE],e.aM.transparent,[!0,!0,!0,!0]);(function(t,n,r){const i=t.gl;t.activeTexture.set(i.TEXTURE1),t.viewport.set([0,0,n.width/4,n.height/4]);let o=r.heatmapFbos.get(e.aU);o?(i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),t.bindFramebuffer.set(o.framebuffer)):(o=tr(t,n.width/4,n.height/4),r.heatmapFbos.set(e.aU,o))})(o,t,r),o.clear({color:e.aM.transparent});for(let e=0;e<i.length;e++){const c=i[e];if(n.hasRenderableParent(c))continue;const u=n.getTile(c),h=u.getBucket(r);if(!h)continue;const d=h.programConfigurations.get(r.id),p=t.useProgram("heatmap",d),{zoom:f}=t.transform;p.draw(o,a.TRIANGLES,Nn.disabled,s,l,Vn.disabled,Oe(c.posMatrix,u,f,r.paint.get("heatmap-intensity")),null,r.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,r.paint,t.transform.zoom,d)}o.viewport.set([0,0,t.width,t.height])}(t,n,r,i):"translucent"===t.renderPass&&function(t,n){const r=t.context,i=r.gl;r.setColorMode(t.colorModeForRenderPass());const o=n.heatmapFbos.get(e.aU);o&&(r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1),er(r,n).bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,Nn.disabled,$n.disabled,t.colorModeForRenderPass(),Vn.disabled,Ie(t,n,0,1),null,n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom))}(t,r)}(t,n,r,i);break;case"line":!function(t,n,r,i){if("translucent"!==t.renderPass)return;const o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0===o.constantOr(1)||0===a.constantOr(1))return;const s=t.depthModeForSublayer(0,Nn.ReadOnly),l=t.colorModeForRenderPass(),c=r.paint.get("line-dasharray"),u=r.paint.get("line-pattern"),h=u.constantOr(1),d=r.paint.get("line-gradient"),p=r.getCrossfadeParameters(),f=h?"linePattern":c?"lineSDF":d?"lineGradient":"line",m=t.context,g=m.gl;let y=!0;for(const v of i){const i=n.getTile(v);if(h&&!i.patternsLoaded())continue;const o=i.getBucket(r);if(!o)continue;const a=o.programConfigurations.get(r.id),_=t.context.program.get(),b=t.useProgram(f,a),w=y||b.program!==_,S=t.style.map.terrain&&t.style.map.terrain.getTerrainData(v),k=u.constantOr(null);if(k&&i.imageAtlas){const t=i.imageAtlas,e=t.patternPositions[k.to.toString()],n=t.patternPositions[k.from.toString()];e&&n&&a.setConstantPatternPositions(e,n)}const P=S?v:null,T=h?je(t,i,r,p,P):c?Re(t,i,r,c,p,P):d?De(t,i,r,o.lineClipsArray.length,P):Le(t,i,r,P);if(h)m.activeTexture.set(g.TEXTURE0),i.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),a.updatePaintBuffers(p);else if(c&&(w||t.lineAtlas.dirty))m.activeTexture.set(g.TEXTURE0),t.lineAtlas.bind(m);else if(d){const i=o.gradients[r.id];let a=i.texture;if(r.gradientVersion!==i.version){let s=256;if(r.stepInterpolant){const r=n.getSource().maxzoom,i=v.canonical.z===r?Math.ceil(1<<t.transform.maxZoom-v.canonical.z):1;s=e.ac(e.aV(o.maxLineLength/e.X*1024*i),256,m.maxTextureSize)}i.gradient=e.aW({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:s,image:i.gradient||void 0,clips:o.lineClipsArray}),i.texture?i.texture.update(i.gradient):i.texture=new x(m,i.gradient,g.RGBA),i.version=r.gradientVersion,a=i.texture}m.activeTexture.set(g.TEXTURE0),a.bind(r.stepInterpolant?g.NEAREST:g.LINEAR,g.CLAMP_TO_EDGE)}b.draw(m,g.TRIANGLES,s,t.stencilModeForClipping(v),l,Vn.disabled,T,S,r.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,r.paint,t.transform.zoom,a,o.layoutVertexBuffer2),y=!1}}(t,n,r,i);break;case"fill":!function(t,n,r,i){const o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0===a.constantOr(1))return;const s=t.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.aM.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){const e=t.depthModeForSublayer(1,"opaque"===t.renderPass?Nn.ReadWrite:Nn.ReadOnly);rr(t,n,r,i,e,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){const e=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Nn.ReadOnly);rr(t,n,r,i,e,s,!0)}}(t,n,r,i);break;case"fill-extrusion":!function(t,e,n,r){const i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===t.renderPass){const o=new Nn(t.context.gl.LEQUAL,Nn.ReadWrite,t.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))ir(t,e,n,r,o,$n.disabled,Rn.disabled),ir(t,e,n,r,o,t.stencilModeFor3D(),t.colorModeForRenderPass());else{const i=t.colorModeForRenderPass();ir(t,e,n,r,o,$n.disabled,i)}}}(t,n,r,i);break;case"hillshade":!function(t,e,n,r){if("offscreen"!==t.renderPass&&"translucent"!==t.renderPass)return;const i=t.context,o=t.depthModeForSublayer(0,Nn.ReadOnly),a=t.colorModeForRenderPass(),[s,l]="translucent"===t.renderPass?t.stencilConfigForOverlap(r):[{},r];for(const c of l){const r=e.getTile(c);void 0!==r.needsHillshadePrepare&&r.needsHillshadePrepare&&"offscreen"===t.renderPass?ar(t,r,n,o,$n.disabled,a):"translucent"===t.renderPass&&or(t,c,r,n,o,s[c.overscaledZ],a)}i.viewport.set([0,0,t.width,t.height])}(t,n,r,i);break;case"raster":!function(t,e,n,r){if("translucent"!==t.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!r.length)return;const i=t.context,o=i.gl,a=e.getSource(),s=t.useProgram("raster"),l=t.colorModeForRenderPass(),[c,u]=a instanceof Q?[{},r]:t.stencilConfigForOverlap(r),h=u[u.length-1].overscaledZ,d=!t.options.moving;for(const p of u){const r=t.depthModeForSublayer(p.overscaledZ-h,1===n.paint.get("raster-opacity")?Nn.ReadWrite:Nn.ReadOnly,o.LESS),u=e.getTile(p);u.registerFadeDuration(n.paint.get("raster-fade-duration"));const f=e.findLoadedParent(p,0),m=e.findLoadedSibling(p),g=sr(u,f||m||null,e,n,t.transform,t.style.map.terrain);let y,v;const _="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),u.texture.bind(_,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),f?(f.texture.bind(_,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),y=Math.pow(2,f.tileID.overscaledZ-u.tileID.overscaledZ),v=[u.tileID.canonical.x*y%1,u.tileID.canonical.y*y%1]):u.texture.bind(_,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),u.texture.useMipmap&&i.extTextureFilterAnisotropic&&t.transform.pitch>20&&o.texParameterf(o.TEXTURE_2D,i.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,i.extTextureFilterAnisotropicMax);const b=t.style.map.terrain&&t.style.map.terrain.getTerrainData(p),x=b?p:null,w=x?x.posMatrix:t.transform.calculatePosMatrix(p.toUnwrapped(),d),S=Fe(w,v||[0,0],y||1,g,n);a instanceof Q?s.draw(i,o.TRIANGLES,r,$n.disabled,l,Vn.disabled,S,b,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,r,c[p.overscaledZ],l,Vn.disabled,S,b,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}(t,n,r,i);break;case"background":!function(t,e,n,r){const i=n.paint.get("background-color"),o=n.paint.get("background-opacity");if(0===o)return;const a=t.context,s=a.gl,l=t.transform,c=l.tileSize,u=n.paint.get("background-pattern");if(t.isPatternMissing(u))return;const h=!u&&1===i.a&&1===o&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass!==h)return;const d=$n.disabled,p=t.depthModeForSublayer(0,"opaque"===h?Nn.ReadWrite:Nn.ReadOnly),f=t.colorModeForRenderPass(),m=t.useProgram(u?"backgroundPattern":"background"),g=r||l.coveringTiles({tileSize:c,terrain:t.style.map.terrain});u&&(a.activeTexture.set(s.TEXTURE0),t.imageManager.bind(t.context));const y=n.getCrossfadeParameters();for(const v of g){const e=r?v.posMatrix:t.transform.calculatePosMatrix(v.toUnwrapped()),l=u?He(e,o,t,u,{tileID:v,tileSize:c},y):qe(e,o,i),h=t.style.map.terrain&&t.style.map.terrain.getTerrainData(v);m.draw(a,s.TRIANGLES,p,d,f,Vn.disabled,l,h,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}(t,0,r,i);break;case"custom":!function(t,e,n){const r=t.context,i=n.implementation;if("offscreen"===t.renderPass){const e=i.prerender;e&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),e.call(i,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode($n.disabled);const e="3d"===i.renderingMode?new Nn(t.context.gl.LEQUAL,Nn.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,Nn.ReadOnly);r.setDepthMode(e),i.render(r.gl,t.transform.customLayerMatrix(),{farZ:t.transform.farZ,nearZ:t.transform.nearZ,fov:t.transform._fov,modelViewProjectionMatrix:t.transform.modelViewProjectionMatrix,projectionMatrix:t.transform.projectionMatrix}),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}(t,0,r)}}translatePosMatrix(t,n,r,i,o){if(!r[0]&&!r[1])return t;const a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){const t=Math.sin(a),e=Math.cos(a);r=[r[0]*e-r[1]*t,r[0]*t+r[1]*e]}const s=[o?r[0]:Rt(n,r[0],this.transform.zoom),o?r[1]:Rt(n,r[1],this.transform.zoom),0],l=new Float32Array(16);return e.J(l,t,s),l}saveTileTexture(t){const e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]}getTileTexture(t){const e=this._tileTextures[t];return e&&e.length>0?e.pop():null}isPatternMissing(t){if(!t)return!1;if(!t.from||!t.to)return!0;const e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n}useProgram(t,e){this.cache=this.cache||{};const n=t+(e?e.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[n]||(this.cache[n]=new _e(this.context,fe[t],e,We[t],this._showOverdrawInspector,this.style.map.terrain)),this.cache[n]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new x(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:t,drawingBufferHeight:e}=this.context.gl;return this.width!==t||this.height!==e}}class br{constructor(t,e){this.points=t,this.planes=e}static fromInvProjectionMatrix(t,n,r){const i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((r=>{const o=1/(r=e.af([],r,t))[3]/n*i;return e.b1(r,r,[o,o,1/r[3],o])})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((t=>{const e=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}([],function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t}([],y([],o[t[0]],o[t[1]]),y([],o[t[2]],o[t[1]]))),n=-((r=e)[0]*(i=o[t[1]])[0]+r[1]*i[1]+r[2]*i[2]);var r,i;return e.concat(n)}));return new br(o,a)}}class xr{constructor(t,e){this.min=t,this.max=e,this.center=function(t,e){return t[0]=.5*e[0],t[1]=.5*e[1],t[2]=.5*e[2],t}([],function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}([],this.min,this.max))}quadrant(t){const e=[t%2==0,t<2],n=m(this.min),r=m(this.max);for(let i=0;i<e.length;i++)n[i]=e[i]?this.min[i]:this.center[i],r[i]=e[i]?this.center[i]:this.max[i];return r[2]=this.max[2],new xr(n,r)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}intersects(t){const n=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let r=!0;for(let i=0;i<t.planes.length;i++){const o=t.planes[i];let a=0;for(let t=0;t<n.length;t++)e.b2(o,n[t])>=0&&a++;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(let e=0;e<3;e++){let n=Number.MAX_VALUE,r=-Number.MAX_VALUE;for(let i=0;i<t.points.length;i++){const o=t.points[i][e]-this.min[e];n=Math.min(n,o),r=Math.max(r,o)}if(r<0||n>this.max[e]-this.min[e])return 0}return 1}}class wr{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(isNaN(t)||t<0||isNaN(e)||e<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=e,this.left=n,this.right=r}interpolate(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.y.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.y.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.y.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.y.number(t.right,n.right,r)),this}getCenter(t,n){const r=e.ac((this.left+t-this.right)/2,0,t),i=e.ac((this.top+n-this.bottom)/2,0,n);return new e.P(r,i)}equals(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right}clone(){return new wr(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Sr=85.051129;class kr{constructor(t,n,r,i,o){this.tileSize=512,this._renderWorldCopies=void 0===o||!!o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.N(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wr,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={},this.minElevationForCurrentTile=0}clone(){const t=new kr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t.apply(this),t}apply(t){this.tileSize=t.tileSize,this.latRange=t.latRange,this.lngRange=t.lngRange,this.width=t.width,this.height=t.height,this._center=t._center,this._elevation=t._elevation,this.minElevationForCurrentTile=t.minElevationForCurrentTile,this.zoom=t.zoom,this.angle=t.angle,this._fov=t._fov,this._pitch=t._pitch,this._unmodified=t._unmodified,this._edgeInsets=t._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))}get maxZoom(){return this._maxZoom}set maxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))}get minPitch(){return this._minPitch}set minPitch(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))}get maxPitch(){return this._maxPitch}set maxPitch(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(t){const n=-e.b3(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=function(){var t=new e.A(4);return e.A!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}(),function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);t[0]=r*l+o*s,t[1]=i*l+a*s,t[2]=r*-s+o*l,t[3]=i*-s+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const n=e.ac(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(t){const e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.tileZoom=Math.max(0,Math.floor(e)),this.scale=this.zoomScale(e),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(t){t!==this._elevation&&(this._elevation=t,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(t){return this._edgeInsets.equals(t)}interpolatePadding(t,e,n){this._unmodified=!1,this._edgeInsets.interpolate(t,e,n),this._constrain(),this._calcMatrices()}coveringZoomLevel(t){const e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)}getVisibleUnwrappedCoordinates(t){const n=[new e.b4(0,t)];if(this._renderWorldCopies){const r=this.pointCoordinate(new e.P(0,0)),i=this.pointCoordinate(new e.P(this.width,0)),o=this.pointCoordinate(new e.P(this.width,this.height)),a=this.pointCoordinate(new e.P(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),l=Math.floor(Math.max(r.x,i.x,o.x,a.x)),c=1;for(let u=s-c;u<=l+c;u++)0!==u&&n.push(new e.b4(u,t))}return n}coveringTiles(t){var n,r;let i=this.coveringZoomLevel(t);const o=i;if(void 0!==t.minzoom&&i<t.minzoom)return[];void 0!==t.maxzoom&&i>t.maxzoom&&(i=t.maxzoom);const a=this.pointCoordinate(this.getCameraPoint()),s=e.Z.fromLngLat(this.center),l=Math.pow(2,i),c=[l*a.x,l*a.y,0],u=[l*s.x,l*s.y,0],h=br.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,i);let d=t.minzoom||0;!t.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(d=i);const p=t.terrain?2/Math.min(this.tileSize,t.tileSize)*this.tileSize:3,f=t=>({aabb:new xr([t*l,0,0],[(t+1)*l,l,0]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}),m=[],g=[],y=i,_=t.reparseOverscaled?o:i;if(this._renderWorldCopies)for(let e=1;e<=3;e++)m.push(f(-e)),m.push(f(e));for(m.push(f(0));m.length>0;){const i=m.pop(),o=i.x,a=i.y;let s=i.fullyVisible;if(!s){const t=i.aabb.intersects(h);if(0===t)continue;s=2===t}const l=t.terrain?c:u,f=i.aabb.distanceX(l),b=i.aabb.distanceY(l),x=Math.max(Math.abs(f),Math.abs(b));if(i.zoom===y||x>p+(1<<y-i.zoom)-2&&i.zoom>=d){const t=y-i.zoom,n=c[0]-.5-(o<<t),r=c[1]-.5-(a<<t);g.push({tileID:new e.S(i.zoom===y?_:i.zoom,i.wrap,i.zoom,o,a),distanceSq:v([u[0]-.5-o,u[1]-.5-a]),tileDistanceToCamera:Math.sqrt(n*n+r*r)})}else for(let c=0;c<4;c++){const l=(o<<1)+c%2,u=(a<<1)+(c>>1),h=i.zoom+1;let d=i.aabb.quadrant(c);if(t.terrain){const o=new e.S(h,i.wrap,h,l,u),a=t.terrain.getMinMaxElevation(o),s=null!==(n=a.minElevation)&&void 0!==n?n:this.elevation,c=null!==(r=a.maxElevation)&&void 0!==r?r:this.elevation;d=new xr([d.min[0],d.min[1],s],[d.max[0],d.max[1],c])}m.push({aabb:d,zoom:h,x:l,y:u,wrap:i.wrap,fullyVisible:s})}}return g.sort(((t,e)=>t.distanceSq-e.distanceSq)).map((t=>t.tileID))}resize(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(t){return Math.pow(2,t)}scaleZoom(t){return Math.log(t)/Math.LN2}project(t){const n=e.ac(t.lat,-85.051129,Sr);return new e.P(e.O(t.lng)*this.worldSize,e.Q(n)*this.worldSize)}unproject(t){return new e.Z(t.x/this.worldSize,t.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(t){const n=this.elevation,r=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,i=this.pointLocation(this.centerPoint,t),o=t.getElevationForLngLatZoom(i,this.tileZoom);if(!(this.elevation-o))return;const a=r+n-o,s=Math.cos(this._pitch)*this.cameraToCenterDistance/a/e.b5(1,i.lat),l=this.scaleZoom(s/this.tileSize);this._elevation=o,this._center=i,this.zoom=l}setLocationAtPoint(t,n){const r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(t),a=new e.Z(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(t,e){return e?this.coordinatePoint(this.locationCoordinate(t),e.getElevationForLngLatZoom(t,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(t))}pointLocation(t,e){return this.coordinateLocation(this.pointCoordinate(t,e))}locationCoordinate(t){return e.Z.fromLngLat(t)}coordinateLocation(t){return t&&t.toLngLat()}pointCoordinate(t,n){if(n){const e=n.pointCoordinate(t);if(null!=e)return e}const r=[t.x,t.y,0,1],i=[t.x,t.y,1,1];e.af(r,r,this.pixelMatrixInverse),e.af(i,i,this.pixelMatrixInverse);const o=r[3],a=i[3],s=r[1]/o,l=i[1]/a,c=r[2]/o,u=i[2]/a,h=c===u?0:(0-c)/(u-c);return new e.Z(e.y.number(r[0]/o,i[0]/a,h)/this.worldSize,e.y.number(s,l,h)/this.worldSize)}coordinatePoint(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pixelMatrix;const i=[t.x*this.worldSize,t.y*this.worldSize,n,1];return e.af(i,i,r),new e.P(i[0]/i[3],i[1]/i[3])}getBounds(){const t=Math.max(0,this.height/2-this.getHorizon());return(new H).extend(this.pointLocation(new e.P(0,t))).extend(this.pointLocation(new e.P(this.width,t))).extend(this.pointLocation(new e.P(this.width,this.height))).extend(this.pointLocation(new e.P(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new H([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,Sr])}calculateTileMatrix(t){const n=t.canonical,r=this.worldSize/this.zoomScale(n.z),i=n.x+Math.pow(2,n.z)*t.wrap,o=e.an(new Float64Array(16));return e.J(o,o,[i*r,n.y*r,0]),e.K(o,o,[r/e.X,r/e.X,1]),o}calculatePosMatrix(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=t.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];const o=this.calculateTileMatrix(t);return e.L(o,n?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,o),i[r]=new Float32Array(o),i[r]}calculateFogMatrix(t){const n=t.key,r=this._fogMatrixCache;if(r[n])return r[n];const i=this.calculateTileMatrix(t);return e.L(i,this.fogMatrix,i),r[n]=new Float32Array(i),r[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(t,n){n=e.ac(+n,this.minZoom,this.maxZoom);const r={center:new e.N(t.lng,t.lat),zoom:n};let i=this.lngRange;if(!this._renderWorldCopies&&null===i){const t=180-1e-10;i=[-t,t]}const o=this.tileSize*this.zoomScale(r.zoom);let a=0,s=o,l=0,c=o,u=0,h=0;const{x:d,y:p}=this.size;if(this.latRange){const t=this.latRange;a=e.Q(t[1])*o,s=e.Q(t[0])*o,s-a<p&&(u=p/(s-a))}i&&(l=e.b3(e.O(i[0])*o,0,o),c=e.b3(e.O(i[1])*o,0,o),c<l&&(c+=o),c-l<d&&(h=d/(c-l)));const{x:f,y:m}=this.project.call({worldSize:o},t);let g,y;const v=Math.max(h||0,u||0);if(v){const t=new e.P(h?(c+l)/2:f,u?(s+a)/2:m);return r.center=this.unproject.call({worldSize:o},t).wrap(),r.zoom+=this.scaleZoom(v),r}if(this.latRange){const t=p/2;m-t<a&&(y=a+t),m+t>s&&(y=s-t)}if(i){const t=(l+c)/2;let n=f;this._renderWorldCopies&&(n=e.b3(f,t-o/2,t+o/2));const r=d/2;n-r<l&&(g=l+r),n+r>c&&(g=c-r)}if(void 0!==g||void 0!==y){const t=new e.P(null!=g?g:f,null!=y?y:m);r.center=this.unproject.call({worldSize:o},t).wrap()}return r}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const t=this._unmodified,{center:e,zoom:n}=this.getConstrained(this.center,this.zoom);this.center=e,this.zoom=n,this._unmodified=t,this._constraining=!1}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,n=this.point.x,r=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=e.b5(1,this.center.lat)*this.worldSize;let i=e.an(new Float64Array(16));e.K(i,i,[this.width/2,-this.height/2,1]),e.J(i,i,[1,-1,0]),this.labelPlaneMatrix=i,i=e.an(new Float64Array(16)),e.K(i,i,[1,-1,1]),e.J(i,i,[-1,-1,0]),e.K(i,i,[2/this.width,2/this.height,1]),this.glCoordMatrix=i;const o=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),a=Math.min(this.elevation,this.minElevationForCurrentTile),s=o-a*this._pixelPerMeter/Math.cos(this._pitch),l=a<0?s:o,c=Math.PI/2+this._pitch,u=this._fov*(.5+t.y/this.height),h=Math.sin(u)*l/Math.sin(e.ac(Math.PI-c-u,.01,Math.PI-.01)),d=this.getHorizon(),p=2*Math.atan(d/this.cameraToCenterDistance)*(.5+t.y/(2*d)),f=Math.sin(p)*l/Math.sin(e.ac(Math.PI-c-p,.01,Math.PI-.01)),m=Math.min(h,f);this.farZ=1.01*(Math.cos(Math.PI/2-this._pitch)*m+l),this.nearZ=this.height/50,i=new Float64Array(16),e.b6(i,this._fov,this.width/this.height,this.nearZ,this.farZ),i[8]=2*-t.x/this.width,i[9]=2*t.y/this.height,this.projectionMatrix=e.ae(i),e.K(i,i,[1,-1,1]),e.J(i,i,[0,0,-this.cameraToCenterDistance]),e.b7(i,i,this._pitch),e.ad(i,i,this.angle),e.J(i,i,[-n,-r,0]),this.mercatorMatrix=e.K([],i,[this.worldSize,this.worldSize,this.worldSize]),e.K(i,i,[1,1,this._pixelPerMeter]),this.pixelMatrix=e.L(new Float64Array(16),this.labelPlaneMatrix,i),e.J(i,i,[0,0,-this.elevation]),this.modelViewProjectionMatrix=i,this.invModelViewProjectionMatrix=e.as([],i),this.fogMatrix=new Float64Array(16),e.b6(this.fogMatrix,this._fov,this.width/this.height,o,this.farZ),this.fogMatrix[8]=2*-t.x/this.width,this.fogMatrix[9]=2*t.y/this.height,e.K(this.fogMatrix,this.fogMatrix,[1,-1,1]),e.J(this.fogMatrix,this.fogMatrix,[0,0,-this.cameraToCenterDistance]),e.b7(this.fogMatrix,this.fogMatrix,this._pitch),e.ad(this.fogMatrix,this.fogMatrix,this.angle),e.J(this.fogMatrix,this.fogMatrix,[-n,-r,0]),e.K(this.fogMatrix,this.fogMatrix,[1,1,this._pixelPerMeter]),e.J(this.fogMatrix,this.fogMatrix,[0,0,-this.elevation]),this.pixelMatrix3D=e.L(new Float64Array(16),this.labelPlaneMatrix,i);const g=this.width%2/2,y=this.height%2/2,v=Math.cos(this.angle),_=Math.sin(this.angle),b=n-Math.round(n)+v*g+_*y,x=r-Math.round(r)+v*y+_*g,w=new Float64Array(i);if(e.J(w,w,[b>.5?b-1:b,x>.5?x-1:x,0]),this.alignedModelViewProjectionMatrix=w,i=e.as(new Float64Array(16),this.pixelMatrix),!i)throw new Error("failed to invert matrix");this.pixelMatrixInverse=i,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const t=this.pointCoordinate(new e.P(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.af(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.P(0,t))}getCameraQueryGeometry(t){const n=this.getCameraPoint();if(1===t.length)return[t[0],n];{let r=n.x,i=n.y,o=n.x,a=n.y;for(const e of t)r=Math.min(r,e.x),i=Math.min(i,e.y),o=Math.max(o,e.x),a=Math.max(a,e.y);return[new e.P(r,i),new e.P(o,i),new e.P(o,a),new e.P(r,a),new e.P(r,i)]}}lngLatToCameraDepth(t,n){const r=this.locationCoordinate(t),i=[r.x*this.worldSize,r.y*this.worldSize,n,1];return e.af(i,i,this.modelViewProjectionMatrix),i[2]/i[3]}}function Pr(t,e){var n=this;let r,i=!1,o=null,a=null;const s=()=>{o=null,i&&(t.apply(a,r),o=setTimeout(s,e),i=!1)};return function(){for(var t=arguments.length,e=new Array(t),l=0;l<t;l++)e[l]=arguments[l];return i=!0,a=n,r=e,o||s(),o}}class Tr{constructor(t){this._getCurrentHash=()=>{const t=window.location.hash.replace("#","");if(this._hashName){let e;return t.split("&").map((t=>t.split("="))).forEach((t=>{t[0]===this._hashName&&(e=t)})),(e&&e[1]||"").split("/")}return t.split("/")},this._onHashChange=()=>{const t=this._getCurrentHash();if(t.length>=3&&!t.some((t=>isNaN(t)))){const e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const t=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,t)},this._removeHash=()=>{const t=this._getCurrentHash();if(0===t.length)return;const e=t.join("/");let n=e;n.split("&").length>0&&(n=n.split("&")[0]),this._hashName&&(n=`${this._hashName}=${e}`);let r=window.location.hash.replace(n,"");r.startsWith("#&")?r=r.slice(0,1)+r.slice(2):"#"===r&&(r="");let i=window.location.href.replace(/(#.+)?$/,r);i=i.replace("&&","&"),window.history.replaceState(window.history.state,null,i)},this._updateHash=Pr(this._updateHashUnthrottled,300),this._hashName=t&&encodeURIComponent(t)}addTo(t){return this._map=t,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(t){const e=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(e.lng*i)/i,a=Math.round(e.lat*i)/i,s=this._map.getBearing(),l=this._map.getPitch();let c="";if(c+=t?`/${o}/${a}/${n}`:`${n}/${a}/${o}`,(s||l)&&(c+="/"+Math.round(10*s)/10),l&&(c+=`/${Math.round(l)}`),this._hashName){const t=this._hashName;let e=!1;const n=window.location.hash.slice(1).split("&").map((n=>{const r=n.split("=")[0];return r===t?(e=!0,`${r}=${c}`):n})).filter((t=>t));return e||n.push(`${t}=${c}`),`#${n.join("&")}`}return`#${c}`}}const Er={linearity:.3,easing:e.b8(0,0,.3,1)},Cr=e.e({deceleration:2500,maxSpeed:1400},Er),Ar=e.e({deceleration:20,maxSpeed:1400},Er),Mr=e.e({deceleration:1e3,maxSpeed:360},Er),Or=e.e({deceleration:1e3,maxSpeed:90},Er);class Ir{constructor(t){this._map=t,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,e=o.now();for(;t.length>0&&e-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,pan:new e.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)n.zoom+=e.zoomDelta||0,n.bearing+=e.bearingDelta||0,n.pitch+=e.pitchDelta||0,e.panDelta&&n.pan._add(e.panDelta),e.around&&(n.around=e.around),e.pinchAround&&(n.pinchAround=e.pinchAround);const r=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,i={};if(n.pan.mag()){const o=Lr(n.pan.mag(),r,e.e({},Cr,t||{}));i.offset=n.pan.mult(o.amount/n.pan.mag()),i.center=this._map.transform.center,zr(i,o)}if(n.zoom){const t=Lr(n.zoom,r,Ar);i.zoom=this._map.transform.zoom+t.amount,zr(i,t)}if(n.bearing){const t=Lr(n.bearing,r,Mr);i.bearing=this._map.transform.bearing+e.ac(t.amount,-179,179),zr(i,t)}if(n.pitch){const t=Lr(n.pitch,r,Or);i.pitch=this._map.transform.pitch+t.amount,zr(i,t)}if(i.zoom||i.bearing){const t=void 0===n.pinchAround?n.around:n.pinchAround;i.around=t?this._map.unproject(t):this._map.getCenter()}return this.clear(),e.e(i,{noMoveStart:!0})}}function zr(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function Lr(t,n,r){const{maxSpeed:i,linearity:o,deceleration:a}=r,s=e.ac(t*o/(n/1e3),-i,i),l=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}class Dr extends e.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=a.mousePos(n.getCanvas(),r),s=n.unproject(o);super(t,e.e({point:o,lngLat:s,originalEvent:r},i)),this._defaultPrevented=!1,this.target=n}}class jr extends e.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,n,r){const i="touchend"===t?r.changedTouches:r.touches,o=a.touchPos(n.getCanvasContainer(),i),s=o.map((t=>n.unproject(t))),l=o.reduce(((t,e,n,r)=>t.add(e.div(r.length))),new e.P(0,0));super(t,{points:o,point:l,lngLats:s,lngLat:n.unproject(l),originalEvent:r}),this._defaultPrevented=!1}}class Rr extends e.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,e,n){super(t,{originalEvent:n}),this._defaultPrevented=!1}}class Br{constructor(t,e){this._map=t,this._clickTolerance=e.clickTolerance}reset(){delete this._mousedownPos}wheel(t){return this._firePreventable(new Rr(t.type,this._map,t))}mousedown(t,e){return this._mousedownPos=e,this._firePreventable(new Dr(t.type,this._map,t))}mouseup(t){this._map.fire(new Dr(t.type,this._map,t))}click(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||this._map.fire(new Dr(t.type,this._map,t))}dblclick(t){return this._firePreventable(new Dr(t.type,this._map,t))}mouseover(t){this._map.fire(new Dr(t.type,this._map,t))}mouseout(t){this._map.fire(new Dr(t.type,this._map,t))}touchstart(t){return this._firePreventable(new jr(t.type,this._map,t))}touchmove(t){this._map.fire(new jr(t.type,this._map,t))}touchend(t){this._map.fire(new jr(t.type,this._map,t))}touchcancel(t){this._map.fire(new jr(t.type,this._map,t))}_firePreventable(t){if(this._map.fire(t),t.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Nr{constructor(t){this._map=t}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(t){this._map.fire(new Dr(t.type,this._map,t))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Dr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(t){this._delayContextMenu?this._contextMenuEvent=t:this._ignoreContextMenu||this._map.fire(new Dr(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Fr{constructor(t){this._map=t}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(t){return this.transform.pointLocation(e.P.convert(t),this._map.terrain)}}class $r{constructor(t,e){this._map=t,this._tr=new Fr(t),this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(a.disableDrag(),this._startPos=this._lastPos=e,this._active=!0)}mousemoveWindow(t,e){if(!this._active)return;const n=e;if(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)return;const r=this._startPos;this._lastPos=n,this._box||(this._box=a.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",t));const i=Math.min(r.x,n.x),o=Math.max(r.x,n.x),s=Math.min(r.y,n.y),l=Math.max(r.y,n.y);a.setTransform(this._box,`translate(${i}px,${s}px)`),this._box.style.width=o-i+"px",this._box.style.height=l-s+"px"}mouseupWindow(t,n){if(!this._active)return;if(0!==t.button)return;const r=this._startPos,i=n;if(this.reset(),a.suppressClick(),r.x!==i.x||r.y!==i.y)return this._map.fire(new e.k("boxzoomend",{originalEvent:t})),{cameraAnimation:t=>t.fitScreenCoordinates(r,i,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",t)}keydown(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(a.remove(this._box),this._box=null),a.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(t,n){return this._map.fire(new e.k(t,{originalEvent:n}))}}function Vr(t,e){if(t.length!==e.length)throw new Error(`The number of touches and points are not equal - touches ${t.length}, points ${e.length}`);const n={};for(let r=0;r<t.length;r++)n[t[r].identifier]=e[r];return n}class Ur{constructor(t){this.reset(),this.numTouches=t.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){const n=new e.P(0,0);for(const e of t)n._add(e);return n.div(t.length)}(n),this.touches=Vr(r,n)))}touchmove(t,e,n){if(this.aborted||!this.centroid)return;const r=Vr(n,e);for(const i in this.touches){const t=r[i];(!t||t.dist(this.touches[i])>30)&&(this.aborted=!0)}}touchend(t,e,n){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){const t=!this.aborted&&this.centroid;if(this.reset(),t)return t}}}class Zr{constructor(t){this.singleTap=new Ur(t),this.numTaps=t.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(t,e,n){this.singleTap.touchstart(t,e,n)}touchmove(t,e,n){this.singleTap.touchmove(t,e,n)}touchend(t,e,n){const r=this.singleTap.touchend(t,e,n);if(r){const e=t.timeStamp-this.lastTime<500,n=!this.lastTap||this.lastTap.dist(r)<30;if(e&&n||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}class qr{constructor(t){this._tr=new Fr(t),this._zoomIn=new Zr({numTouches:1,numTaps:2}),this._zoomOut=new Zr({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(t,e,n){this._zoomIn.touchstart(t,e,n),this._zoomOut.touchstart(t,e,n)}touchmove(t,e,n){this._zoomIn.touchmove(t,e,n),this._zoomOut.touchmove(t,e,n)}touchend(t,e,n){const r=this._zoomIn.touchend(t,e,n),i=this._zoomOut.touchend(t,e,n),o=this._tr;return r?(this._active=!0,t.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:e=>e.easeTo({duration:300,zoom:o.zoom+1,around:o.unproject(r)},{originalEvent:t})}):i?(this._active=!0,t.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:e=>e.easeTo({duration:300,zoom:o.zoom-1,around:o.unproject(i)},{originalEvent:t})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Hr{constructor(t){this._enabled=!!t.enable,this._moveStateManager=t.moveStateManager,this._clickTolerance=t.clickTolerance||1,this._moveFunction=t.move,this._activateOnStart=!!t.activateOnStart,t.assignEvents(this),this.reset()}reset(t){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(t)}_move(){const t=this._moveFunction(...arguments);if(t.bearingDelta||t.pitchDelta||t.around||t.panDelta)return this._active=!0,t}dragStart(t,e){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(t)&&(this._moveStateManager.startMove(t),this._lastPoint=e.length?e[0]:e,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(t,e){if(!this.isEnabled())return;const n=this._lastPoint;if(!n)return;if(t.preventDefault(),!this._moveStateManager.isValidMoveEvent(t))return void this.reset(t);const r=e.length?e[0]:e;return!this._moved&&r.dist(n)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=r,this._move(n,r))}dragEnd(t){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(t)&&(this._moved&&a.suppressClick(),this.reset(t))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Wr={0:1,2:2};class Gr{constructor(t){this._correctEvent=t.checkCorrectEvent}startMove(t){const e=a.mouseButton(t);this._eventButton=e}endMove(t){delete this._eventButton}isValidStartEvent(t){return this._correctEvent(t)}isValidMoveEvent(t){return!function(t,e){const n=Wr[e];return void 0===t.buttons||(t.buttons&n)!==n}(t,this._eventButton)}isValidEndEvent(t){return a.mouseButton(t)===this._eventButton}}class Xr{constructor(){this._firstTouch=void 0}_isOneFingerTouch(t){return 1===t.targetTouches.length}_isSameTouchEvent(t){return t.targetTouches[0].identifier===this._firstTouch}startMove(t){this._firstTouch=t.targetTouches[0].identifier}endMove(t){delete this._firstTouch}isValidStartEvent(t){return this._isOneFingerTouch(t)}isValidMoveEvent(t){return this._isOneFingerTouch(t)&&this._isSameTouchEvent(t)}isValidEndEvent(t){return this._isOneFingerTouch(t)&&this._isSameTouchEvent(t)}}const Kr=t=>{t.mousedown=t.dragStart,t.mousemoveWindow=t.dragMove,t.mouseup=t.dragEnd,t.contextmenu=t=>{t.preventDefault()}},Yr=t=>{let{enable:e,clickTolerance:n,bearingDegreesPerPixelMoved:r=.8}=t;const i=new Gr({checkCorrectEvent:t=>0===a.mouseButton(t)&&t.ctrlKey||2===a.mouseButton(t)});return new Hr({clickTolerance:n,move:(t,e)=>({bearingDelta:(e.x-t.x)*r}),moveStateManager:i,enable:e,assignEvents:Kr})},Jr=t=>{let{enable:e,clickTolerance:n,pitchDegreesPerPixelMoved:r=-.5}=t;const i=new Gr({checkCorrectEvent:t=>0===a.mouseButton(t)&&t.ctrlKey||2===a.mouseButton(t)});return new Hr({clickTolerance:n,move:(t,e)=>({pitchDelta:(e.y-t.y)*r}),moveStateManager:i,enable:e,assignEvents:Kr})};class Qr{constructor(t,e){this._clickTolerance=t.clickTolerance||1,this._map=e,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new e.P(0,0)}_shouldBePrevented(t){return t<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(t,e,n){return this._calculateTransform(t,e,n)}touchmove(t,e,n){if(this._active){if(!this._shouldBePrevented(n.length))return t.preventDefault(),this._calculateTransform(t,e,n);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",t)}}touchend(t,e,n){this._calculateTransform(t,e,n),this._active&&this._shouldBePrevented(n.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,n,r){r.length>0&&(this._active=!0);const i=Vr(r,n),o=new e.P(0,0),a=new e.P(0,0);let s=0;for(const e in i){const t=i[e],n=this._touches[e];n&&(o._add(t),a._add(t.sub(n)),s++,i[e]=t)}if(this._touches=i,this._shouldBePrevented(s)||!a.mag())return;const l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(s),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ti{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(t,e,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([e[0],e[1]]))}touchmove(t,e,n){if(!this._firstTwoTouches)return;t.preventDefault();const[r,i]=this._firstTwoTouches,o=ei(n,e,r),a=ei(n,e,i);if(!o||!a)return;const s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,t)}touchend(t,e,n){if(!this._firstTwoTouches)return;const[r,i]=this._firstTwoTouches,o=ei(n,e,r),s=ei(n,e,i);o&&s||(this._active&&a.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function ei(t,e,n){for(let r=0;r<t.length;r++)if(t[r].identifier===n)return e[r]}function ni(t,e){return Math.log(t/e)/Math.LN2}class ri extends ti{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(t){this._startDistance=this._distance=t[0].dist(t[1])}_move(t,e){const n=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(ni(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ni(this._distance,n),pinchAround:e}}}function ii(t,e){return 180*t.angleWith(e)/Math.PI}class oi extends ti{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])}_move(t,e,n){const r=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ii(this._vector,r),pinchAround:e}}_isBelowThreshold(t){this._minDiameter=Math.min(this._minDiameter,t.mag());const e=25/(Math.PI*this._minDiameter)*360,n=ii(t,this._startVector);return Math.abs(n)<e}}function ai(t){return Math.abs(t.y)>Math.abs(t.x)}class si extends ti{constructor(t){super(),this._currentTouchCount=0,this._map=t}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(t,e,n){super.touchstart(t,e,n),this._currentTouchCount=n.length}_start(t){this._lastPoints=t,ai(t[0].sub(t[1]))&&(this._valid=!1)}_move(t,e,n){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const r=t[0].sub(this._lastPoints[0]),i=t[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid?(this._lastPoints=t,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}):void 0}gestureBeginsVertically(t,e,n){if(void 0!==this._valid)return this._valid;const r=t.mag()>=2,i=e.mag()>=2;if(!r&&!i)return;if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;const o=t.y>0==e.y>0;return ai(t)&&ai(e)&&o}}const li={panStep:100,bearingStep:15,pitchStep:10};class ci{constructor(t){this._tr=new Fr(t);const e=li;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(t){if(t.altKey||t.ctrlKey||t.metaKey)return;let e=0,n=0,r=0,i=0,o=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),i=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),i=1);break;case 38:t.shiftKey?r=1:(t.preventDefault(),o=-1);break;case 40:t.shiftKey?r=-1:(t.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(n=0,r=0),{cameraAnimation:a=>{const s=this._tr;a.easeTo({duration:300,easeId:"keyboardHandler",easing:ui,zoom:e?Math.round(s.zoom)+e*(t.shiftKey?2:1):s.zoom,bearing:s.bearing+n*this._bearingStep,pitch:s.pitch+r*this._pitchStep,offset:[-i*this._panStep,-o*this._panStep],center:s.center},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function ui(t){return t*(2-t)}const hi=4.000244140625;class di{constructor(t,e){this._onTimeout=t=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)},this._map=t,this._tr=new Fr(t),this._triggerRenderFrame=e,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(t){this._defaultZoomRate=t}setWheelZoomRate(t){this._wheelZoomRate=t}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(t){return!!this._map.cooperativeGestures.isEnabled()&&!(t.ctrlKey||this._map.cooperativeGestures.isBypassed(t))}wheel(t){if(!this.isEnabled())return;if(this._shouldBePrevented(t))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",t);let e=t.deltaMode===WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const n=o.now(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==e&&e%hi==0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&(this._lastWheelEvent=t,this._delta-=e,this._active||this._start(t)),t.preventDefault()}_start(t){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const n=a.mousePos(this._map.getCanvas(),t),r=this._tr;this._around=n.y>r.transform.height/2-r.transform.getHorizon()?e.N.convert(this._aroundCenter?r.center:r.unproject(n)):e.N.convert(r.center),this._aroundPoint=r.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._tr.transform;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>hi?this._wheelZoomRate:this._defaultZoomRate;let n=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==n&&(n=1/n);const r="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):t.scale;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(r*n))),"wheel"===this._type&&(this._startZoom=t.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"==typeof this._targetZoom?this._targetZoom:t.zoom,r=this._startZoom,i=this._easing;let a,s=!1;const l=o.now()-this._lastWheelEventTime;if("wheel"===this._type&&r&&i&&l){const t=Math.min(l/200,1),o=i(t);a=e.y.number(r,n,o),t<1?this._frameId||(this._frameId=!0):s=!0}else a=n,s=!0;return this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!s,zoomDelta:a-t.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let n=e.b9;if(this._prevEase){const t=this._prevEase,r=(o.now()-t.start)/t.duration,i=t.easing(r+.01)-t.easing(r),a=.27/Math.sqrt(i*i+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=e.b8(a,s,.25,1)}return this._prevEase={start:o.now(),duration:t,easing:n},n}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class pi{constructor(t,e){this._clickZoom=t,this._tapZoom=e}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class fi{constructor(t){this._tr=new Fr(t),this.reset()}reset(){this._active=!1}dblclick(t,e){return t.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:this._tr.zoom+(t.shiftKey?-1:1),around:this._tr.unproject(e)},{originalEvent:t})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class mi{constructor(){this._tap=new Zr({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(t,e,n){if(!this._swipePoint)if(this._tapTime){const r=e[0],i=t.timeStamp-this._tapTime<500,o=this._tapPoint.dist(r)<30;i&&o?n.length>0&&(this._swipePoint=r,this._swipeTouch=n[0].identifier):this.reset()}else this._tap.touchstart(t,e,n)}touchmove(t,e,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;const r=e[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,t.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(t,e,n)}touchend(t,e,n){if(this._tapTime)this._swipePoint&&0===n.length&&this.reset();else{const r=this._tap.touchend(t,e,n);r&&(this._tapTime=t.timeStamp,this._tapPoint=r)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class gi{constructor(t,e,n){this._el=t,this._mousePan=e,this._touchPan=n}enable(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class yi{constructor(t,e,n){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=e,this._mousePitch=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class vi{constructor(t,e,n,r){this._el=t,this._touchZoom=e,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0}enable(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class _i{constructor(t,e){this._bypassKey=-1!==navigator.userAgent.indexOf("Mac")?"metaKey":"ctrlKey",this._map=t,this._options=e,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const t=this._map.getCanvasContainer();t.classList.add("maplibregl-cooperative-gestures"),this._container=a.create("div","maplibregl-cooperative-gesture-screen",t);let e=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");"metaKey"===this._bypassKey&&(e=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const n=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),r=document.createElement("div");r.className="maplibregl-desktop-message",r.textContent=e,this._container.appendChild(r);const i=document.createElement("div");i.className="maplibregl-mobile-message",i.textContent=n,this._container.appendChild(i),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(a.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(t){return t[this._bypassKey]}notifyGestureBlocked(t,n){this._enabled&&(this._map.fire(new e.k("cooperativegestureprevented",{gestureType:t,originalEvent:n})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const bi=t=>t.zoom||t.drag||t.pitch||t.rotate;class xi extends e.k{}function wi(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}class Si{constructor(t,e){this.handleWindowEvent=t=>{this.handleEvent(t,`${t.type}Window`)},this.handleEvent=(t,e)=>{if("blur"===t.type)return void this.stop(!0);this._updatingCamera=!0;const n="renderFrame"===t.type?void 0:t,r={needsRenderFrame:!1},i={},o={},s=t.touches,l=s?this._getMapTouches(s):void 0,c=l?a.touchPos(this._map.getCanvas(),l):a.mousePos(this._map.getCanvas(),t);for(const{handlerName:a,handler:d,allowed:p}of this._handlers){if(!d.isEnabled())continue;let s;this._blockedByActive(o,p,a)?d.reset():d[e||t.type]&&(s=d[e||t.type](t,c,l),this.mergeHandlerResult(r,i,s,a,n),s&&s.needsRenderFrame&&this._triggerRenderFrame()),(s||d.isActive())&&(o[a]=d)}const u={};for(const a in this._previousActiveHandlers)o[a]||(u[a]=n);this._previousActiveHandlers=o,(Object.keys(u).length||wi(r))&&(this._changes.push([r,i,u]),this._triggerRenderFrame()),(Object.keys(o).length||wi(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:h}=r;h&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],h(this._map))},this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ir(t),this._bearingSnap=e.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(e);const n=this._el;this._listeners=[[n,"touchstart",{passive:!0}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[window,"blur",void 0]];for(const[r,i,o]of this._listeners)a.addEventListener(r,i,r===document?this.handleWindowEvent:this.handleEvent,o)}destroy(){for(const[t,e,n]of this._listeners)a.removeEventListener(t,e,t===document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(t){const e=this._map,n=e.getCanvasContainer();this._add("mapEvent",new Br(e,t));const r=e.boxZoom=new $r(e,t);this._add("boxZoom",r),t.interactive&&t.boxZoom&&r.enable();const i=e.cooperativeGestures=new _i(e,t.cooperativeGestures);this._add("cooperativeGestures",i),t.cooperativeGestures&&i.enable();const o=new qr(e),s=new fi(e);e.doubleClickZoom=new pi(s,o),this._add("tapZoom",o),this._add("clickZoom",s),t.interactive&&t.doubleClickZoom&&e.doubleClickZoom.enable();const l=new mi;this._add("tapDragZoom",l);const c=e.touchPitch=new si(e);this._add("touchPitch",c),t.interactive&&t.touchPitch&&e.touchPitch.enable(t.touchPitch);const u=Yr(t),h=Jr(t);e.dragRotate=new yi(t,u,h),this._add("mouseRotate",u,["mousePitch"]),this._add("mousePitch",h,["mouseRotate"]),t.interactive&&t.dragRotate&&e.dragRotate.enable();const d=(t=>{let{enable:e,clickTolerance:n}=t;const r=new Gr({checkCorrectEvent:t=>0===a.mouseButton(t)&&!t.ctrlKey});return new Hr({clickTolerance:n,move:(t,e)=>({around:e,panDelta:e.sub(t)}),activateOnStart:!0,moveStateManager:r,enable:e,assignEvents:Kr})})(t),p=new Qr(t,e);e.dragPan=new gi(n,d,p),this._add("mousePan",d),this._add("touchPan",p,["touchZoom","touchRotate"]),t.interactive&&t.dragPan&&e.dragPan.enable(t.dragPan);const f=new oi,m=new ri;e.touchZoomRotate=new vi(n,m,f,l),this._add("touchRotate",f,["touchPan","touchZoom"]),this._add("touchZoom",m,["touchPan","touchRotate"]),t.interactive&&t.touchZoomRotate&&e.touchZoomRotate.enable(t.touchZoomRotate);const g=e.scrollZoom=new di(e,(()=>this._triggerRenderFrame()));this._add("scrollZoom",g,["mousePan"]),t.interactive&&t.scrollZoom&&e.scrollZoom.enable(t.scrollZoom);const y=e.keyboard=new ci(e);this._add("keyboard",y),t.interactive&&t.keyboard&&e.keyboard.enable(),this._add("blockableMapEvent",new Nr(e))}_add(t,e,n){this._handlers.push({handlerName:t,handler:e,allowed:n}),this._handlersById[t]=e}stop(t){if(!this._updatingCamera){for(const{handler:t}of this._handlers)t.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}}isActive(){for(const{handler:t}of this._handlers)if(t.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(bi(this._eventsInProgress))||this.isZooming()}_blockedByActive(t,e,n){for(const r in t)if(r!==n&&(!e||e.indexOf(r)<0))return!0;return!1}_getMapTouches(t){const e=[];for(const n of t)this._el.contains(n.target)&&e.push(n);return e}mergeHandlerResult(t,n,r,i,o){if(!r)return;e.e(t,r);const a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}_applyChanges(){const t={},n={},r={};for(const[i,o,a]of this._changes)i.panDelta&&(t.panDelta=(t.panDelta||new e.P(0,0))._add(i.panDelta)),i.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+i.zoomDelta),i.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+i.bearingDelta),i.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+i.pitchDelta),void 0!==i.around&&(t.around=i.around),void 0!==i.pinchAround&&(t.pinchAround=i.pinchAround),i.noInertia&&(t.noInertia=i.noInertia),e.e(n,o),e.e(r,a);this._updateMapTransform(t,n,r),this._changes=[]}_updateMapTransform(t,e,n){const r=this._map,i=r._getTransformForUpdate(),o=r.terrain;if(!(wi(t)||o&&this._terrainMovement))return this._fireEvents(e,n,!0);let{panDelta:a,zoomDelta:s,bearingDelta:l,pitchDelta:c,around:u,pinchAround:h}=t;void 0!==h&&(u=h),r._stop(!0),u=u||r.transform.centerPoint;const d=i.pointLocation(a?u.sub(a):u);l&&(i.bearing+=l),c&&(i.pitch+=c),s&&(i.zoom+=s),o?this._terrainMovement||!e.drag&&!e.zoom?e.drag&&this._terrainMovement?i.center=i.pointLocation(i.centerPoint.sub(a)):i.setLocationAtPoint(d,u):(this._terrainMovement=!0,this._map._elevationFreeze=!0,i.setLocationAtPoint(d,u)):i.setLocationAtPoint(d,u),r._applyUpdatedTransform(i),this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(e,n,!0)}_fireEvents(t,n,r){const i=bi(this._eventsInProgress),a=bi(t),s={};for(const e in t){const{originalEvent:n}=t[e];this._eventsInProgress[e]||(s[`${e}start`]=n),this._eventsInProgress[e]=t[e]}!i&&a&&this._fireEvent("movestart",a.originalEvent);for(const e in s)this._fireEvent(e,s[e]);a&&this._fireEvent("move",a.originalEvent);for(const e in t){const{originalEvent:n}=t[e];this._fireEvent(e,n)}const l={};let c;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:r}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],c=n[t]||r,l[`${e}end`]=c)}for(const e in l)this._fireEvent(e,l[e]);const u=bi(this._eventsInProgress),h=(i||a)&&!u;if(h&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const t=this._map._getTransformForUpdate();t.recalculateZoom(this._map.terrain),this._map._applyUpdatedTransform(t)}if(r&&h){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),n=t=>0!==t&&-this._bearingSnap<t&&t<this._bearingSnap;!t||!t.essential&&o.prefersReducedMotion?(this._map.fire(new e.k("moveend",{originalEvent:c})),n(this._map.getBearing())&&this._map.resetNorth()):(n(t.bearing||this._map.getBearing())&&(t.bearing=0),t.freezeElevation=!0,this._map.easeTo(t,{originalEvent:c})),this._updatingCamera=!1}}_fireEvent(t,n){this._map.fire(new e.k(t,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((t=>{delete this._frameId,this.handleEvent(new xi("renderFrame",{timeStamp:t})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class ki extends e.E{constructor(t,e){super(),this._renderFrameCallback=()=>{const t=Math.min((o.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=e.bearingSnap,this.on("moveend",(()=>{delete this._requestedCameraState}))}getCenter(){return new e.N(this.transform.center.lng,this.transform.center.lat)}setCenter(t,e){return this.jumpTo({center:t},e)}panBy(t,n,r){return t=e.P.convert(t).mult(-1),this.panTo(this.transform.center,e.e({offset:t},n),r)}panTo(t,n,r){return this.easeTo(e.e({center:t},n),r)}getZoom(){return this.transform.zoom}setZoom(t,e){return this.jumpTo({zoom:t},e),this}zoomTo(t,n,r){return this.easeTo(e.e({zoom:t},n),r)}zoomIn(t,e){return this.zoomTo(this.getZoom()+1,t,e),this}zoomOut(t,e){return this.zoomTo(this.getZoom()-1,t,e),this}getBearing(){return this.transform.bearing}setBearing(t,e){return this.jumpTo({bearing:t},e),this}getPadding(){return this.transform.padding}setPadding(t,e){return this.jumpTo({padding:t},e),this}rotateTo(t,n,r){return this.easeTo(e.e({bearing:t},n),r)}resetNorth(t,n){return this.rotateTo(0,e.e({duration:1e3},t),n),this}resetNorthPitch(t,n){return this.easeTo(e.e({bearing:0,pitch:0,duration:1e3},t),n),this}snapToNorth(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this}getPitch(){return this.transform.pitch}setPitch(t,e){return this.jumpTo({pitch:t},e),this}cameraForBounds(t,e){t=H.convert(t).adjustAntiMeridian();const n=e&&e.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),n,e)}_cameraForBoxAndBearing(t,n,r,i){const o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.e({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){const t=i.padding;i.padding={top:t,bottom:t,right:t,left:t}}i.padding=e.e(o,i.padding);const a=this.transform,s=a.padding,l=new H(t,n),c=a.project(l.getNorthWest()),u=a.project(l.getNorthEast()),h=a.project(l.getSouthEast()),d=a.project(l.getSouthWest()),p=e.ba(-r),f=c.rotate(p),m=u.rotate(p),g=h.rotate(p),y=d.rotate(p),v=new e.P(Math.max(f.x,m.x,y.x,g.x),Math.max(f.y,m.y,y.y,g.y)),_=new e.P(Math.min(f.x,m.x,y.x,g.x),Math.min(f.y,m.y,y.y,g.y)),b=v.sub(_),x=(a.width-(s.left+s.right+i.padding.left+i.padding.right))/b.x,w=(a.height-(s.top+s.bottom+i.padding.top+i.padding.bottom))/b.y;if(w<0||x<0)return void e.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const S=Math.min(a.scaleZoom(a.scale*Math.min(x,w)),i.maxZoom),k=e.P.convert(i.offset),P=new e.P((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(e.ba(r)),T=k.add(P).mult(a.scale/a.zoomScale(S));return{center:a.unproject(c.add(h).div(2).sub(T)),zoom:S,bearing:r}}fitBounds(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)}fitScreenCoordinates(t,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.P.convert(t)),this.transform.pointLocation(e.P.convert(n)),r,i),i,o)}_fitInternal(t,n,r){return t?(delete(n=e.e(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this}jumpTo(t,n){this.stop();const r=this._getTransformForUpdate();let i=!1,o=!1,a=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.N.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(o=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(a=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),this._applyUpdatedTransform(r),this.fire(new e.k("movestart",n)).fire(new e.k("move",n)),i&&this.fire(new e.k("zoomstart",n)).fire(new e.k("zoom",n)).fire(new e.k("zoomend",n)),o&&this.fire(new e.k("rotatestart",n)).fire(new e.k("rotate",n)).fire(new e.k("rotateend",n)),a&&this.fire(new e.k("pitchstart",n)).fire(new e.k("pitch",n)).fire(new e.k("pitchend",n)),this.fire(new e.k("moveend",n))}calculateCameraOptionsFromTo(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o=e.Z.fromLngLat(t,n),a=e.Z.fromLngLat(r,i),s=a.x-o.x,l=a.y-o.y,c=a.z-o.z,u=Math.hypot(s,l,c);if(0===u)throw new Error("Can't calculate camera options with same From and To");const h=Math.hypot(s,l),d=this.transform.scaleZoom(this.transform.cameraToCenterDistance/u/this.transform.tileSize),p=180*Math.atan2(s,-l)/Math.PI;let f=180*Math.acos(h/u)/Math.PI;return f=c<0?90-f:90+f,{center:a.toLngLat(),zoom:d,pitch:f,bearing:p}}easeTo(t,n){var r;this._stop(!1,t.easeId),(!1===(t=e.e({offset:[0,0],duration:500,easing:e.b9},t)).animate||!t.essential&&o.prefersReducedMotion)&&(t.duration=0);const i=this._getTransformForUpdate(),a=i.zoom,s=i.bearing,l=i.pitch,c=i.padding,u="bearing"in t?this._normalizeBearing(t.bearing,s):s,h="pitch"in t?+t.pitch:l,d="padding"in t?t.padding:i.padding,p=e.P.convert(t.offset);let f=i.centerPoint.add(p);const m=i.pointLocation(f),{center:g,zoom:y}=i.getConstrained(e.N.convert(t.center||m),null!==(r=t.zoom)&&void 0!==r?r:a);this._normalizeCenter(g,i);const v=i.project(m),_=i.project(g).sub(v),b=i.zoomScale(y-a);let x,w;t.around&&(x=e.N.convert(t.around),w=i.locationPoint(x));const S={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||y!==a,this._rotating=this._rotating||s!==u,this._pitching=this._pitching||h!==l,this._padding=!i.isPaddingEqual(d),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,S),this.terrain&&this._prepareElevation(g),this._ease((r=>{if(this._zooming&&(i.zoom=e.y.number(a,y,r)),this._rotating&&(i.bearing=e.y.number(s,u,r)),this._pitching&&(i.pitch=e.y.number(l,h,r)),this._padding&&(i.interpolatePadding(c,d,r),f=i.centerPoint.add(p)),this.terrain&&!t.freezeElevation&&this._updateElevation(r),x)i.setLocationAtPoint(x,w);else{const t=i.zoomScale(i.zoom-a),e=y>a?Math.min(2,b):Math.max(.5,b),n=Math.pow(e,1-r),o=i.unproject(v.add(_.mult(r*n)).mult(t));i.setLocationAtPoint(i.renderWorldCopies?o.wrap():o,f)}this._applyUpdatedTransform(i),this._fireMoveEvents(n)}),(e=>{this.terrain&&t.freezeElevation&&this._finalizeElevation(),this._afterEase(n,e)}),t),this}_prepareEase(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._moving=!0,n||r.moving||this.fire(new e.k("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.k("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.k("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.k("pitchstart",t))}_prepareElevation(t){this._elevationCenter=t,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(t,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(t){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const n=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(t<1&&n!==this._elevationTarget){const e=this._elevationTarget-this._elevationStart;this._elevationStart+=t*(e-(n-(e*t+this._elevationStart))/(1-t)),this._elevationTarget=n}this.transform.elevation=e.y.number(this._elevationStart,this._elevationTarget,t)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(t){const e=t.getCameraPosition(),n=this.terrain.getElevationForLngLatZoom(e.lngLat,t.zoom);if(e.altitude<n){const r=this.calculateCameraOptionsFromTo(e.lngLat,n,t.center,t.elevation);return{pitch:r.pitch,zoom:r.zoom}}return{}}_applyUpdatedTransform(t){const e=[];if(this.terrain&&e.push((t=>this._elevateCameraIfInsideTerrain(t))),this.transformCameraUpdate&&e.push((t=>this.transformCameraUpdate(t))),!e.length)return;const n=t.clone();for(const r of e){const t=n.clone(),{center:e,zoom:i,pitch:o,bearing:a,elevation:s}=r(t);e&&(t.center=e),void 0!==i&&(t.zoom=i),void 0!==o&&(t.pitch=o),void 0!==a&&(t.bearing=a),void 0!==s&&(t.elevation=s),n.apply(t)}this.transform.apply(n)}_fireMoveEvents(t){this.fire(new e.k("move",t)),this._zooming&&this.fire(new e.k("zoom",t)),this._rotating&&this.fire(new e.k("rotate",t)),this._pitching&&this.fire(new e.k("pitch",t))}_afterEase(t,n){if(this._easeId&&n&&this._easeId===n)return;delete this._easeId;const r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.k("zoomend",t)),i&&this.fire(new e.k("rotateend",t)),o&&this.fire(new e.k("pitchend",t)),this.fire(new e.k("moveend",t))}flyTo(t,n){var r;if(!t.essential&&o.prefersReducedMotion){const r=e.M(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(r,n)}this.stop(),t=e.e({offset:[0,0],speed:1.2,curve:1.42,easing:e.b9},t);const i=this._getTransformForUpdate(),a=i.zoom,s=i.bearing,l=i.pitch,c=i.padding,u="bearing"in t?this._normalizeBearing(t.bearing,s):s,h="pitch"in t?+t.pitch:l,d="padding"in t?t.padding:i.padding,p=e.P.convert(t.offset);let f=i.centerPoint.add(p);const m=i.pointLocation(f),{center:g,zoom:y}=i.getConstrained(e.N.convert(t.center||m),null!==(r=t.zoom)&&void 0!==r?r:a);this._normalizeCenter(g,i);const v=i.zoomScale(y-a),_=i.project(m),b=i.project(g).sub(_);let x=t.curve;const w=Math.max(i.width,i.height),S=w/v,k=b.mag();if("minZoom"in t){const n=e.ac(Math.min(t.minZoom,a,y),i.minZoom,i.maxZoom),r=w/i.zoomScale(n-a);x=Math.sqrt(r/k*2)}const P=x*x;function T(t){const e=(S*S-w*w+(t?-1:1)*P*P*k*k)/(2*(t?S:w)*P*k);return Math.log(Math.sqrt(e*e+1)-e)}function E(t){return(Math.exp(t)-Math.exp(-t))/2}function C(t){return(Math.exp(t)+Math.exp(-t))/2}const A=T(!1);let M=function(t){return C(A)/C(A+x*t)},O=function(t){return w*((C(A)*(E(e=A+x*t)/C(e))-E(A))/P)/k;var e},I=(T(!0)-A)/x;if(Math.abs(k)<1e-6||!isFinite(I)){if(Math.abs(w-S)<1e-6)return this.easeTo(t,n);const e=S<w?-1:1;I=Math.abs(Math.log(S/w))/x,O=()=>0,M=t=>Math.exp(e*x*t)}return t.duration="duration"in t?+t.duration:1e3*I/("screenSpeed"in t?+t.screenSpeed/x:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==u,this._pitching=h!==l,this._padding=!i.isPaddingEqual(d),this._prepareEase(n,!1),this.terrain&&this._prepareElevation(g),this._ease((r=>{const o=r*I,m=1/M(o);i.zoom=1===r?y:a+i.scaleZoom(m),this._rotating&&(i.bearing=e.y.number(s,u,r)),this._pitching&&(i.pitch=e.y.number(l,h,r)),this._padding&&(i.interpolatePadding(c,d,r),f=i.centerPoint.add(p)),this.terrain&&!t.freezeElevation&&this._updateElevation(r);const v=1===r?g:i.unproject(_.add(b.mult(O(o))).mult(m));i.setLocationAtPoint(i.renderWorldCopies?v.wrap():v,f),this._applyUpdatedTransform(i),this._fireMoveEvents(n)}),(()=>{this.terrain&&t.freezeElevation&&this._finalizeElevation(),this._afterEase(n)}),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(t,e){var n;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const t=this._onEaseEnd;delete this._onEaseEnd,t.call(this,e)}return t||null===(n=this.handlers)||void 0===n||n.stop(!1),this}_ease(t,e,n){!1===n.animate||0===n.duration?(t(1),e()):(this._easeStart=o.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=e,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(t,n){t=e.b3(t,-180,180);const r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t}_normalizeCenter(t,e){if(!e.renderWorldCopies||e.lngRange)return;const n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}queryTerrainElevation(t){return this.terrain?this.terrain.getElevationForLngLatZoom(e.N.convert(t),this.transform.tileZoom)-this.transform.elevation:null}}const Pi={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class Ti{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi;this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=t=>{!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType&&"terrain"!==t.type||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=t}getDefaultPosition(){return"bottom-right"}onAdd(t){return this._map=t,this._compact=this.options.compact,this._container=a.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=a.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=a.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){a.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(t,e){const n=this._map._getUIString(`AttributionControl.${e}`);t.title=n,t.setAttribute("aria-label",n)}_updateAttributions(){if(!this._map.style)return;let t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((t=>"string"!=typeof t?"":t))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){const t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}const e=this._map.style.sourceCaches;for(const r in e){const n=e[r];if(n.used||n.usedForTerrain){const e=n.getSource();e.attribution&&t.indexOf(e.attribution)<0&&t.push(e.attribution)}}t=t.filter((t=>String(t).trim())),t.sort(((t,e)=>t.length-e.length)),t=t.filter(((e,n)=>{for(let r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}));const n=t.join(" | ");n!==this._attribHTML&&(this._attribHTML=n,t.length?(this._innerContainer.innerHTML=n,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Ei{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._updateCompact=()=>{const t=this._container.children;if(t.length){const e=t[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&e.classList.add("maplibregl-compact"):e.classList.remove("maplibregl-compact")}},this.options=t}getDefaultPosition(){return"bottom-left"}onAdd(t){this._map=t,this._compact=this.options&&this.options.compact,this._container=a.create("div","maplibregl-ctrl");const e=a.create("a","maplibregl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://maplibre.org/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){a.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Ci{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(t){const e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e}remove(t){const e=this._currentlyRunning,n=e?this._queue.concat(e):this._queue;for(const r of n)if(r.id===t)return void(r.cancelled=!0)}run(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const e=this._currentlyRunning=this._queue;this._queue=[];for(const n of e)if(!n.cancelled&&(n.callback(t),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Ai=e.Y([{name:"a_pos3d",type:"Int16",components:3}]);class Mi extends e.E{constructor(t){super(),this.sourceCache=t,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,t.usedForTerrain=!0,t.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(t,n){this.sourceCache.update(t,n),this._renderableTilesKeys=[];const r={};for(const i of t.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:n}))r[i.key]=!0,this._renderableTilesKeys.push(i.key),this._tiles[i.key]||(i.posMatrix=new Float64Array(16),e.aP(i.posMatrix,0,e.X,0,e.X,0,1),this._tiles[i.key]=new lt(i,this.tileSize));for(const e in this._tiles)r[e]||delete this._tiles[e]}freeRtt(t){for(const e in this._tiles){const n=this._tiles[e];(!t||n.tileID.equals(t)||n.tileID.isChildOf(t)||t.isChildOf(n.tileID))&&(n.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((t=>this.getTileByID(t)))}getTileByID(t){return this._tiles[t]}getTerrainCoords(t){const n={};for(const r of this._renderableTilesKeys){const i=this._tiles[r].tileID;if(i.canonical.equals(t.canonical)){const i=t.clone();i.posMatrix=new Float64Array(16),e.aP(i.posMatrix,0,e.X,0,e.X,0,1),n[r]=i}else if(i.canonical.isChildOf(t.canonical)){const o=t.clone();o.posMatrix=new Float64Array(16);const a=i.canonical.z-t.canonical.z,s=i.canonical.x-(i.canonical.x>>a<<a),l=i.canonical.y-(i.canonical.y>>a<<a),c=e.X>>a;e.aP(o.posMatrix,0,c,0,c,0,1),e.J(o.posMatrix,o.posMatrix,[-s*c,-l*c,0]),n[r]=o}else if(t.canonical.isChildOf(i.canonical)){const o=t.clone();o.posMatrix=new Float64Array(16);const a=t.canonical.z-i.canonical.z,s=t.canonical.x-(t.canonical.x>>a<<a),l=t.canonical.y-(t.canonical.y>>a<<a),c=e.X>>a;e.aP(o.posMatrix,0,e.X,0,e.X,0,1),e.J(o.posMatrix,o.posMatrix,[s*c,l*c,0]),e.K(o.posMatrix,o.posMatrix,[1/2**a,1/2**a,0]),n[r]=o}}return n}getSourceTile(t,e){const n=this.sourceCache._source;let r=t.overscaledZ-this.deltaZoom;if(r>n.maxzoom&&(r=n.maxzoom),r<n.minzoom)return null;this._sourceTileCache[t.key]||(this._sourceTileCache[t.key]=t.scaledTo(r).key);let i=this.sourceCache.getTileByID(this._sourceTileCache[t.key]);if((!i||!i.dem)&&e)for(;r>=n.minzoom&&(!i||!i.dem);)i=this.sourceCache.getTileByID(t.scaledTo(r--).key);return i}tilesAfterTime(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return Object.values(this._tiles).filter((e=>e.timeAdded>=t))}}class Oi{constructor(t,e,n){this.painter=t,this.sourceCache=new Mi(e),this.options=n,this.exaggeration="number"==typeof n.exaggeration?n.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.X;var o;if(!(n>=0&&n<i&&r>=0&&r<i))return 0;const a=this.getTerrainData(t),s=null===(o=a.tile)||void 0===o?void 0:o.dem;if(!s)return 0;const l=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}([],[n/i*e.X,r/i*e.X],a.u_terrain_matrix),c=[l[0]*s.dim,l[1]*s.dim],u=Math.floor(c[0]),h=Math.floor(c[1]),d=c[0]-u,p=c[1]-h;return s.get(u,h)*(1-d)*(1-p)+s.get(u+1,h)*d*(1-p)+s.get(u,h+1)*(1-d)*p+s.get(u+1,h+1)*d*p}getElevationForLngLatZoom(t,n){if(!e.bb(n,t.wrap()))return 0;const{tileID:r,mercatorX:i,mercatorY:o}=this._getOverscaledTileIDFromLngLatZoom(t,n);return this.getElevation(r,i%e.X,o%e.X,e.X)}getElevation(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.X;return this.getDEMElevation(t,n,r,i)*this.exaggeration}getTerrainData(t){if(!this._emptyDemTexture){const t=this.painter.context,n=new e.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new x(t,n,t.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new x(t,new e.R({width:1,height:1}),t.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(t.gl.NEAREST,t.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=e.an([])}const n=this.sourceCache.getSourceTile(t,!0);if(n&&n.dem&&(!n.demTexture||n.needsTerrainPrepare)){const t=this.painter.context;n.demTexture=this.painter.getTileTexture(n.dem.stride),n.demTexture?n.demTexture.update(n.dem.getPixels(),{premultiply:!1}):n.demTexture=new x(t,n.dem.getPixels(),t.gl.RGBA,{premultiply:!1}),n.demTexture.bind(t.gl.NEAREST,t.gl.CLAMP_TO_EDGE),n.needsTerrainPrepare=!1}const r=n&&n+n.tileID.key+t.key;if(r&&!this._demMatrixCache[r]){const r=this.sourceCache.sourceCache._source.maxzoom;let i=t.canonical.z-n.tileID.canonical.z;t.overscaledZ>t.canonical.z&&(t.canonical.z>=r?i=t.canonical.z-r:e.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const o=t.canonical.x-(t.canonical.x>>i<<i),a=t.canonical.y-(t.canonical.y>>i<<i),s=e.bc(new Float64Array(16),[1/(e.X<<i),1/(e.X<<i),0]);e.J(s,s,[o*e.X,a*e.X,0]),this._demMatrixCache[t.key]={matrix:s,coord:t}}return{u_depth:2,u_terrain:3,u_terrain_dim:n&&n.dem&&n.dem.dim||1,u_terrain_matrix:r?this._demMatrixCache[t.key].matrix:this._emptyDemMatrix,u_terrain_unpack:n&&n.dem&&n.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(n&&n.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:n}}getFramebuffer(t){const e=this.painter,n=e.width/devicePixelRatio,r=e.height/devicePixelRatio;return!this._fbo||this._fbo.width===n&&this._fbo.height===r||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new x(e.context,{width:n,height:r,data:null},e.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(e.context.gl.NEAREST,e.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new x(e.context,{width:n,height:r,data:null},e.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(e.context.gl.NEAREST,e.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=e.context.createFramebuffer(n,r,!0,!1),this._fbo.depthAttachment.set(e.context.createRenderbuffer(e.context.gl.DEPTH_COMPONENT16,n,r))),this._fbo.colorAttachment.set("coords"===t?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const t=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const n=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let e=0,o=0;e<this._coordsTextureSize;e++)for(let t=0;t<this._coordsTextureSize;t++,o+=4)n[o+0]=255&t,n[o+1]=255&e,n[o+2]=t>>8<<4|e>>8,n[o+3]=0;const r=new e.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(n.buffer)),i=new x(t,r,t.gl.RGBA,{premultiply:!1});return i.bind(t.gl.NEAREST,t.gl.CLAMP_TO_EDGE),this._coordsTexture=i,i}pointCoordinate(t){this.painter.maybeDrawDepthAndCoords(!0);const n=new Uint8Array(4),r=this.painter.context,i=r.gl,o=Math.round(t.x*this.painter.pixelRatio/devicePixelRatio),a=Math.round(t.y*this.painter.pixelRatio/devicePixelRatio),s=Math.round(this.painter.height/devicePixelRatio);r.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),i.readPixels(o,s-a-1,1,1,i.RGBA,i.UNSIGNED_BYTE,n),r.bindFramebuffer.set(null);const l=n[0]+(n[2]>>4<<8),c=n[1]+((15&n[2])<<8),u=this.coordsIndex[255-n[3]],h=u&&this.sourceCache.getTileByID(u);if(!h)return null;const d=this._coordsTextureSize,p=(1<<h.tileID.canonical.z)*d;return new e.Z((h.tileID.canonical.x*d+l)/p+h.tileID.wrap,(h.tileID.canonical.y*d+c)/p,this.getElevation(h.tileID,l,c,d))}depthAtPoint(t){const e=new Uint8Array(4),n=this.painter.context,r=n.gl;return n.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),r.readPixels(t.x,this.painter.height/devicePixelRatio-t.y-1,1,1,r.RGBA,r.UNSIGNED_BYTE,e),n.bindFramebuffer.set(null),(e[0]/16777216+e[1]/65536+e[2]/256+e[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const t=this.painter.context,n=new e.bd,r=new e.aY,i=this.meshSize,o=e.X/i,a=i*i;for(let e=0;e<=i;e++)for(let t=0;t<=i;t++)n.emplaceBack(t*o,e*o,0);for(let e=0;e<a;e+=i+1)for(let t=0;t<i;t++)r.emplaceBack(t+e,i+t+e+1,i+t+e+2),r.emplaceBack(t+e,i+t+e+2,t+e+1);const s=n.length,l=s+2*(i+1);for(const h of[0,1])for(let t=0;t<=i;t++)for(const r of[0,1])n.emplaceBack(t*o,h*e.X,r);for(let e=0;e<2*i;e+=2)r.emplaceBack(l+e,l+e+1,l+e+3),r.emplaceBack(l+e,l+e+3,l+e+2),r.emplaceBack(s+e,s+e+3,s+e+1),r.emplaceBack(s+e,s+e+2,s+e+3);const c=n.length,u=c+2*(i+1);for(const h of[0,1])for(let t=0;t<=i;t++)for(const r of[0,1])n.emplaceBack(h*e.X,t*o,r);for(let e=0;e<2*i;e+=2)r.emplaceBack(c+e,c+e+1,c+e+3),r.emplaceBack(c+e,c+e+3,c+e+2),r.emplaceBack(u+e,u+e+3,u+e+1),r.emplaceBack(u+e,u+e+2,u+e+3);return this._mesh=new vr(t.createVertexBuffer(n,Ai.members),t.createIndexBuffer(r),e.a0.simpleSegment(0,0,n.length,r.length)),this._mesh}getMeshFrameDelta(t){return 2*Math.PI*e.be/Math.pow(2,t)/5}getMinTileElevationForLngLatZoom(t,e){var n;const{tileID:r}=this._getOverscaledTileIDFromLngLatZoom(t,e);return null!==(n=this.getMinMaxElevation(r).minElevation)&&void 0!==n?n:0}getMinMaxElevation(t){const e=this.getTerrainData(t).tile,n={minElevation:null,maxElevation:null};return e&&e.dem&&(n.minElevation=e.dem.min*this.exaggeration,n.maxElevation=e.dem.max*this.exaggeration),n}_getOverscaledTileIDFromLngLatZoom(t,n){const r=e.Z.fromLngLat(t.wrap()),i=(1<<n)*e.X,o=r.x*i,a=r.y*i,s=Math.floor(o/e.X),l=Math.floor(a/e.X);return{tileID:new e.S(n,0,n,s,l),mercatorX:o,mercatorY:a}}}class Ii{constructor(t,e,n){this._context=t,this._size=e,this._tileSize=n,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const t of this._objects)t.texture.destroy(),t.fbo.destroy()}_createObject(t){const e=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),n=new x(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return n.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),e.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),e.colorAttachment.set(n.texture),{id:t,fbo:e,texture:n,stamp:-1,inUse:!1}}getObjectForId(t){return this._objects[t]}useObject(t){t.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((e=>t.id!==e)),this._recentlyUsed.push(t.id)}stampObject(t){t.stamp=++this._stamp}getOrCreateFreeObject(){for(const e of this._recentlyUsed)if(!this._objects[e].inUse)return this._objects[e];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const t=this._createObject(this._objects.length);return this._objects.push(t),t}freeObject(t){t.inUse=!1}freeAllObjects(){for(const t of this._objects)this.freeObject(t)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some((t=>!t.inUse))}}const zi={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Li{constructor(t,e){this.painter=t,this.terrain=e,this.pool=new Ii(t.context,30,e.sourceCache.tileSize*e.qualityFactor)}destruct(){this.pool.destruct()}getTexture(t){return this.pool.getObjectForId(t.rtt[this._stacks.length-1].id).texture}prepareForRender(t,e){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=t._order.filter((n=>!t._layers[n].isHidden(e))),this._coordsDescendingInv={};for(const n in t.sourceCaches){this._coordsDescendingInv[n]={};const e=t.sourceCaches[n].getVisibleCoordinates();for(const t of e){const e=this.terrain.sourceCache.getTerrainCoords(t);for(const t in e)this._coordsDescendingInv[n][t]||(this._coordsDescendingInv[n][t]=[]),this._coordsDescendingInv[n][t].push(e[t])}}this._coordsDescendingInvStr={};for(const n of t._order){const e=t._layers[n],r=e.source;if(zi[e.type]&&!this._coordsDescendingInvStr[r]){this._coordsDescendingInvStr[r]={};for(const t in this._coordsDescendingInv[r])this._coordsDescendingInvStr[r][t]=this._coordsDescendingInv[r][t].map((t=>t.key)).sort().join()}}for(const n of this._renderableTiles)for(const t in this._coordsDescendingInvStr){const e=this._coordsDescendingInvStr[t][n.tileID.key];e&&e!==n.rttCoords[t]&&(n.rtt=[])}}renderLayer(t){if(t.isHidden(this.painter.transform.zoom))return!1;const n=t.type,r=this.painter,i=this._renderableLayerIds[this._renderableLayerIds.length-1]===t.id;if(zi[n]&&(this._prevType&&zi[this._prevType]||this._stacks.push([]),this._prevType=n,this._stacks[this._stacks.length-1].push(t.id),!i))return!0;if(zi[this._prevType]||zi[n]&&i){this._prevType=n;const t=this._stacks.length-1,i=this._stacks[t]||[];for(const n of this._renderableTiles){if(this.pool.isFull()&&(yr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(n),n.rtt[t]){const e=this.pool.getObjectForId(n.rtt[t].id);if(e.stamp===n.rtt[t].stamp){this.pool.useObject(e);continue}}const o=this.pool.getOrCreateFreeObject();this.pool.useObject(o),this.pool.stampObject(o),n.rtt[t]={id:o.id,stamp:o.stamp},r.context.bindFramebuffer.set(o.fbo.framebuffer),r.context.clear({color:e.aM.transparent,stencil:0}),r.currentStencilSource=void 0;for(let t=0;t<i.length;t++){const e=r.style._layers[i[t]],a=e.source?this._coordsDescendingInv[e.source][n.tileID.key]:[n.tileID];r.context.viewport.set([0,0,o.fbo.width,o.fbo.height]),r._renderTileClippingMasks(e,a),r.renderLayer(r,r.style.sourceCaches[e.source],e,a),e.source&&(n.rttCoords[e.source]=this._coordsDescendingInvStr[e.source][n.tileID.key])}}return yr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),zi[n]}return!1}}const Di={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},ji=n,Ri={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Pi,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:e.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},Bi=t=>{t.touchstart=t.dragStart,t.touchmoveWindow=t.dragMove,t.touchend=t.dragEnd},Ni={showCompass:!0,showZoom:!0,visualizePitch:!1};class Fi{constructor(t,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.mousedown=t=>{this.startMouse(e.e({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),a.mousePos(this.element,t)),a.addEventListener(window,"mousemove",this.mousemove),a.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=t=>{this.moveMouse(t,a.mousePos(this.element,t))},this.mouseup=t=>{this.mouseRotate.dragEnd(t),this.mousePitch&&this.mousePitch.dragEnd(t),this.offTemp()},this.touchstart=t=>{1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=a.touchPos(this.element,t.targetTouches)[0],this.startTouch(t,this._startPos),a.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),a.addEventListener(window,"touchend",this.touchend))},this.touchmove=t=>{1!==t.targetTouches.length?this.reset():(this._lastPos=a.touchPos(this.element,t.targetTouches)[0],this.moveTouch(t,this._lastPos))},this.touchend=t=>{0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const i=t.dragRotate._mouseRotate.getClickTolerance(),o=t.dragRotate._mousePitch.getClickTolerance();this.element=n,this.mouseRotate=Yr({clickTolerance:i,enable:!0}),this.touchRotate=(t=>{let{enable:e,clickTolerance:n,bearingDegreesPerPixelMoved:r=.8}=t;const i=new Xr;return new Hr({clickTolerance:n,move:(t,e)=>({bearingDelta:(e.x-t.x)*r}),moveStateManager:i,enable:e,assignEvents:Bi})})({clickTolerance:i,enable:!0}),this.map=t,r&&(this.mousePitch=Jr({clickTolerance:o,enable:!0}),this.touchPitch=(t=>{let{enable:e,clickTolerance:n,pitchDegreesPerPixelMoved:r=-.5}=t;const i=new Xr;return new Hr({clickTolerance:n,move:(t,e)=>({pitchDelta:(e.y-t.y)*r}),moveStateManager:i,enable:e,assignEvents:Bi})})({clickTolerance:o,enable:!0})),a.addEventListener(n,"mousedown",this.mousedown),a.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),a.addEventListener(n,"touchcancel",this.reset)}startMouse(t,e){this.mouseRotate.dragStart(t,e),this.mousePitch&&this.mousePitch.dragStart(t,e),a.disableDrag()}startTouch(t,e){this.touchRotate.dragStart(t,e),this.touchPitch&&this.touchPitch.dragStart(t,e),a.disableDrag()}moveMouse(t,e){const n=this.map,{bearingDelta:r}=this.mouseRotate.dragMove(t,e)||{};if(r&&n.setBearing(n.getBearing()+r),this.mousePitch){const{pitchDelta:r}=this.mousePitch.dragMove(t,e)||{};r&&n.setPitch(n.getPitch()+r)}}moveTouch(t,e){const n=this.map,{bearingDelta:r}=this.touchRotate.dragMove(t,e)||{};if(r&&n.setBearing(n.getBearing()+r),this.touchPitch){const{pitchDelta:r}=this.touchPitch.dragMove(t,e)||{};r&&n.setPitch(n.getPitch()+r)}}off(){const t=this.element;a.removeEventListener(t,"mousedown",this.mousedown),a.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),a.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),a.removeEventListener(window,"touchend",this.touchend),a.removeEventListener(t,"touchcancel",this.reset),this.offTemp()}offTemp(){a.enableDrag(),a.removeEventListener(window,"mousemove",this.mousemove),a.removeEventListener(window,"mouseup",this.mouseup),a.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),a.removeEventListener(window,"touchend",this.touchend)}}let $i;function Vi(t,n,r){const i=new e.N(t.lng,t.lat);if(t=new e.N(t.lng,t.lat),n){const i=new e.N(t.lng-360,t.lat),o=new e.N(t.lng+360,t.lat),a=r.locationPoint(t).distSqr(n);r.locationPoint(i).distSqr(n)<a?t=i:r.locationPoint(o).distSqr(n)<a&&(t=o)}for(;Math.abs(t.lng-r.center.lng)>180;){const e=r.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=r.width&&e.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t.lng!==i.lng&&r.locationPoint(t).y>r.height/2-r.getHorizon()?t:i}const Ui={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Zi(t,e,n){const r=t.classList;for(const i in Ui)r.remove(`maplibregl-${n}-anchor-${i}`);r.add(`maplibregl-${n}-anchor-${e}`)}class qi extends e.E{constructor(t){if(super(),this._onKeyPress=t=>{const e=t.code,n=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==n&&13!==n||this.togglePopup()},this._onMapClick=t=>{const e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},this._update=t=>{var e;if(!this._map)return;const n=this._map.loaded()&&!this._map.isMoving();("terrain"===(null==t?void 0:t.type)||"render"===(null==t?void 0:t.type)&&!n)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?Vi(this._lngLat,this._flatPos,this._map.transform):null===(e=this._lngLat)||void 0===e?void 0:e.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let r="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?r=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(r=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let i="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?i="rotateX(0deg)":"map"===this._pitchAlignment&&(i=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||t&&"moveend"!==t.type||(this._pos=this._pos.round()),a.setTransform(this._element,`${Ui[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${i} ${r}`),o.frameAsync(new AbortController).then((()=>{this._updateOpacity(t&&"moveend"===t.type)})).catch((()=>{}))},this._onMove=t=>{if(!this._isDragging){const e=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=e}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.k("dragstart"))),this.fire(new e.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.k("dragend")),this._state="inactive"},this._addDragHandler=t=>{this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._subpixelPositioning=t&&t.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(null==t?void 0:t.opacity,null==t?void 0:t.opacityWhenCovered),t&&t.element)this._element=t.element,this._offset=e.P.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=a.create("div");const n=a.createNS("http://www.w3.org/2000/svg","svg"),r=41,i=27;n.setAttributeNS(null,"display","block"),n.setAttributeNS(null,"height",`${r}px`),n.setAttributeNS(null,"width",`${i}px`),n.setAttributeNS(null,"viewBox",`0 0 ${i} ${r}`);const o=a.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"stroke","none"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"fill-rule","evenodd");const s=a.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");const l=a.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");const c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const t of c){const e=a.createNS("http://www.w3.org/2000/svg","ellipse");e.setAttributeNS(null,"opacity","0.04"),e.setAttributeNS(null,"cx","10.5"),e.setAttributeNS(null,"cy","5.80029008"),e.setAttributeNS(null,"rx",t.rx),e.setAttributeNS(null,"ry",t.ry),l.appendChild(e)}const u=a.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"fill",this._color);const h=a.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),u.appendChild(h);const d=a.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"fill","#000000");const p=a.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d.appendChild(p);const f=a.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"transform","translate(6.0, 7.0)"),f.setAttributeNS(null,"fill","#FFFFFF");const m=a.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(8.0, 8.0)");const g=a.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");const y=a.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),m.appendChild(g),m.appendChild(y),s.appendChild(l),s.appendChild(u),s.appendChild(d),s.appendChild(f),s.appendChild(m),n.appendChild(s),n.setAttributeNS(null,"height",r*this._scale+"px"),n.setAttributeNS(null,"width",i*this._scale+"px"),this._element.appendChild(n),this._offset=e.P.convert(t&&t.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(t=>{t.preventDefault()})),this._element.addEventListener("mousedown",(t=>{t.preventDefault()})),Zi(this._element,this._anchor,"marker"),t&&t.className)for(const e of t.className.split(" "))this._element.classList.add(e);this._popup=null}addTo(t){return this.remove(),this._map=t,this._element.setAttribute("aria-label",t._getUIString("Marker.Title")),t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),t.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),a.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.N.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){const e=38.1,n=13.5,r=Math.abs(n)/Math.SQRT2;t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-e],"bottom-left":[r,-1*(e-n+r)],"bottom-right":[-r,-1*(e-n+r)],left:[n,-1*(e-n)],right:[-n,-1*(e-n)]}:this._offset}this._popup=t,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(t){return this._subpixelPositioning=t,this}getPopup(){return this._popup}togglePopup(){const t=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:t?(t.isOpen()?t.remove():(t.setLngLat(this._lngLat),t.addTo(this._map)),this):this}_updateOpacity(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n,r;if(!(null===(n=this._map)||void 0===n?void 0:n.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(t)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const i=this._map,o=i.terrain.depthAtPoint(this._pos),a=i.terrain.getElevationForLngLatZoom(this._lngLat,i.transform.tileZoom);if(i.transform.lngLatToCameraDepth(this._lngLat,a)-o<.006)return void(this._element.style.opacity=this._opacity);const s=-this._offset.y/i.transform._pixelPerMeter,l=Math.sin(i.getPitch()*Math.PI/180)*s,c=i.terrain.depthAtPoint(new e.P(this._pos.x,this._pos.y-this._offset.y)),u=i.transform.lngLatToCameraDepth(this._lngLat,a+l)-c>.006;(null===(r=this._popup)||void 0===r?void 0:r.isOpen())&&u&&this._popup.remove(),this._element.style.opacity=u?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(t){return this._offset=e.P.convert(t),this._update(),this}addClassName(t){this._element.classList.add(t)}removeClassName(t){this._element.classList.remove(t)}toggleClassName(t){return this._element.classList.toggle(t)}setDraggable(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(t){return this._rotation=t||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(t){return this._rotationAlignment=t||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(t,e){return void 0===t&&void 0===e&&(this._opacity="1",this._opacityWhenCovered="0.2"),void 0!==t&&(this._opacity=t),void 0!==e&&(this._opacityWhenCovered=e),this._map&&this._updateOpacity(!0),this}}const Hi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Wi=0,Gi=!1;const Xi={maxWidth:100,unit:"metric"};function Ki(t,e,n){const r=n&&n.maxWidth||100,i=t._container.clientHeight/2,o=t.unproject([0,i]),a=t.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){const n=3.2808*s;n>5280?Yi(e,r,n/5280,t._getUIString("ScaleControl.Miles")):Yi(e,r,n,t._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Yi(e,r,s/1852,t._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Yi(e,r,s/1e3,t._getUIString("ScaleControl.Kilometers")):Yi(e,r,s,t._getUIString("ScaleControl.Meters"))}function Yi(t,e,n,r){const i=function(t){const e=Math.pow(10,`${Math.floor(t)}`.length-1);let n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(t){const e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(n),e*n}(n);t.style.width=e*(i/n)+"px",t.innerHTML=`${i}&nbsp;${r}`}const Ji={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},Qi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function to(t){if(t){if("number"==typeof t){const n=Math.round(Math.abs(t)/Math.SQRT2);return{center:new e.P(0,0),top:new e.P(0,t),"top-left":new e.P(n,n),"top-right":new e.P(-n,n),bottom:new e.P(0,-t),"bottom-left":new e.P(n,-n),"bottom-right":new e.P(-n,-n),left:new e.P(t,0),right:new e.P(-t,0)}}if(t instanceof e.P||Array.isArray(t)){const n=e.P.convert(t);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:e.P.convert(t.center||[0,0]),top:e.P.convert(t.top||[0,0]),"top-left":e.P.convert(t["top-left"]||[0,0]),"top-right":e.P.convert(t["top-right"]||[0,0]),bottom:e.P.convert(t.bottom||[0,0]),"bottom-left":e.P.convert(t["bottom-left"]||[0,0]),"bottom-right":e.P.convert(t["bottom-right"]||[0,0]),left:e.P.convert(t.left||[0,0]),right:e.P.convert(t.right||[0,0])}}return to(new e.P(0,0))}const eo=n;t.AJAXError=e.bh,t.Evented=e.E,t.LngLat=e.N,t.MercatorCoordinate=e.Z,t.Point=e.P,t.addProtocol=e.bi,t.config=e.a,t.removeProtocol=e.bj,t.AttributionControl=Ti,t.BoxZoomHandler=$r,t.CanvasSource=et,t.CooperativeGesturesHandler=_i,t.DoubleClickZoomHandler=pi,t.DragPanHandler=gi,t.DragRotateHandler=yi,t.EdgeInsets=wr,t.FullscreenControl=class extends e.E{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._onFullscreenChange=()=>{var t;let e=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.fullscreenElement;)e=e.shadowRoot.fullscreenElement;e===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,t&&t.container&&(t.container instanceof HTMLElement?this._container=t.container:e.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=a.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){a.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const t=this._fullscreenButton=a.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);a.create("span","maplibregl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new e.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new e.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},t.GeoJSONSource=Y,t.GeolocateControl=class extends e.E{constructor(t){super(),this._onSuccess=t=>{if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.k("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new e.k("geolocate",t)),this._finish()}},this._updateCamera=t=>{const n=new e.N(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),o=e.e({bearing:i},this.options.fitBoundsOptions),a=H.fromLngLat(n,r);this._map.fitBounds(a,o,{geolocateSource:!0})},this._updateMarker=t=>{if(t){const n=new e.N(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=t=>{if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&Gi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new e.k("error",t)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(t=>t.preventDefault())),this._geolocateButton=a.create("button","maplibregl-ctrl-geolocate",this._container),a.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=t=>{if(this._map){if(!1===t){e.w("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)}else{const t=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=a.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new qi({element:this._dotElement}),this._circleElement=a.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new qi({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new e.k("trackuserlocationend")),this.fire(new e.k("userlocationlostfocus")))}))}},this.options=e.e({},Hi,t)}onAdd(t){return this._map=t,this._container=a.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return e._(this,arguments,void 0,(function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function*(){if(void 0!==$i&&!t)return $i;if(void 0===window.navigator.permissions)return $i=!!window.navigator.geolocation,$i;try{const t=yield window.navigator.permissions.query({name:"geolocation"});$i="denied"!==t.state}catch(t){$i=!!window.navigator.geolocation}return $i}()}))}().then((t=>this._finishSetupUI(t))),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),a.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Wi=0,Gi=!1}_isOutOfMapMaxBounds(t){const e=this._map.getMaxBounds(),n=t.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const t=this._map.getBounds(),e=t.getSouthEast(),n=t.getNorthEast(),r=e.distanceTo(n),i=Math.ceil(this._accuracy/(r/this._map._container.clientHeight)*2);this._circleElement.style.width=`${i}px`,this._circleElement.style.height=`${i}px`}trigger(){if(!this._setup)return e.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Wi--,Gi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new e.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.k("trackuserlocationstart")),this.fire(new e.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let t;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Wi++,Wi>1?(t={maximumAge:6e5,timeout:0},Gi=!0):(t=this.options.positionOptions,Gi=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},t.Hash=Tr,t.ImageSource=Q,t.KeyboardHandler=ci,t.LngLatBounds=H,t.LogoControl=Ei,t.Map=class extends ki{constructor(t){e.bf.mark(e.bg.create);const n=Object.assign(Object.assign({},Ri),t);if(null!=n.minZoom&&null!=n.maxZoom&&n.minZoom>n.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=n.minPitch&&null!=n.maxPitch&&n.minPitch>n.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=n.minPitch&&n.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=n.maxPitch&&n.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new kr(n.minZoom,n.maxZoom,n.minPitch,n.maxPitch,n.renderWorldCopies),{bearingSnap:n.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Ci,this._controls=[],this._mapId=e.a4(),this._contextLost=t=>{t.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new e.k("webglcontextlost",{originalEvent:t}))},this._contextRestored=t=>{this._setupPainter(),this.resize(),this._update(),this.fire(new e.k("webglcontextrestored",{originalEvent:t}))},this._onMapScroll=t=>{if(t.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=n.interactive,this._maxTileCacheSize=n.maxTileCacheSize,this._maxTileCacheZoomLevels=n.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=!0===n.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=!0===n.preserveDrawingBuffer,this._antialias=!0===n.antialias,this._trackResize=!0===n.trackResize,this._bearingSnap=n.bearingSnap,this._refreshExpiredTiles=!0===n.refreshExpiredTiles,this._fadeDuration=n.fadeDuration,this._crossSourceCollisions=!0===n.crossSourceCollisions,this._collectResourceTiming=!0===n.collectResourceTiming,this._locale=Object.assign(Object.assign({},Di),n.locale),this._clickTolerance=n.clickTolerance,this._overridePixelRatio=n.pixelRatio,this._maxCanvasSize=n.maxCanvasSize,this.transformCameraUpdate=n.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=!0===n.cancelPendingTileRequestsWhileZooming,this._imageQueueHandle=p.addThrottleControl((()=>this.isMoving())),this._requestManager=new f(n.transformRequest),"string"==typeof n.container){if(this._container=document.getElementById(n.container),!this._container)throw new Error(`Container '${n.container}' not found.`)}else{if(!(n.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=n.container}if(n.maxBounds&&this.setMaxBounds(n.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))).on("moveend",(()=>this._update(!1))).on("zoom",(()=>this._update(!0))).on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})).once("idle",(()=>{this._idleTriggered=!0})),"undefined"!=typeof window){addEventListener("online",this._onWindowOnline,!1);let t=!1;const e=Pr((t=>{this._trackResize&&!this._removed&&(this.resize(t),this.redraw())}),50);this._resizeObserver=new ResizeObserver((n=>{t?e(n):t=!0})),this._resizeObserver.observe(this._container)}this.handlers=new Si(this,n),this._hash=n.hash&&new Tr("string"==typeof n.hash&&n.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:n.center,zoom:n.zoom,bearing:n.bearing,pitch:n.pitch}),n.bounds&&(this.resize(),this.fitBounds(n.bounds,e.e({},n.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=n.localIdeographFontFamily,this._validateStyle=n.validateStyle,n.style&&this.setStyle(n.style,{localIdeographFontFamily:n.localIdeographFontFamily}),n.attributionControl&&this.addControl(new Ti("boolean"==typeof n.attributionControl?void 0:n.attributionControl)),n.maplibreLogo&&this.addControl(new Ei,n.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(t=>{this._update("style"===t.dataType),this.fire(new e.k(`${t.dataType}data`,t))})),this.on("dataloading",(t=>{this.fire(new e.k(`${t.dataType}dataloading`,t))})),this.on("dataabort",(t=>{this.fire(new e.k("sourcedataabort",t))}))}_getMapId(){return this._mapId}addControl(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const r=t.onAdd(this);this._controls.push(t);const i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}hasControl(t){return this._controls.indexOf(t)>-1}calculateCameraOptionsFromTo(t,e,n,r){return null==r&&this.terrain&&(r=this.terrain.getElevationForLngLatZoom(n,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(t,e,n,r)}resize(t){var n;const r=this._containerDimensions(),i=r[0],o=r[1],a=this._getClampedPixelRatio(i,o);if(this._resizeCanvas(i,o,a),this.painter.resize(i,o,a),this.painter.overLimit()){const t=this.painter.context.gl;this._maxCanvasSize=[t.drawingBufferWidth,t.drawingBufferHeight];const e=this._getClampedPixelRatio(i,o);this._resizeCanvas(i,o,e),this.painter.resize(i,o,e)}this.transform.resize(i,o),null===(n=this._requestedCameraState)||void 0===n||n.resize(i,o);const s=!this._moving;return s&&(this.stop(),this.fire(new e.k("movestart",t)).fire(new e.k("move",t))),this.fire(new e.k("resize",t)),s&&this.fire(new e.k("moveend",t)),this}_getClampedPixelRatio(t,e){const{0:n,1:r}=this._maxCanvasSize,i=this.getPixelRatio(),o=t*i,a=e*i;return Math.min(o>n?n/o:1,a>r?r/a:1)*i}getPixelRatio(){var t;return null!==(t=this._overridePixelRatio)&&void 0!==t?t:devicePixelRatio}setPixelRatio(t){this._overridePixelRatio=t,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(t){return this.transform.setMaxBounds(H.convert(t)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?60:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(t){return this.transform.renderWorldCopies=t,this._update()}project(t){return this.transform.locationPoint(e.N.convert(t),this.style&&this.terrain)}unproject(t){return this.transform.pointLocation(e.P.convert(t),this.terrain)}isMoving(){var t;return this._moving||(null===(t=this.handlers)||void 0===t?void 0:t.isMoving())}isZooming(){var t;return this._zooming||(null===(t=this.handlers)||void 0===t?void 0:t.isZooming())}isRotating(){var t;return this._rotating||(null===(t=this.handlers)||void 0===t?void 0:t.isRotating())}_createDelegatedListener(t,e,n){if("mouseenter"===t||"mouseover"===t){let r=!1;const i=i=>{const o=e.filter((t=>this.getLayer(t))),a=0!==o.length?this.queryRenderedFeatures(i.point,{layers:o}):[];a.length?r||(r=!0,n.call(this,new Dr(t,this,i.originalEvent,{features:a}))):r=!1};return{layers:e,listener:n,delegates:{mousemove:i,mouseout:()=>{r=!1}}}}if("mouseleave"===t||"mouseout"===t){let r=!1;const i=i=>{const o=e.filter((t=>this.getLayer(t)));(0!==o.length?this.queryRenderedFeatures(i.point,{layers:o}):[]).length?r=!0:r&&(r=!1,n.call(this,new Dr(t,this,i.originalEvent)))},o=e=>{r&&(r=!1,n.call(this,new Dr(t,this,e.originalEvent)))};return{layers:e,listener:n,delegates:{mousemove:i,mouseout:o}}}{const r=t=>{const r=e.filter((t=>this.getLayer(t))),i=0!==r.length?this.queryRenderedFeatures(t.point,{layers:r}):[];i.length&&(t.features=i,n.call(this,t),delete t.features)};return{layers:e,listener:n,delegates:{[t]:r}}}}_saveDelegatedListener(t,e){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(e)}_removeDelegatedListener(t,e,n){if(!this._delegatedListeners||!this._delegatedListeners[t])return;const r=this._delegatedListeners[t];for(let i=0;i<r.length;i++){const t=r[i];if(t.listener===n&&t.layers.length===e.length&&t.layers.every((t=>e.includes(t)))){for(const e in t.delegates)this.off(e,t.delegates[e]);return void r.splice(i,1)}}}on(t,e,n){if(void 0===n)return super.on(t,e);const r=this._createDelegatedListener(t,"string"==typeof e?[e]:e,n);this._saveDelegatedListener(t,r);for(const i in r.delegates)this.on(i,r.delegates[i]);return this}once(t,e,n){var r=this;if(void 0===n)return super.once(t,e);const i="string"==typeof e?[e]:e,o=this._createDelegatedListener(t,i,n);for(const a in o.delegates){const e=o.delegates[a];o.delegates[a]=function(){r._removeDelegatedListener(t,i,n),e(...arguments)}}this._saveDelegatedListener(t,o);for(const a in o.delegates)this.once(a,o.delegates[a]);return this}off(t,e,n){return void 0===n?super.off(t,e):(this._removeDelegatedListener(t,"string"==typeof e?[e]:e,n),this)}queryRenderedFeatures(t,n){if(!this.style)return[];let r;const i=t instanceof e.P||Array.isArray(t),o=i?t:[[0,0],[this.transform.width,this.transform.height]];if(n=n||(i?{}:t)||{},o instanceof e.P||"number"==typeof o[0])r=[e.P.convert(o)];else{const t=e.P.convert(o[0]),n=e.P.convert(o[1]);r=[t,new e.P(n.x,t.y),n,new e.P(t.x,n.y),t]}return this.style.queryRenderedFeatures(r,n,this.transform)}querySourceFeatures(t,e){return this.style.querySourceFeatures(t,e)}setStyle(t,n){return!1!==(n=e.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))}setTransformRequest(t){return this._requestManager.setTransformRequest(t),this}_getUIString(t){const e=this._locale[t];if(null==e)throw new Error(`Missing UI string '${t}'`);return e}_updateStyle(t,e){if(e.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(t,e)));const n=this.style&&e.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!t)),t?(this.style=new de(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t,e,n):this.style.loadJSON(t,e,n),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new de(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,n){if("string"==typeof t){const r=this._requestManager.transformRequest(t,"Style");e.h(r,new AbortController).then((t=>{this._updateDiff(t.data,n)})).catch((t=>{t&&this.fire(new e.j(t))}))}else"object"==typeof t&&this._updateDiff(t,n)}_updateDiff(t,n){try{this.style.setState(t,n)&&this._update(!0)}catch(r){e.w(`Unable to perform style diff: ${r.message||r.error||r}.  Rebuilding the style from scratch.`),this._updateStyle(t,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():e.w("There is no style added to the map.")}addSource(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)}isSourceLoaded(t){const n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.j(new Error(`There is no source with ID '${t}'`)))}setTerrain(t){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),t){const n=this.style.sourceCaches[t.source];if(!n)throw new Error(`cannot load terrain, because there exists no source with ID: ${t.source}`);null===this.terrain&&n.reload();for(const r in this.style._layers){const n=this.style._layers[r];"hillshade"===n.type&&n.source===t.source&&e.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Oi(this.painter,n,t),this.painter.renderToTexture=new Li(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=e=>{"style"===e.dataType?this.terrain.sourceCache.freeRtt():"source"===e.dataType&&e.tile&&(e.sourceId!==t.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(e.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new e.k("terrain",{terrain:t})),this}getTerrain(){var t,e;return null!==(e=null===(t=this.terrain)||void 0===t?void 0:t.options)&&void 0!==e?e:null}areTilesLoaded(){const t=this.style&&this.style.sourceCaches;for(const e in t){const n=t[e]._tiles;for(const t in n){const e=n[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}}return!0}removeSource(t){return this.style.removeSource(t),this._update(!0)}getSource(t){return this.style.getSource(t)}addImage(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{pixelRatio:i=1,sdf:a=!1,stretchX:s,stretchY:l,content:c,textFitWidth:u,textFitHeight:h}=r;if(this._lazyInitEmptyStyle(),!(n instanceof HTMLImageElement||e.b(n))){if(void 0===n.width||void 0===n.height)return this.fire(new e.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:r,height:o,data:d}=n,p=n;return this.style.addImage(t,{data:new e.R({width:r,height:o},new Uint8Array(d)),pixelRatio:i,stretchX:s,stretchY:l,content:c,textFitWidth:u,textFitHeight:h,sdf:a,version:0,userImage:p}),p.onAdd&&p.onAdd(this,t),this}}{const{width:r,height:d,data:p}=o.getImageData(n);this.style.addImage(t,{data:new e.R({width:r,height:d},p),pixelRatio:i,stretchX:s,stretchY:l,content:c,textFitWidth:u,textFitHeight:h,sdf:a,version:0})}}updateImage(t,n){const r=this.style.getImage(t);if(!r)return this.fire(new e.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const i=n instanceof HTMLImageElement||e.b(n)?o.getImageData(n):n,{width:a,height:s,data:l}=i;if(void 0===a||void 0===s)return this.fire(new e.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(a!==r.data.width||s!==r.data.height)return this.fire(new e.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const c=!(n instanceof HTMLImageElement||e.b(n));return r.data.replace(l,c),this.style.updateImage(t,r),this}getImage(t){return this.style.getImage(t)}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.j(new Error("Missing required image id"))),!1)}removeImage(t){this.style.removeImage(t)}loadImage(t){return p.getImage(this._requestManager.transformRequest(t,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)}moveLayer(t,e){return this.style.moveLayer(t,e),this._update(!0)}removeLayer(t){return this.style.removeLayer(t),this._update(!0)}getLayer(t){return this.style.getLayer(t)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)}setFilter(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.style.setFilter(t,e,n),this._update(!0)}getFilter(t){return this.style.getFilter(t)}setPaintProperty(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setPaintProperty(t,e,n,r),this._update(!0)}getPaintProperty(t,e){return this.style.getPaintProperty(t,e)}setLayoutProperty(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setLayoutProperty(t,e,n,r),this._update(!0)}getLayoutProperty(t,e){return this.style.getLayoutProperty(t,e)}setGlyphs(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setGlyphs(t,e),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._lazyInitEmptyStyle(),this.style.addSprite(t,e,n,(t=>{t||this._update(!0)})),this}removeSprite(t){return this._lazyInitEmptyStyle(),this.style.removeSprite(t),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setSprite(t,e,(t=>{t||this._update(!0)})),this}setLight(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)}getLight(){return this.style.getLight()}setSky(t){return this._lazyInitEmptyStyle(),this.style.setSky(t),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(t,e){return this.style.setFeatureState(t,e),this._update()}removeFeatureState(t,e){return this.style.removeFeatureState(t,e),this._update()}getFeatureState(t){return this.style.getFeatureState(t)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]}_setupContainer(){const t=this._container;t.classList.add("maplibregl-map");const e=this._canvasContainer=a.create("div","maplibregl-canvas-container",t);this._interactive&&e.classList.add("maplibregl-interactive"),this._canvas=a.create("canvas","maplibregl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const n=this._containerDimensions(),r=this._getClampedPixelRatio(n[0],n[1]);this._resizeCanvas(n[0],n[1],r);const i=this._controlContainer=a.create("div","maplibregl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((t=>{o[t]=a.create("div",`maplibregl-ctrl-${t} `,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(t,e,n){this._canvas.width=Math.floor(n*t),this._canvas.height=Math.floor(n*e),this._canvas.style.width=`${t}px`,this._canvas.style.height=`${e}px`}_setupPainter(){const t={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let e=null;this._canvas.addEventListener("webglcontextcreationerror",(n=>{e={requestedAttributes:t},n&&(e.statusMessage=n.statusMessage,e.type=n.type)}),{once:!0});const n=this._canvas.getContext("webgl2",t)||this._canvas.getContext("webgl",t);if(!n){const t="Failed to initialize WebGL";throw e?(e.message=t,new Error(JSON.stringify(e))):new Error(t)}this.painter=new _r(n,this.transform),s.testSupport(n)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(t){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(t){return this._update(),this._renderTaskQueue.add(t)}_cancelRenderFrame(t){this._renderTaskQueue.remove(t)}_render(t){const n=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),this._removed)return;let r=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,i=o.now();this.style.zoomHistory.update(t,i);const a=new e.z(t,{now:i,fadeDuration:n,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),s=a.crossFadingFactor();1===s&&s===this._crossFadingFactor||(r=!0,this._crossFadingFactor=s),this.style.update(a)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,n,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:n,showPadding:this.showPadding}),this.fire(new e.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,e.bf.mark(e.bg.load),this.fire(new e.k("load"))),this.style&&(this.style.hasTransitions()||r)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const i=this._sourcesDirty||this._styleDirty||this._placementDirty;return i||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.k("idle")),!this._loaded||this._fullyLoaded||i||(this._fullyLoaded=!0,e.bf.mark(e.bg.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var t;this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),"undefined"!=typeof window&&removeEventListener("online",this._onWindowOnline,!1),p.removeThrottleControl(this._imageQueueHandle),null===(t=this._resizeObserver)||void 0===t||t.disconnect();const n=this.painter.context.gl.getExtension("WEBGL_lose_context");(null==n?void 0:n.loseContext)&&n.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),a.remove(this._canvasContainer),a.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),e.bf.clearMetrics(),this._removed=!0,this.fire(new e.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,o.frameAsync(this._frameRequest).then((t=>{e.bf.frame(t),this._frameRequest=null,this._render(t)})).catch((()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())}get showPadding(){return!!this._showPadding}set showPadding(t){this._showPadding!==t&&(this._showPadding=t,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())}get repaint(){return!!this._repaint}set repaint(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(t){this._vertices=t,this._update()}get version(){return ji}getCameraTargetElevation(){return this.transform.elevation}},t.MapMouseEvent=Dr,t.MapTouchEvent=jr,t.MapWheelEvent=Rr,t.Marker=qi,t.NavigationControl=class{constructor(t){this._updateZoomButtons=()=>{const t=this._map.getZoom(),e=t===this._map.getMaxZoom(),n=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},this._rotateCompassArrow=()=>{const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=t},this._setButtonTitle=(t,e)=>{const n=this._map._getUIString(`NavigationControl.${e}`);t.title=n,t.setAttribute("aria-label",n)},this.options=e.e({},Ni,t),this._container=a.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(t=>t.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(t=>this._map.zoomIn({},{originalEvent:t}))),a.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(t=>this._map.zoomOut({},{originalEvent:t}))),a.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(t=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:t}):this._map.resetNorth({},{originalEvent:t})})),this._compassIcon=a.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Fi(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){a.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(t,e){const n=a.create("button",t,this._container);return n.type="button",n.addEventListener("click",e),n}},t.Popup=class extends e.E{constructor(t){super(),this.remove=()=>(this._content&&a.remove(this._content),this._container&&(a.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new e.k("close"))),this),this._onMouseUp=t=>{this._update(t.point)},this._onMouseMove=t=>{this._update(t.point)},this._onDrag=t=>{this._update(t.point)},this._update=t=>{var e;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=a.create("div","maplibregl-popup",this._map.getContainer()),this._tip=a.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const t of this.options.className.split(" "))this._container.classList.add(t);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?Vi(this._lngLat,this._flatPos,this._map.transform):null===(e=this._lngLat)||void 0===e?void 0:e.wrap(),this._trackPointer&&!t)return;const n=this._flatPos=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&t?t:this._map.transform.locationPoint(this._lngLat));let r=this.options.anchor;const i=to(this.options.offset);if(!r){const t=this._container.offsetWidth,e=this._container.offsetHeight;let o;o=n.y+i.bottom.y<e?["top"]:n.y>this._map.transform.height-e?["bottom"]:[],n.x<t/2?o.push("left"):n.x>this._map.transform.width-t/2&&o.push("right"),r=0===o.length?"bottom":o.join("-")}let o=n.add(i[r]);this.options.subpixelPositioning||(o=o.round()),a.setTransform(this._container,`${Ui[r]} translate(${o.x}px,${o.y}px)`),Zi(this._container,r,"popup")},this._onClose=()=>{this.remove()},this.options=e.e(Object.create(Ji),t)}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new e.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.N.convert(t),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(t){return this.setDOMContent(document.createTextNode(t))}setHTML(t){const e=document.createDocumentFragment(),n=document.createElement("body");let r;for(n.innerHTML=t;r=n.firstChild,r;)e.appendChild(r);return this.setDOMContent(e)}getMaxWidth(){var t;return null===(t=this._container)||void 0===t?void 0:t.style.maxWidth}setMaxWidth(t){return this.options.maxWidth=t,this._update(),this}setDOMContent(t){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=a.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(t),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(t){return this._container&&this._container.classList.add(t),this}removeClassName(t){return this._container&&this._container.classList.remove(t),this}setOffset(t){return this.options.offset=t,this._update(),this}toggleClassName(t){if(this._container)return this._container.classList.toggle(t)}setSubpixelPositioning(t){this.options.subpixelPositioning=t}_createCloseButton(){this.options.closeButton&&(this._closeButton=a.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const t=this._container.querySelector(Qi);t&&t.focus()}},t.RasterDEMTileSource=K,t.RasterTileSource=X,t.ScaleControl=class{constructor(t){this._onMove=()=>{Ki(this._map,this._container,this.options)},this.setUnit=t=>{this.options.unit=t,Ki(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Xi),t)}getDefaultPosition(){return"bottom-left"}onAdd(t){return this._map=t,this._container=a.create("div","maplibregl-ctrl maplibregl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){a.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},t.ScrollZoomHandler=di,t.Style=de,t.TerrainControl=class{constructor(t){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=t}onAdd(t){return this._map=t,this._container=a.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=a.create("button","maplibregl-ctrl-terrain",this._container),a.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){a.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},t.TwoFingersTouchPitchHandler=si,t.TwoFingersTouchRotateHandler=oi,t.TwoFingersTouchZoomHandler=ri,t.TwoFingersTouchZoomRotateHandler=vi,t.VectorTileSource=G,t.VideoSource=tt,t.addSourceType=(t,n)=>e._(void 0,void 0,void 0,(function*(){if(rt(t))throw new Error(`A source type called "${t}" already exists.`);((t,e)=>{nt[t]=e})(t,n)})),t.clearPrewarmedResources=function(){const t=R;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(L),R=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},t.getMaxParallelImageRequests=function(){return e.a.MAX_PARALLEL_IMAGE_REQUESTS},t.getRTLTextPluginStatus=function(){return st().getRTLTextPluginStatus()},t.getVersion=function(){return eo},t.getWorkerCount=function(){return D.workerCount},t.getWorkerUrl=function(){return e.a.WORKER_URL},t.importScriptInWorkers=function(t){return $().broadcast("IS",t)},t.prewarm=function(){N().acquire(L)},t.setMaxParallelImageRequests=function(t){e.a.MAX_PARALLEL_IMAGE_REQUESTS=t},t.setRTLTextPlugin=function(t,e){return st().setRTLTextPlugin(t,e)},t.setWorkerCount=function(t){D.workerCount=t},t.setWorkerUrl=function(t){e.a.WORKER_URL=t}})),t}()},4079:(t,e,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},4160:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},4190:(t,e,n)=>{var r=n(1340);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},4258:(t,e,n)=>{var r=n(5906)();t.exports=r},4262:(t,e,n)=>{var r=n(8895),i=n(4052);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},4288:(t,e)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||f}function v(){}function _(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var b=_.prototype=new v;b.constructor=_,m(b,y.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function k(t,e,r,i,o,a){return r=a.ref,{$$typeof:n,type:t,key:e,ref:void 0!==r?r:null,props:a}}function P(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function E(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function C(){}function A(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l,c,u=!1;if(null===t)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case n:case r:u=!0;break;case d:return A((u=t._init)(t._payload),e,i,o,a)}}if(u)return a=a(t),u=""===o?"."+E(t,0):o,x(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),A(a,e,i,"",(function(t){return t}))):null!=a&&(P(a)&&(l=a,c=i+(null==a.key||t&&t.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=k(l.type,c,void 0,0,0,l.props)),e.push(a)),1;u=0;var h,f=""===o?".":o+":";if(x(t))for(var m=0;m<t.length;m++)u+=A(o=t[m],e,i,s=f+E(o,m),a);else if("function"===typeof(m=null===(h=t)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(t=m.call(t),m=0;!(o=t.next()).done;)u+=A(o=o.value,e,i,s=f+E(o,m++),a);else if("object"===s){if("function"===typeof t.then)return A(function(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"===typeof t.status?t.then(C,C):(t.status="pending",t.then((function(e){"pending"===t.status&&(t.status="fulfilled",t.value=e)}),(function(e){"pending"===t.status&&(t.status="rejected",t.reason=e)}))),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}(t),e,i,o,a);throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return u}function M(t,e,n){if(null==t)return t;var r=[],i=0;return A(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function O(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var I="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function z(){}e.Children={map:M,forEach:function(t,e,n){M(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return M(t,(function(){e++})),e},toArray:function(t){return M(t,(function(t){return t}))||[]},only:function(t){if(!P(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=i,e.Profiler=a,e.PureComponent=_,e.StrictMode=o,e.Suspense=u,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.act=function(){throw Error("act(...) is not supported in production builds of React.")},e.cache=function(t){return function(){return t.apply(null,arguments)}},e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("The argument must be a React element, but you passed "+t+".");var r=m({},t.props),i=t.key;if(null!=e)for(o in void 0!==e.ref&&void 0,void 0!==e.key&&(i=""+e.key),e)!S.call(e,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===e.ref||(r[o]=e[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return k(t.type,i,void 0,0,0,r)},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider=t,t.Consumer={$$typeof:s,_context:t},t},e.createElement=function(t,e,n){var r,i={},o=null;if(null!=e)for(r in void 0!==e.key&&(o=""+e.key),e)S.call(e,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=e[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(t&&t.defaultProps)for(r in a=t.defaultProps)void 0===i[r]&&(i[r]=a[r]);return k(t,o,void 0,0,0,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=P,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:O}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=w.T,n={};w.T=n;try{var r=t(),i=w.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(z,I)}catch(o){I(o)}finally{w.T=e}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(t){return w.H.use(t)},e.useActionState=function(t,e,n){return w.H.useActionState(t,e,n)},e.useCallback=function(t,e){return w.H.useCallback(t,e)},e.useContext=function(t){return w.H.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t,e){return w.H.useDeferredValue(t,e)},e.useEffect=function(t,e){return w.H.useEffect(t,e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(t,e,n){return w.H.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return w.H.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return w.H.useLayoutEffect(t,e)},e.useMemo=function(t,e){return w.H.useMemo(t,e)},e.useOptimistic=function(t,e){return w.H.useOptimistic(t,e)},e.useReducer=function(t,e,n){return w.H.useReducer(t,e,n)},e.useRef=function(t){return w.H.useRef(t)},e.useState=function(t){return w.H.useState(t)},e.useSyncExternalStore=function(t,e,n){return w.H.useSyncExternalStore(t,e,n)},e.useTransition=function(){return w.H.useTransition()},e.version="19.0.0"},4358:(t,e)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function l(t,e,n){do{const n=t.charCodeAt(e);if(32!==n&&9!==n)return e}while(++e<n);return n}function c(t,e,n){for(;e>n;){const n=t.charCodeAt(--e);if(32!==n&&9!==n)return e+1}return n}function u(t){if(-1===t.indexOf("%"))return t;try{return decodeURIComponent(t)}catch(e){return t}}},4391:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(7004)},4416:(t,e,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),l=n(2074);t.exports=function(t,e,n){var c=-1,u=i,h=t.length,d=!0,p=[],f=p;if(n)d=!1,u=o;else if(h>=200){var m=e?null:s(t);if(m)return l(m);d=!1,u=a,f=new r}else f=e?[]:p;t:for(;++c<h;){var g=t[c],y=e?e(g):g;if(g=n||0!==g?g:0,d&&y===y){for(var v=f.length;v--;)if(f[v]===y)continue t;e&&f.push(y),p.push(g)}else u(f,y,n)||(f!==p&&f.push(y),p.push(g))}return p}},4543:(t,e,n)=>{t=n.nmd(t);var r=n(6552),i=n(14),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},4545:(t,e,n)=>{var r=n(7160);t.exports=function(){this.__data__=new r,this.size=0}},4552:(t,e,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(l){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},4597:(t,e,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);t.exports=function(t,e,n){var l=a(t)?r:o;return n&&s(t,e,n)&&(e=void 0),l(t,i(e,3))}},4657:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},4664:(t,e,n)=>{var r=n(4258),i=n(8673);t.exports=function(t,e){return t&&r(t,e,i)}},4746:(t,e,n)=>{var r=n(5652);t.exports=function(t,e){var n=!0;return r(t,(function(t,r,i){return n=!!e(t,r,i)})),n}},4757:(t,e,n)=>{var r=n(6552);t.exports=function(){return r.Date.now()}},4816:(t,e,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},4983:(t,e)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function x(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case u:case h:case o:case s:case a:case p:return t;default:switch(t=t&&t.$$typeof){case c:case d:case g:case m:case l:return t;default:return e}}case i:return e}}}function w(t){return x(t)===h}e.AsyncMode=u,e.ConcurrentMode=h,e.ContextConsumer=c,e.ContextProvider=l,e.Element=r,e.ForwardRef=d,e.Fragment=o,e.Lazy=g,e.Memo=m,e.Portal=i,e.Profiler=s,e.StrictMode=a,e.Suspense=p,e.isAsyncMode=function(t){return w(t)||x(t)===u},e.isConcurrentMode=w,e.isContextConsumer=function(t){return x(t)===c},e.isContextProvider=function(t){return x(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return x(t)===d},e.isFragment=function(t){return x(t)===o},e.isLazy=function(t){return x(t)===g},e.isMemo=function(t){return x(t)===m},e.isPortal=function(t){return x(t)===i},e.isProfiler=function(t){return x(t)===s},e.isStrictMode=function(t){return x(t)===a},e.isSuspense=function(t){return x(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===h||t===s||t===a||t===p||t===f||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===l||t.$$typeof===c||t.$$typeof===d||t.$$typeof===v||t.$$typeof===_||t.$$typeof===b||t.$$typeof===y)},e.typeOf=x},5029:(t,e,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),l=n(1310),c=n(914);t.exports=function(t,e){return a(t)&&s(e)?l(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},5043:(t,e,n)=>{"use strict";t.exports=n(4288)},5051:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},5173:(t,e,n)=>{t.exports=n(1497)()},5193:(t,e,n)=>{var r=n(6913),i=n(2761);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},5204:(t,e,n)=>{var r=n(7937)(n(6552),"Map");t.exports=r},5268:(t,e,n)=>{var r=n(9160);t.exports=function(t){return r(t)&&t!=+t}},5295:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}},5324:(t,e,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},5387:(t,e,n)=>{var r=n(7937)(n(6552),"Promise");t.exports=r},5428:(t,e,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},5538:(t,e,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),l=n(6788);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,t.exports=c},5575:(t,e,n)=>{var r=n(7937)(Object,"create");t.exports=r},5636:(t,e,n)=>{var r=n(1170),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(l),r(t,this,c)}}},5647:(t,e,n)=>{var r=n(3279),i=n(5636),o=n(6350);t.exports=function(t,e){return o(i(t,e,r),t+"")}},5652:(t,e,n)=>{var r=n(4664),i=n(6516)(r);t.exports=i},5654:(t,e,n)=>{var r=n(7937),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},5713:t=>{t.exports=function(){}},5752:(t,e,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var l=1&n,c=r(t),u=c.length;if(u!=r(e).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in e:i.call(e,d)))return!1}var p=s.get(t),f=s.get(e);if(p&&f)return p==e&&f==t;var m=!0;s.set(t,e),s.set(e,t);for(var g=l;++h<u;){var y=t[d=c[h]],v=e[d];if(o)var _=l?o(v,y,d,e,t,s):o(y,v,d,t,e,s);if(!(void 0===_?y===v||a(y,v,n,o,s):_)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var b=t.constructor,x=e.constructor;b==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(t),s.delete(e),m}},5797:(t,e,n)=>{var r=n(4816);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},5816:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},5866:(t,e,n)=>{var r=n(8468);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},5893:(t,e,n)=>{var r=n(6599);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},5896:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=t[s],c=s+1,u=t[c];if(0>o(l,n))c<i&&0>o(u,l)?(t[r]=u,t[c]=n,r=c):(t[r]=l,t[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break t;t[r]=u,t[c]=n,r=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if(e.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=r(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,n(c,e)}e=r(u)}}function x(t){if(g=!1,b(t),!m)if(null!==r(c))m=!0,O();else{var e=r(u);null!==e&&I(x,e.startTime-t)}}var w,S=!1,k=-1,P=5,T=-1;function E(){return!(e.unstable_now()-T<P)}function C(){if(S){var t=e.unstable_now();T=t;var n=!0;try{t:{m=!1,g&&(g=!1,v(k),k=-1),f=!0;var o=p;try{e:{for(b(t),d=r(c);null!==d&&!(d.expirationTime>t&&E());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var s=a(d.expirationTime<=t);if(t=e.unstable_now(),"function"===typeof s){d.callback=s,b(t),n=!0;break e}d===r(c)&&i(c),b(t)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&I(x,l.startTime-t),n=!1}}break t}finally{d=null,p=o,f=!1}n=void 0}}finally{n?w():S=!1}}}if("function"===typeof _)w=function(){_(C)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,M=A.port2;A.port1.onmessage=C,w=function(){M.postMessage(null)}}else w=function(){y(C,0)};function O(){S||(S=!0,w())}function I(t,n){k=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,O())},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(u,t),null===r(c)&&t===r(u)&&(g?(v(k),k=-1):g=!0,I(x,o-a))):(t.sortIndex=s,n(c,t),m||f||(m=!0,O())),t},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},5906:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}},5967:t=>{t.exports=function(t){return t.split("")}},5990:(t,e,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);t.exports=r},6095:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},6140:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},6173:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6179:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},6311:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},6350:(t,e,n)=>{var r=n(8325),i=n(6578)(r);t.exports=i},6361:(t,e,n)=>{var r=n(6913),i=n(2761);t.exports=function(t){return!0===t||!1===t||i(t)&&"[object Boolean]"==r(t)}},6378:(t,e)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case o:case s:case a:case d:case p:return t;default:switch(t=t&&t.$$typeof){case u:case c:case h:case m:case f:case l:return t;default:return e}}case i:return e}}}n=Symbol.for("react.module.reference"),e.isFragment=function(t){return y(t)===o}},6399:(t,e,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),h="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,g,y){var v=l(t),_=l(e),b=v?d:s(t),x=_?d:s(e),w=(b=b==h?p:b)==p,S=(x=x==h?p:x)==p,k=b==x;if(k&&c(t)){if(!c(e))return!1;v=!0,w=!1}if(k&&!w)return y||(y=new r),v||u(t)?i(t,e,n,m,g,y):o(t,e,b,n,m,g,y);if(!(1&n)){var P=w&&f.call(t,"__wrapped__"),T=S&&f.call(e,"__wrapped__");if(P||T){var E=P?t.value():t,C=T?e.value():e;return y||(y=new r),g(E,C,n,m,y)}}return!!k&&(y||(y=new r),a(t,e,n,m,g,y))}},6516:(t,e,n)=>{var r=n(6571);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},6532:(t,e,n)=>{var r=n(5538),i=n(6989);t.exports=function(t,e,n,o){var a=n.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=n[a];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var u=(c=n[a])[0],h=t[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var p=new r;if(o)var f=o(h,d,u,t,e,p);if(!(void 0===f?i(d,h,3,o,p):f))return!1}}return!0}},6552:(t,e,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},6571:(t,e,n)=>{var r=n(1629),i=n(6173);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},6578:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},6599:(t,e,n)=>{var r=n(9841);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t===t,a=r(t),s=void 0!==e,l=null===e,c=e===e,u=r(e);if(!l&&!u&&!a&&t>e||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&t<e||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},6600:(t,e,n)=>{var r=n(7937)(n(6552),"WeakMap");t.exports=r},6604:(t,e,n)=>{var r=n(3331)();t.exports=r},6672:(t,e,n)=>{"use strict";var r=n(5043);function i(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(t,e){return"font"===t?"":"string"===typeof e?"use-credentials"===e?e:"":void 0}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)throw Error(i(299));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.flushSync=function(t){var e=l.T,n=a.p;try{if(l.T=null,a.p=2,t)return t()}finally{l.T=e,a.p=n,a.d.f()}},e.preconnect=function(t,e){"string"===typeof t&&(e?e="string"===typeof(e=e.crossOrigin)?"use-credentials"===e?e:"":void 0:e=null,a.d.C(t,e))},e.prefetchDNS=function(t){"string"===typeof t&&a.d.D(t)},e.preinit=function(t,e){if("string"===typeof t&&e&&"string"===typeof e.as){var n=e.as,r=c(n,e.crossOrigin),i="string"===typeof e.integrity?e.integrity:void 0,o="string"===typeof e.fetchPriority?e.fetchPriority:void 0;"style"===n?a.d.S(t,"string"===typeof e.precedence?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&a.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof e.nonce?e.nonce:void 0})}},e.preinitModule=function(t,e){if("string"===typeof t)if("object"===typeof e&&null!==e){if(null==e.as||"script"===e.as){var n=c(e.as,e.crossOrigin);a.d.M(t,{crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0})}}else null==e&&a.d.M(t)},e.preload=function(t,e){if("string"===typeof t&&"object"===typeof e&&null!==e&&"string"===typeof e.as){var n=e.as,r=c(n,e.crossOrigin);a.d.L(t,n,{crossOrigin:r,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0,type:"string"===typeof e.type?e.type:void 0,fetchPriority:"string"===typeof e.fetchPriority?e.fetchPriority:void 0,referrerPolicy:"string"===typeof e.referrerPolicy?e.referrerPolicy:void 0,imageSrcSet:"string"===typeof e.imageSrcSet?e.imageSrcSet:void 0,imageSizes:"string"===typeof e.imageSizes?e.imageSizes:void 0,media:"string"===typeof e.media?e.media:void 0})}},e.preloadModule=function(t,e){if("string"===typeof t)if(e){var n=c(e.as,e.crossOrigin);a.d.m(t,{as:"string"===typeof e.as&&"script"!==e.as?e.as:void 0,crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0})}else a.d.m(t)},e.requestFormReset=function(t){a.d.r(t)},e.unstable_batchedUpdates=function(t,e){return t(e)},e.useFormState=function(t,e,n){return l.H.useFormState(t,e,n)},e.useFormStatus=function(){return l.H.useHostTransitionStatus()},e.version="19.0.0"},6686:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},6704:t=>{t.exports=function(t){return this.__data__.has(t)}},6745:(t,e,n)=>{var r=n(9742),i=n(61),o=n(3279);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},6788:(t,e,n)=>{var r=n(7160),i=n(5204),o=n(4816);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},6832:(t,e,n)=>{t=n.nmd(t);var r=n(7105),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s},6874:(t,e,n)=>{var r=n(2622);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},6913:(t,e,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},6924:(t,e,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",h="[object Promise]",d="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(r),g=c(i),y=c(o),v=c(a),_=c(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=f||i&&b(new i)!=u||o&&b(o.resolve())!=h||a&&b(new a)!=d||s&&b(new s)!=p)&&(b=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return f;case g:return u;case y:return h;case v:return d;case _:return p}return e}),t.exports=b},6954:(t,e,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(a(t))}},6989:(t,e,n)=>{var r=n(6399),i=n(2761);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},6996:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}},7002:(t,e,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);t.exports=function(t,e,n){var l=a(t)?r:i;return n&&s(t,e,n)&&(e=void 0),l(t,o(e,3))}},7004:(t,e,n)=>{"use strict";var r=n(8853),i=n(5043),o=n(7950);function a(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var w=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=k&&t[k]||t["@@iterator"])?t:null}var T=Symbol.for("react.client.reference");function E(t){if(null==t)return null;if("function"===typeof t)return t.$$typeof===T?null:t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case h:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case _:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case g:return(t.displayName||"Context")+".Provider";case m:return(t._context.displayName||"Context")+".Consumer";case y:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case b:return null!==(e=t.displayName||null)?e:E(t.type)||"Memo";case x:e=t._payload,t=t._init;try{return E(t(e))}catch(n){}}return null}var C,A,M=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign;function I(t){if(void 0===C)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);C=e&&e[1]||"",A=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+C+t+A}var z=!1;function L(t,e){if(!t||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(t,[],n)}else{try{n.call()}catch(o){r=o}t.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=t())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=r&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?I(n):""}function D(t){switch(t.tag){case 26:case 27:case 5:return I(t.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return t=L(t.type,!1);case 11:return t=L(t.type.render,!1);case 1:return t=L(t.type,!0);default:return""}}function j(t){try{var e="";do{e+=D(t),t=t.return}while(t);return e}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function R(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function B(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function N(t){if(R(t)!==t)throw Error(a(188))}function F(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t;for(t=t.child;null!==t;){if(null!==(e=F(t)))return e;t=t.sibling}return null}var $=Array.isArray,V=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},Z=[],q=-1;function H(t){return{current:t}}function W(t){0>q||(t.current=Z[q],Z[q]=null,q--)}function G(t,e){q++,Z[q]=t.current,t.current=e}var X=H(null),K=H(null),Y=H(null),J=H(null);function Q(t,e){switch(G(Y,e),G(K,t),G(X,null),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?Ku(e):0;break;default:if(e=(t=8===t?e.parentNode:e).tagName,t=t.namespaceURI)e=Yu(t=Ku(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(X),G(X,e)}function tt(){W(X),W(K),W(Y)}function et(t){null!==t.memoizedState&&G(J,t);var e=X.current,n=Yu(e,t.type);e!==n&&(G(K,t),G(X,n))}function nt(t){K.current===t&&(W(X),W(K)),J.current===t&&(W(J),jh._currentValue=U)}var rt=Object.prototype.hasOwnProperty,it=r.unstable_scheduleCallback,ot=r.unstable_cancelCallback,at=r.unstable_shouldYield,st=r.unstable_requestPaint,lt=r.unstable_now,ct=r.unstable_getCurrentPriorityLevel,ut=r.unstable_ImmediatePriority,ht=r.unstable_UserBlockingPriority,dt=r.unstable_NormalPriority,pt=r.unstable_LowPriority,ft=r.unstable_IdlePriority,mt=r.log,gt=r.unstable_setDisableYieldValue,yt=null,vt=null;function _t(t){if("function"===typeof mt&&gt(t),vt&&"function"===typeof vt.setStrictMode)try{vt.setStrictMode(yt,t)}catch(e){}}var bt=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(xt(t)/wt|0)|0},xt=Math.log,wt=Math.LN2;var St=128,kt=4194304;function Pt(t){var e=42&t;if(0!==e)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&t;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&t;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tt(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=t.warmLanes;t=0!==t.finishedLanes;var s=134217727&n;return 0!==s?0!==(n=s&~i)?r=Pt(n):0!==(o&=s)?r=Pt(o):t||0!==(a=s&~a)&&(r=Pt(a)):0!==(s=n&~i)?r=Pt(s):0!==o?r=Pt(o):t||0!==(a=n&~a)&&(r=Pt(a)),0===r?0:0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(a=e&-e)||32===i&&0!==(4194176&a))?e:r}function Et(t,e){return 0===(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)}function Ct(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function At(){var t=St;return 0===(4194176&(St<<=1))&&(St=128),t}function Mt(){var t=kt;return 0===(62914560&(kt<<=1))&&(kt=4194304),t}function Ot(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function It(t,e){t.pendingLanes|=e,268435456!==e&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zt(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-bt(e);t.entangledLanes|=e,t.entanglements[r]=1073741824|t.entanglements[r]|4194218&n}function Lt(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function Dt(t){return 2<(t&=-t)?8<t?0!==(134217727&t)?32:268435456:8:2}function jt(){var t=V.p;return 0!==t?t:void 0===(t=window.event)?32:Yh(t.type)}var Rt=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Rt,Nt="__reactProps$"+Rt,Ft="__reactContainer$"+Rt,$t="__reactEvents$"+Rt,Vt="__reactListeners$"+Rt,Ut="__reactHandles$"+Rt,Zt="__reactResources$"+Rt,qt="__reactMarker$"+Rt;function Ht(t){delete t[Bt],delete t[Nt],delete t[$t],delete t[Vt],delete t[Ut]}function Wt(t){var e=t[Bt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ft]||n[Bt]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=lh(t);null!==t;){if(n=t[Bt])return n;t=lh(t)}return e}n=(t=n).parentNode}return null}function Gt(t){if(t=t[Bt]||t[Ft]){var e=t.tag;if(5===e||6===e||13===e||26===e||27===e||3===e)return t}return null}function Xt(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t.stateNode;throw Error(a(33))}function Kt(t){var e=t[Zt];return e||(e=t[Zt]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Yt(t){t[qt]=!0}var Jt=new Set,Qt={};function te(t,e){ee(t,e),ee(t+"Capture",e)}function ee(t,e){for(Qt[t]=e,t=0;t<e.length;t++)Jt.add(e[t])}var ne=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),re=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ie={},oe={};function ae(t,e,n){if(i=e,rt.call(oe,i)||!rt.call(ie,i)&&(re.test(i)?oe[i]=!0:(ie[i]=!0,0)))if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":return void t.removeAttribute(e);case"boolean":var r=e.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void t.removeAttribute(e)}t.setAttribute(e,""+n)}var i}function se(t,e,n){if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(e)}t.setAttribute(e,""+n)}}function le(t,e,n,r){if(null===r)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(n)}t.setAttributeNS(e,n,""+r)}}function ce(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function ue(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function he(t){t._valueTracker||(t._valueTracker=function(t){var e=ue(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function de(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ue(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function pe(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}var fe=/[\n"\\]/g;function me(t){return t.replace(fe,(function(t){return"\\"+t.charCodeAt(0).toString(16)+" "}))}function ge(t,e,n,r,i,o,a,s){t.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?t.type=a:t.removeAttribute("type"),null!=e?"number"===a?(0===e&&""===t.value||t.value!=e)&&(t.value=""+ce(e)):t.value!==""+ce(e)&&(t.value=""+ce(e)):"submit"!==a&&"reset"!==a||t.removeAttribute("value"),null!=e?ve(t,a,ce(e)):null!=n?ve(t,a,ce(n)):null!=r&&t.removeAttribute("value"),null==i&&null!=o&&(t.defaultChecked=!!o),null!=i&&(t.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?t.name=""+ce(s):t.removeAttribute("name")}function ye(t,e,n,r,i,o,a,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(t.type=o),null!=e||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==e&&null!==e))return;n=null!=n?""+ce(n):"",e=null!=e?""+ce(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(t.name=a)}function ve(t,e,n){"number"===e&&pe(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function _e(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ce(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function be(t,e,n){null==e||((e=""+ce(e))!==t.value&&(t.value=e),null!=n)?t.defaultValue=null!=n?""+ce(n):"":t.defaultValue!==e&&(t.defaultValue=e)}function xe(t,e,n,r){if(null==e){if(null!=r){if(null!=n)throw Error(a(92));if($(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),e=n}n=ce(e),t.defaultValue=n,(r=t.textContent)===n&&""!==r&&null!==r&&(t.value=r)}function we(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var Se=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ke(t,e,n){var r=0===e.indexOf("--");null==n||"boolean"===typeof n||""===n?r?t.setProperty(e,""):"float"===e?t.cssFloat="":t[e]="":r?t.setProperty(e,n):"number"!==typeof n||0===n||Se.has(e)?"float"===e?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Pe(t,e,n){if(null!=e&&"object"!==typeof e)throw Error(a(62));if(t=t.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=e&&e.hasOwnProperty(r)||(0===r.indexOf("--")?t.setProperty(r,""):"float"===r?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&ke(t,i,r)}else for(var o in e)e.hasOwnProperty(o)&&ke(t,o,e[o])}function Te(t){if(-1===t.indexOf("-"))return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ce=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ae(t){return Ce.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Me=null;function Oe(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ie=null,ze=null;function Le(t){var e=Gt(t);if(e&&(t=e.stateNode)){var n=t[Nt]||null;t:switch(t=e.stateNode,e.type){case"input":if(ge(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+me(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Nt]||null;if(!i)throw Error(a(90));ge(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)(r=n[e]).form===t.form&&de(r)}break t;case"textarea":be(t,n.value,n.defaultValue);break t;case"select":null!=(e=n.value)&&_e(t,!!n.multiple,e,!1)}}}var De=!1;function je(t,e,n){if(De)return t(e,n);De=!0;try{return t(e)}finally{if(De=!1,(null!==Ie||null!==ze)&&(Bc(),Ie&&(e=Ie,t=ze,ze=Ie=null,Le(e),t)))for(e=0;e<t.length;e++)Le(t[e])}}function Re(t,e){var n=t.stateNode;if(null===n)return null;var r=n[Nt]||null;if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Be=!1;if(ne)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(xd){Be=!1}var Fe=null,$e=null,Ve=null;function Ue(){if(Ve)return Ve;var t,e,n=$e,r=n.length,i="value"in Fe?Fe.value:Fe.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Ve=i.slice(t,1<e?1-e:void 0)}function Ze(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function qe(){return!0}function He(){return!1}function We(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qe:He,this.isPropagationStopped=He,this}return O(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=qe)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=qe)},persist:function(){},isPersistent:qe}),e}var Ge,Xe,Ke,Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Je=We(Ye),Qe=O({},Ye,{view:0,detail:0}),tn=We(Qe),en=O({},Qe,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ke&&(Ke&&"mousemove"===t.type?(Ge=t.screenX-Ke.screenX,Xe=t.screenY-Ke.screenY):Xe=Ge=0,Ke=t),Ge)},movementY:function(t){return"movementY"in t?t.movementY:Xe}}),nn=We(en),rn=We(O({},en,{dataTransfer:0})),on=We(O({},Qe,{relatedTarget:0})),an=We(O({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=We(O({},Ye,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),ln=We(O({},Ye,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=hn[t])&&!!e[t]}function pn(){return dn}var fn=We(O({},Qe,{key:function(t){if(t.key){var e=cn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Ze(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?un[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(t){return"keypress"===t.type?Ze(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Ze(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),mn=We(O({},en,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=We(O({},Qe,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=We(O({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0})),vn=We(O({},en,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=We(O({},Ye,{newState:0,oldState:0})),bn=[9,13,27,32],xn=ne&&"CompositionEvent"in window,wn=null;ne&&"documentMode"in document&&(wn=document.documentMode);var Sn=ne&&"TextEvent"in window&&!wn,kn=ne&&(!xn||wn&&8<wn&&11>=wn),Pn=String.fromCharCode(32),Tn=!1;function En(t,e){switch(t){case"keyup":return-1!==bn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var An=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Mn[t.type]:"textarea"===e}function In(t,e,n,r){Ie?ze?ze.push(r):ze=[r]:Ie=r,0<(e=ju(e,"onChange")).length&&(n=new Je("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zn=null,Ln=null;function Dn(t){Cu(t,0)}function jn(t){if(de(Xt(t)))return t}function Rn(t,e){if("change"===t)return e}var Bn=!1;if(ne){var Nn;if(ne){var Fn="oninput"in document;if(!Fn){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),Fn="function"===typeof $n.oninput}Nn=Fn}else Nn=!1;Bn=Nn&&(!document.documentMode||9<document.documentMode)}function Vn(){zn&&(zn.detachEvent("onpropertychange",Un),Ln=zn=null)}function Un(t){if("value"===t.propertyName&&jn(Ln)){var e=[];In(e,Ln,t,Oe(t)),je(Dn,e)}}function Zn(t,e,n){"focusin"===t?(Vn(),Ln=n,(zn=e).attachEvent("onpropertychange",Un)):"focusout"===t&&Vn()}function qn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return jn(Ln)}function Hn(t,e){if("click"===t)return jn(e)}function Wn(t,e){if("input"===t||"change"===t)return jn(e)}var Gn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function Xn(t,e){if(Gn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(e,i)||!Gn(t[i],e[i]))return!1}return!0}function Kn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yn(t,e){var n,r=Kn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Kn(r)}}function Jn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?Jn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function Qn(t){for(var e=pe((t=null!=t&&null!=t.ownerDocument&&null!=t.ownerDocument.defaultView?t.ownerDocument.defaultView:window).document);e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=pe((t=e.contentWindow).document)}return e}function tr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function er(t,e){var n=Qn(e);e=t.focusedElem;var r=t.selectionRange;if(n!==e&&e&&e.ownerDocument&&Jn(e.ownerDocument.documentElement,e)){if(null!==r&&tr(e))if(t=r.start,void 0===(n=r.end)&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if((n=(t=e.ownerDocument||document)&&t.defaultView||window).getSelection){n=n.getSelection();var i=e.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=Yn(e,o);var a=Yn(e,r);i&&a&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(t),n.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),n.addRange(t)))}for(t=[],n=e;n=n.parentNode;)1===n.nodeType&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof e.focus&&e.focus(),e=0;e<t.length;e++)(n=t[e]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=ne&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,ar=!1;function sr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==pe(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Xn(or,r)||(or=r,0<(r=ju(ir,"onSelect")).length&&(e=new Je("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rr)))}function lr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(t){if(ur[t])return ur[t];if(!cr[t])return t;var e,n=cr[t];for(e in n)if(n.hasOwnProperty(e)&&e in hr)return ur[t]=n[e];return t}ne&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=dr("animationend"),fr=dr("animationiteration"),mr=dr("animationstart"),gr=dr("transitionrun"),yr=dr("transitionstart"),vr=dr("transitioncancel"),_r=dr("transitionend"),br=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function wr(t,e){br.set(t,e),te(e,[t])}var Sr=[],kr=0,Pr=0;function Tr(){for(var t=kr,e=Pr=kr=0;e<t;){var n=Sr[e];Sr[e++]=null;var r=Sr[e];Sr[e++]=null;var i=Sr[e];Sr[e++]=null;var o=Sr[e];if(Sr[e++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Mr(n,i,o)}}function Er(t,e,n,r){Sr[kr++]=t,Sr[kr++]=e,Sr[kr++]=n,Sr[kr++]=r,Pr|=r,t.lanes|=r,null!==(t=t.alternate)&&(t.lanes|=r)}function Cr(t,e,n,r){return Er(t,e,n,r),Or(t)}function Ar(t,e){return Er(t,null,null,e),Or(t)}function Mr(t,e,n){t.lanes|=n;var r=t.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=t.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(t=o.stateNode)||1&t._visibility||(i=!0)),t=o,o=o.return;i&&null!==e&&3===t.tag&&(o=t.stateNode,i=31-bt(n),null===(t=(o=o.hiddenUpdates)[i])?o[i]=[e]:t.push(e),e.lane=536870912|n)}function Or(t){if(50<Cc)throw Cc=0,Ac=null,Error(a(185));for(var e=t.return;null!==e;)e=(t=e).return;return 3===t.tag?t.stateNode:null}var Ir={},zr=new WeakMap;function Lr(t,e){if("object"===typeof t&&null!==t){var n=zr.get(t);return void 0!==n?n:(e={value:t,source:e,stack:j(e)},zr.set(t,e),e)}return{value:t,source:e,stack:j(e)}}var Dr=[],jr=0,Rr=null,Br=0,Nr=[],Fr=0,$r=null,Vr=1,Ur="";function Zr(t,e){Dr[jr++]=Br,Dr[jr++]=Rr,Rr=t,Br=e}function qr(t,e,n){Nr[Fr++]=Vr,Nr[Fr++]=Ur,Nr[Fr++]=$r,$r=t;var r=Vr;t=Ur;var i=32-bt(r)-1;r&=~(1<<i),n+=1;var o=32-bt(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Vr=1<<32-bt(e)+i|n<<i|r,Ur=o+t}else Vr=1<<o|n<<i|r,Ur=t}function Hr(t){null!==t.return&&(Zr(t,1),qr(t,1,0))}function Wr(t){for(;t===Rr;)Rr=Dr[--jr],Dr[jr]=null,Br=Dr[--jr],Dr[jr]=null;for(;t===$r;)$r=Nr[--Fr],Nr[Fr]=null,Ur=Nr[--Fr],Nr[Fr]=null,Vr=Nr[--Fr],Nr[Fr]=null}var Gr=null,Xr=null,Kr=!1,Yr=null,Jr=!1,Qr=Error(a(519));function ti(t){throw oi(Lr(Error(a(418,"")),t)),Qr}function ei(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Bt]=t,e[Nt]=r,n){case"dialog":Au("cancel",e),Au("close",e);break;case"iframe":case"object":case"embed":Au("load",e);break;case"video":case"audio":for(n=0;n<Tu.length;n++)Au(Tu[n],e);break;case"source":Au("error",e);break;case"img":case"image":case"link":Au("error",e),Au("load",e);break;case"details":Au("toggle",e);break;case"input":Au("invalid",e),ye(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),he(e);break;case"select":Au("invalid",e);break;case"textarea":Au("invalid",e),xe(e,r.value,r.defaultValue,r.children),he(e)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||e.textContent===""+n||!0===r.suppressHydrationWarning||Vu(e.textContent,n)?(null!=r.popover&&(Au("beforetoggle",e),Au("toggle",e)),null!=r.onScroll&&Au("scroll",e),null!=r.onScrollEnd&&Au("scrollend",e),null!=r.onClick&&(e.onclick=Uu),e=!0):e=!1,e||ti(t)}function ni(t){for(Gr=t.return;Gr;)switch(Gr.tag){case 3:case 27:return void(Jr=!0);case 5:case 13:return void(Jr=!1);default:Gr=Gr.return}}function ri(t){if(t!==Gr)return!1;if(!Kr)return ni(t),Kr=!0,!1;var e,n=!1;if((e=3!==t.tag&&27!==t.tag)&&((e=5===t.tag)&&(e=!("form"!==(e=t.type)&&"button"!==e)||Ju(t.type,t.memoizedProps)),e=!e),e&&(n=!0),n&&Xr&&ti(t),ni(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(8===t.nodeType)if("/$"===(e=t.data)){if(0===n){Xr=sh(t.nextSibling);break t}n--}else"$"!==e&&"$!"!==e&&"$?"!==e||n++;t=t.nextSibling}Xr=null}}else Xr=Gr?sh(t.stateNode.nextSibling):null;return!0}function ii(){Xr=Gr=null,Kr=!1}function oi(t){null===Yr?Yr=[t]:Yr.push(t)}var ai=Error(a(460)),si=Error(a(474)),li={then:function(){}};function ci(t){return"fulfilled"===(t=t.status)||"rejected"===t}function ui(){}function hi(t,e,n){switch(void 0===(n=t[n])?t.push(e):n!==e&&(e.then(ui,ui),e=n),e.status){case"fulfilled":return e.value;case"rejected":if((t=e.reason)===ai)throw Error(a(483));throw t;default:if("string"===typeof e.status)e.then(ui,ui);else{if(null!==(t=ec)&&100<t.shellSuspendCounter)throw Error(a(482));(t=e).status="pending",t.then((function(t){if("pending"===e.status){var n=e;n.status="fulfilled",n.value=t}}),(function(t){if("pending"===e.status){var n=e;n.status="rejected",n.reason=t}}))}switch(e.status){case"fulfilled":return e.value;case"rejected":if((t=e.reason)===ai)throw Error(a(483));throw t}throw di=e,ai}}var di=null;function pi(){if(null===di)throw Error(a(459));var t=di;return di=null,t}var fi=null,mi=0;function gi(t){var e=mi;return mi+=1,null===fi&&(fi=[]),hi(fi,t,e)}function yi(t,e){e=e.props.ref,t.ref=void 0!==e?e:null}function vi(t,e){if(e.$$typeof===l)throw Error(a(525));throw t=Object.prototype.toString.call(e),Error(a(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _i(t){return(0,t._init)(t._payload)}function bi(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t){for(var e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(t,e){return(t=Rl(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=33554434,n):r:(e.flags|=33554434,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=33554434),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Vl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n,r){var o=n.type;return o===h?f(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===x&&_i(o)===e.type)?(yi(e=i(e,n.props),n),e.return=t,e):(yi(e=Nl(n.type,n.key,n.props,null,t.mode,r),n),e.return=t,e)}function p(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Ul(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=Fl(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function m(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e||"bigint"===typeof e)return(e=Vl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case c:return yi(n=Nl(e.type,e.key,e.props,null,t.mode,n),e),n.return=t,n;case u:return(e=Ul(e,t.mode,n)).return=t,e;case x:return m(t,e=(0,e._init)(e._payload),n)}if($(e)||P(e))return(e=Fl(e,t.mode,n,null)).return=t,e;if("function"===typeof e.then)return m(t,gi(e),n);if(e.$$typeof===g)return m(t,Ts(t,e),n);vi(t,e)}return null}function y(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?d(t,e,n,r):null;case u:return n.key===i?p(t,e,n,r):null;case x:return y(t,e,n=(i=n._init)(n._payload),r)}if($(n)||P(n))return null!==i?null:f(t,e,n,r,null);if("function"===typeof n.then)return y(t,e,gi(n),r);if(n.$$typeof===g)return y(t,e,Ts(t,n),r);vi(t,n)}return null}function v(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return d(e,t=t.get(null===r.key?n:r.key)||null,r,i);case u:return p(e,t=t.get(null===r.key?n:r.key)||null,r,i);case x:return v(t,e,n,r=(0,r._init)(r._payload),i)}if($(r)||P(r))return f(e,t=t.get(n)||null,r,i,null);if("function"===typeof r.then)return v(t,e,n,gi(r),i);if(r.$$typeof===g)return v(t,e,n,Ts(e,r),i);vi(e,r)}return null}function _(l,d,p,f){if("object"===typeof p&&null!==p&&p.type===h&&null===p.key&&(p=p.props.children),"object"===typeof p&&null!==p){switch(p.$$typeof){case c:t:{for(var b=p.key;null!==d;){if(d.key===b){if((b=p.type)===h){if(7===d.tag){n(l,d.sibling),(f=i(d,p.props.children)).return=l,l=f;break t}}else if(d.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===x&&_i(b)===d.type){n(l,d.sibling),yi(f=i(d,p.props),p),f.return=l,l=f;break t}n(l,d);break}e(l,d),d=d.sibling}p.type===h?((f=Fl(p.props.children,l.mode,f,p.key)).return=l,l=f):(yi(f=Nl(p.type,p.key,p.props,null,l.mode,f),p),f.return=l,l=f)}return s(l);case u:t:{for(b=p.key;null!==d;){if(d.key===b){if(4===d.tag&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(l,d.sibling),(f=i(d,p.children||[])).return=l,l=f;break t}n(l,d);break}e(l,d),d=d.sibling}(f=Ul(p,l.mode,f)).return=l,l=f}return s(l);case x:return _(l,d,p=(b=p._init)(p._payload),f)}if($(p))return function(i,a,s,l){for(var c=null,u=null,h=a,d=a=0,p=null;null!==h&&d<s.length;d++){h.index>d?(p=h,h=null):p=h.sibling;var f=y(i,h,s[d],l);if(null===f){null===h&&(h=p);break}t&&h&&null===f.alternate&&e(i,h),a=o(f,a,d),null===u?c=f:u.sibling=f,u=f,h=p}if(d===s.length)return n(i,h),Kr&&Zr(i,d),c;if(null===h){for(;d<s.length;d++)null!==(h=m(i,s[d],l))&&(a=o(h,a,d),null===u?c=h:u.sibling=h,u=h);return Kr&&Zr(i,d),c}for(h=r(h);d<s.length;d++)null!==(p=v(h,i,d,s[d],l))&&(t&&null!==p.alternate&&h.delete(null===p.key?d:p.key),a=o(p,a,d),null===u?c=p:u.sibling=p,u=p);return t&&h.forEach((function(t){return e(i,t)})),Kr&&Zr(i,d),c}(l,d,p,f);if(P(p)){if("function"!==typeof(b=P(p)))throw Error(a(150));return function(i,s,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,d=s,p=s=0,f=null,g=l.next();null!==d&&!g.done;p++,g=l.next()){d.index>p?(f=d,d=null):f=d.sibling;var _=y(i,d,g.value,c);if(null===_){null===d&&(d=f);break}t&&d&&null===_.alternate&&e(i,d),s=o(_,s,p),null===h?u=_:h.sibling=_,h=_,d=f}if(g.done)return n(i,d),Kr&&Zr(i,p),u;if(null===d){for(;!g.done;p++,g=l.next())null!==(g=m(i,g.value,c))&&(s=o(g,s,p),null===h?u=g:h.sibling=g,h=g);return Kr&&Zr(i,p),u}for(d=r(d);!g.done;p++,g=l.next())null!==(g=v(d,i,p,g.value,c))&&(t&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=o(g,s,p),null===h?u=g:h.sibling=g,h=g);return t&&d.forEach((function(t){return e(i,t)})),Kr&&Zr(i,p),u}(l,d,p=b.call(p),f)}if("function"===typeof p.then)return _(l,d,gi(p),f);if(p.$$typeof===g)return _(l,d,Ts(l,p),f);vi(l,p)}return"string"===typeof p&&""!==p||"number"===typeof p||"bigint"===typeof p?(p=""+p,null!==d&&6===d.tag?(n(l,d.sibling),(f=i(d,p)).return=l,l=f):(n(l,d),(f=Vl(p,l.mode,f)).return=l,l=f),s(l)):n(l,d)}return function(t,e,n,r){try{mi=0;var i=_(t,e,n,r);return fi=null,i}catch(a){if(a===ai)throw a;var o=Dl(29,a,null,t.mode);return o.lanes=r,o.return=t,o}}}var xi=bi(!0),wi=bi(!1),Si=H(null),ki=H(0);function Pi(t,e){G(ki,t=cc),G(Si,e),cc=t|e.baseLanes}function Ti(){G(ki,cc),G(Si,Si.current)}function Ei(){cc=ki.current,W(Si),W(ki)}var Ci=H(null),Ai=null;function Mi(t){var e=t.alternate;G(Li,1&Li.current),G(Ci,t),null===Ai&&(null===e||null!==Si.current||null!==e.memoizedState)&&(Ai=t)}function Oi(t){if(22===t.tag){if(G(Li,Li.current),G(Ci,t),null===Ai){var e=t.alternate;null!==e&&null!==e.memoizedState&&(Ai=t)}}else Ii()}function Ii(){G(Li,Li.current),G(Ci,Ci.current)}function zi(t){W(Ci),Ai===t&&(Ai=null),W(Li)}var Li=H(0);function Di(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ji="undefined"!==typeof AbortController?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(e,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach((function(t){return t()}))}},Ri=r.unstable_scheduleCallback,Bi=r.unstable_NormalPriority,Ni={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fi(){return{controller:new ji,data:new Map,refCount:0}}function $i(t){t.refCount--,0===t.refCount&&Ri(Bi,(function(){t.controller.abort()}))}var Vi=null,Ui=0,Zi=0,qi=null;function Hi(){if(0===--Ui&&null!==Vi){null!==qi&&(qi.status="fulfilled");var t=Vi;Vi=null,Zi=0,qi=null;for(var e=0;e<t.length;e++)(0,t[e])()}}var Wi=M.S;M.S=function(t,e){"object"===typeof e&&null!==e&&"function"===typeof e.then&&function(t,e){if(null===Vi){var n=Vi=[];Ui=0,Zi=xu(),qi={status:"pending",value:void 0,then:function(t){n.push(t)}}}Ui++,e.then(Hi,Hi)}(0,e),null!==Wi&&Wi(t,e)};var Gi=H(null);function Xi(){var t=Gi.current;return null!==t?t:ec.pooledCache}function Ki(t,e){G(Gi,null===e?Gi.current:e.pool)}function Yi(){var t=Xi();return null===t?null:{parent:Ni._currentValue,pool:t}}var Ji=0,Qi=null,to=null,eo=null,no=!1,ro=!1,io=!1,oo=0,ao=0,so=null,lo=0;function co(){throw Error(a(321))}function uo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gn(t[n],e[n]))return!1;return!0}function ho(t,e,n,r,i,o){return Ji=o,Qi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,M.H=null===t||null===t.memoizedState?Ta:Ea,io=!1,o=n(r,i),io=!1,ro&&(o=fo(e,n,r,i)),po(t),o}function po(t){M.H=Pa;var e=null!==to&&null!==to.next;if(Ji=0,eo=to=Qi=null,no=!1,ao=0,so=null,e)throw Error(a(300));null===t||Za||null!==(t=t.dependencies)&&Ss(t)&&(Za=!0)}function fo(t,e,n,r){Qi=t;var i=0;do{if(ro&&(so=null),ao=0,ro=!1,25<=i)throw Error(a(301));if(i+=1,eo=to=null,null!=t.updateQueue){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}M.H=Ca,o=e(n,r)}while(ro);return o}function mo(){var t=M.H,e=t.useState()[0];return e="function"===typeof e.then?xo(e):e,t=t.useState()[0],(null!==to?to.memoizedState:null)!==t&&(Qi.flags|=1024),e}function go(){var t=0!==oo;return oo=0,t}function yo(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function vo(t){if(no){for(t=t.memoizedState;null!==t;){var e=t.queue;null!==e&&(e.pending=null),t=t.next}no=!1}Ji=0,eo=to=Qi=null,ro=!1,ao=oo=0,so=null}function _o(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Qi.memoizedState=eo=t:eo=eo.next=t,eo}function bo(){if(null===to){var t=Qi.alternate;t=null!==t?t.memoizedState:null}else t=to.next;var e=null===eo?Qi.memoizedState:eo.next;if(null!==e)eo=e,to=t;else{if(null===t){if(null===Qi.alternate)throw Error(a(467));throw Error(a(310))}t={memoizedState:(to=t).memoizedState,baseState:to.baseState,baseQueue:to.baseQueue,queue:to.queue,next:null},null===eo?Qi.memoizedState=eo=t:eo=eo.next=t}return eo}function xo(t){var e=ao;return ao+=1,null===so&&(so=[]),t=hi(so,t,e),e=Qi,null===(null===eo?e.memoizedState:eo.next)&&(e=e.alternate,M.H=null===e||null===e.memoizedState?Ta:Ea),t}function wo(t){if(null!==t&&"object"===typeof t){if("function"===typeof t.then)return xo(t);if(t.$$typeof===g)return Ps(t)}throw Error(a(438,String(t)))}function So(t){var e=null,n=Qi.updateQueue;if(null!==n&&(e=n.memoCache),null==e){var r=Qi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(e={data:r.data.map((function(t){return t.slice()})),index:0})))}if(null==e&&(e={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Qi.updateQueue=n),n.memoCache=e,void 0===(n=e.data[e.index]))for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=S;return e.index++,n}function ko(t,e){return"function"===typeof e?e(t):e}function Po(t){return To(bo(),to,t)}function To(t,e,n){var r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=t.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}e.baseQueue=i=o,r.pending=null}if(o=t.baseState,null===i)t.memoizedState=o;else{var l=s=null,c=null,u=e=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(rc&d)===d:(Ji&d)===d){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Zi&&(h=!0);else{if((Ji&p)===p){u=u.next,p===Zi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,s=o):c=c.next=d,Qi.lanes|=p,hc|=p}d=u.action,io&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else p={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=o):c=c.next=p,Qi.lanes|=d,hc|=d;u=u.next}while(null!==u&&u!==e);if(null===c?s=o:c.next=l,!Gn(o,t.memoizedState)&&(Za=!0,h&&null!==(n=qi)))throw n;t.memoizedState=o,t.baseState=s,t.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Eo(t){var e=bo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);Gn(o,e.memoizedState)||(Za=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(t,e,n){var r=Qi,i=bo(),o=Kr;if(o){if(void 0===n)throw Error(a(407));n=n()}else n=e();var s=!Gn((to||i).memoizedState,n);if(s&&(i.memoizedState=n,Za=!0),i=i.queue,Qo(Oo.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||null!==eo&&1&eo.memoizedState.tag){if(r.flags|=2048,Go(9,Mo.bind(null,r,i,n,e),{destroy:void 0},null),null===ec)throw Error(a(349));o||0!==(60&Ji)||Ao(r,e,n)}return n}function Ao(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=Qi.updateQueue)?(e={lastEffect:null,events:null,stores:null,memoCache:null},Qi.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Mo(t,e,n,r){e.value=n,e.getSnapshot=r,Io(e)&&zo(t)}function Oo(t,e,n){return n((function(){Io(e)&&zo(t)}))}function Io(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gn(t,n)}catch(r){return!0}}function zo(t){var e=Ar(t,2);null!==e&&Ic(e,t,2)}function Lo(t){var e=_o();if("function"===typeof t){var n=t;if(t=n(),io){_t(!0);try{n()}finally{_t(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:t},e}function Do(t,e,n,r){return t.baseState=n,To(t,to,"function"===typeof r?r:ko)}function jo(t,e,n,r,i){if(wa(t))throw Error(a(485));if(null!==(t=e.action)){var o={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(t){o.listeners.push(t)}};null!==M.T?n(!0):o.isTransition=!1,r(o),null===(n=e.pending)?(o.next=e.pending=o,Ro(e,o)):(o.next=n.next,e.pending=n.next=o)}}function Ro(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var o=M.T,a={};M.T=a;try{var s=n(i,r),l=M.S;null!==l&&l(a,s),Bo(t,e,s)}catch(c){Fo(t,e,c)}finally{M.T=o}}else try{Bo(t,e,o=n(i,r))}catch(u){Fo(t,e,u)}}function Bo(t,e,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){No(t,e,n)}),(function(n){return Fo(t,e,n)})):No(t,e,n)}function No(t,e,n){e.status="fulfilled",e.value=n,$o(e),t.state=n,null!==(e=t.pending)&&((n=e.next)===e?t.pending=null:(n=n.next,e.next=n,Ro(t,n)))}function Fo(t,e,n){var r=t.pending;if(t.pending=null,null!==r){r=r.next;do{e.status="rejected",e.reason=n,$o(e),e=e.next}while(e!==r)}t.action=null}function $o(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Vo(t,e){return e}function Uo(t,e){if(Kr){var n=ec.formState;if(null!==n){t:{var r=Qi;if(Kr){if(Xr){e:{for(var i=Xr,o=Jr;8!==i.nodeType;){if(!o){i=null;break e}if(null===(i=sh(i.nextSibling))){i=null;break e}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){Xr=sh(i.nextSibling),r="F!"===i.data;break t}}ti(r)}r=!1}r&&(e=n[0])}}return(n=_o()).memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:e},n.queue=r,n=_a.bind(null,Qi,r),r.dispatch=n,r=Lo(!1),o=xa.bind(null,Qi,!1,r.queue),i={state:e,dispatch:null,action:t,pending:null},(r=_o()).queue=i,n=jo.bind(null,Qi,i,o,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function Zo(t){return qo(bo(),to,t)}function qo(t,e,n){e=To(t,e,Vo)[0],t=Po(ko)[0],e="object"===typeof e&&null!==e&&"function"===typeof e.then?xo(e):e;var r=bo(),i=r.queue,o=i.dispatch;return n!==r.memoizedState&&(Qi.flags|=2048,Go(9,Ho.bind(null,i,n),{destroy:void 0},null)),[e,o,t]}function Ho(t,e){t.action=e}function Wo(t){var e=bo(),n=to;if(null!==n)return qo(e,n,t);bo(),e=e.memoizedState;var r=(n=bo()).queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Go(t,e,n,r){return t={tag:t,create:e,inst:n,deps:r,next:null},null===(e=Qi.updateQueue)&&(e={lastEffect:null,events:null,stores:null,memoCache:null},Qi.updateQueue=e),null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Xo(){return bo().memoizedState}function Ko(t,e,n,r){var i=_o();Qi.flags|=t,i.memoizedState=Go(1|e,n,{destroy:void 0},void 0===r?null:r)}function Yo(t,e,n,r){var i=bo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==to&&null!==r&&uo(r,to.memoizedState.deps)?i.memoizedState=Go(e,n,o,r):(Qi.flags|=t,i.memoizedState=Go(1|e,n,o,r))}function Jo(t,e){Ko(8390656,8,t,e)}function Qo(t,e){Yo(2048,8,t,e)}function ta(t,e){return Yo(4,2,t,e)}function ea(t,e){return Yo(4,4,t,e)}function na(t,e){if("function"===typeof e){t=t();var n=e(t);return function(){"function"===typeof n?n():e(null)}}if(null!==e&&void 0!==e)return t=t(),e.current=t,function(){e.current=null}}function ra(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,Yo(4,4,na.bind(null,e,t),n)}function ia(){}function oa(t,e){var n=bo();e=void 0===e?null:e;var r=n.memoizedState;return null!==e&&uo(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aa(t,e){var n=bo();e=void 0===e?null:e;var r=n.memoizedState;if(null!==e&&uo(e,r[1]))return r[0];if(r=t(),io){_t(!0);try{t()}finally{_t(!1)}}return n.memoizedState=[r,e],r}function sa(t,e,n){return void 0===n||0!==(1073741824&Ji)?t.memoizedState=e:(t.memoizedState=n,t=Oc(),Qi.lanes|=t,hc|=t,n)}function la(t,e,n,r){return Gn(n,e)?n:null!==Si.current?(t=sa(t,n,r),Gn(t,e)||(Za=!0),t):0===(42&Ji)?(Za=!0,t.memoizedState=n):(t=Oc(),Qi.lanes|=t,hc|=t,e)}function ca(t,e,n,r,i){var o=V.p;V.p=0!==o&&8>o?o:8;var a=M.T,s={};M.T=s,xa(t,!1,e,n);try{var l=i(),c=M.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ba(t,e,function(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(t){n.push(t)}};return t.then((function(){r.status="fulfilled",r.value=e;for(var t=0;t<n.length;t++)(0,n[t])(e)}),(function(t){for(r.status="rejected",r.reason=t,t=0;t<n.length;t++)(0,n[t])(void 0)})),r}(l,r),Mc());else ba(t,e,r,Mc())}catch(u){ba(t,e,{then:function(){},status:"rejected",reason:u},Mc())}finally{V.p=o,M.T=a}}function ua(){}function ha(t,e,n,r){if(5!==t.tag)throw Error(a(476));var i=da(t).queue;ca(t,i,e,U,null===n?ua:function(){return pa(t),n(r)})}function da(t){var e=t.memoizedState;if(null!==e)return e;var n={};return(e={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:U},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:n},next:null},t.memoizedState=e,null!==(t=t.alternate)&&(t.memoizedState=e),e}function pa(t){ba(t,da(t).next.queue,{},Mc())}function fa(){return Ps(jh)}function ma(){return bo().memoizedState}function ga(){return bo().memoizedState}function ya(t){for(var e=t.return;null!==e;){switch(e.tag){case 24:case 3:var n=Mc(),r=Is(e,t=Os(n),n);return null!==r&&(Ic(r,e,n),zs(r,e,n)),e={cache:Fi()},void(t.payload=e)}e=e.return}}function va(t,e,n){var r=Mc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},wa(t)?Sa(e,n):null!==(n=Cr(t,e,n,r))&&(Ic(n,t,r),ka(n,e,r))}function _a(t,e,n){ba(t,e,n,Mc())}function ba(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(wa(t))Sa(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Gn(s,a))return Er(t,e,i,0),null===ec&&Tr(),!1}catch(l){}if(null!==(n=Cr(t,e,i,r)))return Ic(n,t,r),ka(n,e,r),!0}return!1}function xa(t,e,n,r){if(r={lane:2,revertLane:xu(),action:r,hasEagerState:!1,eagerState:null,next:null},wa(t)){if(e)throw Error(a(479))}else null!==(e=Cr(t,n,r,2))&&Ic(e,t,2)}function wa(t){var e=t.alternate;return t===Qi||null!==e&&e===Qi}function Sa(t,e){ro=no=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ka(t,e,n){if(0!==(4194176&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,Lt(t,n)}}var Pa={readContext:Ps,use:wo,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useLayoutEffect:co,useInsertionEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useDeferredValue:co,useTransition:co,useSyncExternalStore:co,useId:co};Pa.useCacheRefresh=co,Pa.useMemoCache=co,Pa.useHostTransitionStatus=co,Pa.useFormState=co,Pa.useActionState=co,Pa.useOptimistic=co;var Ta={readContext:Ps,use:wo,useCallback:function(t,e){return _o().memoizedState=[t,void 0===e?null:e],t},useContext:Ps,useEffect:Jo,useImperativeHandle:function(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,Ko(4194308,4,na.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ko(4194308,4,t,e)},useInsertionEffect:function(t,e){Ko(4,2,t,e)},useMemo:function(t,e){var n=_o();e=void 0===e?null:e;var r=t();if(io){_t(!0);try{t()}finally{_t(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=_o();if(void 0!==n){var i=n(e);if(io){_t(!0);try{n(e)}finally{_t(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=va.bind(null,Qi,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},_o().memoizedState=t},useState:function(t){var e=(t=Lo(t)).queue,n=_a.bind(null,Qi,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ia,useDeferredValue:function(t,e){return sa(_o(),t,e)},useTransition:function(){var t=Lo(!1);return t=ca.bind(null,Qi,t.queue,!0,!1),_o().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Qi,i=_o();if(Kr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=e(),null===ec)throw Error(a(349));0!==(60&rc)||Ao(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Jo(Oo.bind(null,r,o,t),[t]),r.flags|=2048,Go(9,Mo.bind(null,r,o,n,e),{destroy:void 0},null),n},useId:function(){var t=_o(),e=ec.identifierPrefix;if(Kr){var n=Ur;e=":"+e+"R"+(n=(Vr&~(1<<32-bt(Vr)-1)).toString(32)+n),0<(n=oo++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=lo++).toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return _o().memoizedState=ya.bind(null,Qi)}};Ta.useMemoCache=So,Ta.useHostTransitionStatus=fa,Ta.useFormState=Uo,Ta.useActionState=Uo,Ta.useOptimistic=function(t){var e=_o();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=xa.bind(null,Qi,!0,n),n.dispatch=e,[t,e]};var Ea={readContext:Ps,use:wo,useCallback:oa,useContext:Ps,useEffect:Qo,useImperativeHandle:ra,useInsertionEffect:ta,useLayoutEffect:ea,useMemo:aa,useReducer:Po,useRef:Xo,useState:function(){return Po(ko)},useDebugValue:ia,useDeferredValue:function(t,e){return la(bo(),to.memoizedState,t,e)},useTransition:function(){var t=Po(ko)[0],e=bo().memoizedState;return["boolean"===typeof t?t:xo(t),e]},useSyncExternalStore:Co,useId:ma};Ea.useCacheRefresh=ga,Ea.useMemoCache=So,Ea.useHostTransitionStatus=fa,Ea.useFormState=Zo,Ea.useActionState=Zo,Ea.useOptimistic=function(t,e){return Do(bo(),0,t,e)};var Ca={readContext:Ps,use:wo,useCallback:oa,useContext:Ps,useEffect:Qo,useImperativeHandle:ra,useInsertionEffect:ta,useLayoutEffect:ea,useMemo:aa,useReducer:Eo,useRef:Xo,useState:function(){return Eo(ko)},useDebugValue:ia,useDeferredValue:function(t,e){var n=bo();return null===to?sa(n,t,e):la(n,to.memoizedState,t,e)},useTransition:function(){var t=Eo(ko)[0],e=bo().memoizedState;return["boolean"===typeof t?t:xo(t),e]},useSyncExternalStore:Co,useId:ma};function Aa(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:O({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}Ca.useCacheRefresh=ga,Ca.useMemoCache=So,Ca.useHostTransitionStatus=fa,Ca.useFormState=Wo,Ca.useActionState=Wo,Ca.useOptimistic=function(t,e){var n=bo();return null!==to?Do(n,0,t,e):(n.baseState=t,[t,n.queue.dispatch])};var Ma={isMounted:function(t){return!!(t=t._reactInternals)&&R(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mc(),i=Os(r);i.payload=e,void 0!==n&&null!==n&&(i.callback=n),null!==(e=Is(t,i,r))&&(Ic(e,t,r),zs(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mc(),i=Os(r);i.tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),null!==(e=Is(t,i,r))&&(Ic(e,t,r),zs(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mc(),r=Os(n);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Is(t,r,n))&&(Ic(e,t,n),zs(e,t,n))}};function Oa(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,o))}function Ia(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ma.enqueueReplaceState(e,e.state,null)}function za(t,e){var n=e;if("ref"in e)for(var r in n={},e)"ref"!==r&&(n[r]=e[r]);if(t=t.defaultProps)for(var i in n===e&&(n=O({},n)),t)void 0===n[i]&&(n[i]=t[i]);return n}var La="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function Da(t){La(t)}function ja(t){console.error(t)}function Ra(t){La(t)}function Ba(t,e){try{(0,t.onUncaughtError)(e.value,{componentStack:e.stack})}catch(n){setTimeout((function(){throw n}))}}function Na(t,e,n){try{(0,t.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===e.tag?e.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Fa(t,e,n){return(n=Os(n)).tag=3,n.payload={element:null},n.callback=function(){Ba(t,e)},n}function $a(t){return(t=Os(t)).tag=3,t}function Va(t,e,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;t.payload=function(){return i(o)},t.callback=function(){Na(e,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(t.callback=function(){Na(e,n,r),"function"!==typeof i&&(null===wc?wc=new Set([this]):wc.add(this));var t=r.stack;this.componentDidCatch(r.value,{componentStack:null!==t?t:""})})}var Ua=Error(a(461)),Za=!1;function qa(t,e,n,r){e.child=null===t?wi(e,null,n,r):xi(e,t.child,n,r)}function Ha(t,e,n,r,i){n=n.render;var o=e.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return ks(e),r=ho(t,e,n,a,o,i),s=go(),null===t||Za?(Kr&&s&&Hr(e),e.flags|=1,qa(t,e,r,i),e.child):(yo(t,e,i),ds(t,e,i))}function Wa(t,e,n,r,i){if(null===t){var o=n.type;return"function"!==typeof o||jl(o)||void 0!==o.defaultProps||null!==n.compare?((t=Nl(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ga(t,e,o,r,i))}if(o=t.child,!ps(t,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(a,r)&&t.ref===e.ref)return ds(t,e,i)}return e.flags|=1,(t=Rl(o,r)).ref=e.ref,t.return=e,e.child=t}function Ga(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(Xn(o,r)&&t.ref===e.ref){if(Za=!1,e.pendingProps=r=o,!ps(t,i))return e.lanes=t.lanes,ds(t,e,i);0!==(131072&t.flags)&&(Za=!0)}}return Ja(t,e,n,r,i)}function Xa(t,e,n){var r=e.pendingProps,i=r.children,o=0!==(2&e.stateNode._pendingVisibility),a=null!==t?t.memoizedState:null;if(Ya(t,e),"hidden"===r.mode||o){if(0!==(128&e.flags)){if(r=null!==a?a.baseLanes|n:n,null!==t){for(i=e.child=t.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;e.childLanes=o&~r}else e.childLanes=0,e.child=null;return Ka(t,e,r,n)}if(0===(536870912&n))return e.lanes=e.childLanes=536870912,Ka(t,e,null!==a?a.baseLanes|n:n,n);e.memoizedState={baseLanes:0,cachePool:null},null!==t&&Ki(0,null!==a?a.cachePool:null),null!==a?Pi(e,a):Ti(),Oi(e)}else null!==a?(Ki(0,a.cachePool),Pi(e,a),Ii(),e.memoizedState=null):(null!==t&&Ki(0,null),Ti(),Ii());return qa(t,e,i,n),e.child}function Ka(t,e,n,r){var i=Xi();return i=null===i?null:{parent:Ni._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},null!==t&&Ki(0,null),Ti(),Oi(e),null!==t&&ws(t,e,r,!0),null}function Ya(t,e){var n=e.ref;if(null===n)null!==t&&null!==t.ref&&(e.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==t&&t.ref===n||(e.flags|=2097664)}}function Ja(t,e,n,r,i){return ks(e),n=ho(t,e,n,r,void 0,i),r=go(),null===t||Za?(Kr&&r&&Hr(e),e.flags|=1,qa(t,e,n,i),e.child):(yo(t,e,i),ds(t,e,i))}function Qa(t,e,n,r,i,o){return ks(e),e.updateQueue=null,n=fo(e,r,n,i),po(t),r=go(),null===t||Za?(Kr&&r&&Hr(e),e.flags|=1,qa(t,e,n,o),e.child):(yo(t,e,o),ds(t,e,o))}function ts(t,e,n,r,i){if(ks(e),null===e.stateNode){var o=Ir,a=n.contextType;"object"===typeof a&&null!==a&&(o=Ps(a)),o=new n(r,o),e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Ma,e.stateNode=o,o._reactInternals=e,(o=e.stateNode).props=r,o.state=e.memoizedState,o.refs={},As(e),a=n.contextType,o.context="object"===typeof a&&null!==a?Ps(a):Ir,o.state=e.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(Aa(e,n,a,r),o.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&Ma.enqueueReplaceState(o,o.state,null),Rs(e,r,o,i),js(),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308),r=!0}else if(null===t){o=e.stateNode;var s=e.memoizedProps,l=za(n,s);o.props=l;var c=o.context,u=n.contextType;a=Ir,"object"===typeof u&&null!==u&&(a=Ps(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate,s=e.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==a)&&Ia(e,o,r,a),Cs=!1;var d=e.memoizedState;o.state=d,Rs(e,r,o,i),js(),c=e.memoizedState,s||d!==c||Cs?("function"===typeof h&&(Aa(e,n,h,r),c=e.memoizedState),(l=Cs||Oa(e,n,l,r,d,c,a))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):("function"===typeof o.componentDidMount&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ms(t,e),u=za(n,a=e.memoizedProps),o.props=u,h=e.pendingProps,d=o.context,c=n.contextType,l=Ir,"object"===typeof c&&null!==c&&(l=Ps(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Ia(e,o,r,l),Cs=!1,d=e.memoizedState,o.state=d,Rs(e,r,o,i),js();var p=e.memoizedState;a!==h||d!==p||Cs||null!==t&&null!==t.dependencies&&Ss(t.dependencies)?("function"===typeof s&&(Aa(e,n,s,r),p=e.memoizedState),(u=Cs||Oa(e,n,u,r,d,p,l)||null!==t&&null!==t.dependencies&&Ss(t.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return o=r,Ya(t,e),r=0!==(128&e.flags),o||r?(o=e.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),e.flags|=1,null!==t&&r?(e.child=xi(e,t.child,null,i),e.child=xi(e,null,n,i)):qa(t,e,n,i),e.memoizedState=o.state,t=e.child):t=ds(t,e,i),t}function es(t,e,n,r){return ii(),e.flags|=256,qa(t,e,n,r),e.child}var ns={dehydrated:null,treeContext:null,retryLane:0};function rs(t){return{baseLanes:t,cachePool:Yi()}}function is(t,e,n){return t=null!==t?t.childLanes&~n:0,e&&(t|=fc),t}function os(t,e,n){var r,i=e.pendingProps,o=!1,s=0!==(128&e.flags);if((r=s)||(r=(null===t||null!==t.memoizedState)&&0!==(2&Li.current)),r&&(o=!0,e.flags&=-129),r=0!==(32&e.flags),e.flags&=-33,null===t){if(Kr){if(o?Mi(e):Ii(),Kr){var l,c=Xr;if(l=c){t:{for(l=c,c=Jr;8!==l.nodeType;){if(!c){c=null;break t}if(null===(l=sh(l.nextSibling))){c=null;break t}}c=l}null!==c?(e.memoizedState={dehydrated:c,treeContext:null!==$r?{id:Vr,overflow:Ur}:null,retryLane:536870912},(l=Dl(18,null,null,0)).stateNode=c,l.return=e,e.child=l,Gr=e,Xr=null,l=!0):l=!1}l||ti(e)}if(null!==(c=e.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?e.lanes=16:e.lanes=536870912,null;zi(e)}return c=i.children,i=i.fallback,o?(Ii(),c=ss({mode:"hidden",children:c},o=e.mode),i=Fl(i,o,n,null),c.return=e,i.return=e,c.sibling=i,e.child=c,(o=e.child).memoizedState=rs(n),o.childLanes=is(t,r,n),e.memoizedState=ns,i):(Mi(e),as(e,c))}if(null!==(l=t.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&e.flags?(Mi(e),e.flags&=-257,e=ls(t,e,n)):null!==e.memoizedState?(Ii(),e.child=t.child,e.flags|=128,e=null):(Ii(),o=i.fallback,c=e.mode,i=ss({mode:"visible",children:i.children},c),(o=Fl(o,c,n,null)).flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,xi(e,t.child,null,n),(i=e.child).memoizedState=rs(n),i.childLanes=is(t,r,n),e.memoizedState=ns,e=o);else if(Mi(e),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,oi({value:i,source:null,stack:null}),e=ls(t,e,n)}else if(Za||ws(t,e,n,!1),r=0!==(n&t.childLanes),Za||r){if(null!==(r=ec)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Ar(t,i),Ic(r,t,i),Ua}"$?"===c.data||Zc(),e=ls(t,e,n)}else"$?"===c.data?(e.flags|=128,e.child=t.child,e=su.bind(null,t),c._reactRetry=e,e=null):(t=l.treeContext,Xr=sh(c.nextSibling),Gr=e,Kr=!0,Yr=null,Jr=!1,null!==t&&(Nr[Fr++]=Vr,Nr[Fr++]=Ur,Nr[Fr++]=$r,Vr=t.id,Ur=t.overflow,$r=e),(e=as(e,i.children)).flags|=4096);return e}return o?(Ii(),o=i.fallback,c=e.mode,u=(l=t.child).sibling,(i=Rl(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?o=Rl(u,o):(o=Fl(o,c,n,null)).flags|=2,o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,null===(c=t.child.memoizedState)?c=rs(n):(null!==(l=c.cachePool)?(u=Ni._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Yi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=is(t,r,n),e.memoizedState=ns,i):(Mi(e),t=(n=t.child).sibling,(n=Rl(n,{mode:"visible",children:i.children})).return=e,n.sibling=null,null!==t&&(null===(r=e.deletions)?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function as(t,e){return(e=ss({mode:"visible",children:e},t.mode)).return=t,t.child=e}function ss(t,e){return $l(t,e,0,null)}function ls(t,e,n){return xi(e,t.child,null,n),(t=as(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function cs(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),bs(t.return,e,n)}function us(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function hs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(qa(t,e,r.children,n),0!==(2&(r=Li.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&cs(t,n,e);else if(19===t.tag)cs(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(G(Li,r),i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Di(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),us(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Di(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}us(e,!0,n,null,o);break;case"together":us(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ds(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),hc|=e.lanes,0===(n&e.childLanes)){if(null===t)return null;if(ws(t,e,n,!1),0===(n&e.childLanes))return null}if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Rl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Rl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function ps(t,e){return 0!==(t.lanes&e)||!(null===(t=t.dependencies)||!Ss(t))}function fs(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps)Za=!0;else{if(!ps(t,n)&&0===(128&e.flags))return Za=!1,function(t,e,n){switch(e.tag){case 3:Q(e,e.stateNode.containerInfo),vs(e,Ni,t.memoizedState.cache),ii();break;case 27:case 5:et(e);break;case 4:Q(e,e.stateNode.containerInfo);break;case 10:vs(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(null!==r)return null!==r.dehydrated?(Mi(e),e.flags|=128,null):0!==(n&e.child.childLanes)?os(t,e,n):(Mi(e),null!==(t=ds(t,e,n))?t.sibling:null);Mi(e);break;case 19:var i=0!==(128&t.flags);if((r=0!==(n&e.childLanes))||(ws(t,e,n,!1),r=0!==(n&e.childLanes)),i){if(r)return hs(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(Li,Li.current),r)break;return null;case 22:case 23:return e.lanes=0,Xa(t,e,n);case 24:vs(e,Ni,t.memoizedState.cache)}return ds(t,e,n)}(t,e,n);Za=0!==(131072&t.flags)}else Za=!1,Kr&&0!==(1048576&e.flags)&&qr(e,Br,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===y){e.tag=11,e=Ha(null,e,r,t,n);break t}if(i===b){e.tag=14,e=Wa(null,e,r,t,n);break t}}throw e=E(r)||r,Error(a(306,e,""))}jl(r)?(t=za(r,t),e.tag=1,e=ts(null,e,r,t,n)):(e.tag=0,e=Ja(null,e,r,t,n))}return e;case 0:return Ja(t,e,e.type,e.pendingProps,n);case 1:return ts(t,e,r=e.type,i=za(r,e.pendingProps),n);case 3:t:{if(Q(e,e.stateNode.containerInfo),null===t)throw Error(a(387));var o=e.pendingProps;r=(i=e.memoizedState).element,Ms(t,e),Rs(e,o,null,n);var s=e.memoizedState;if(o=s.cache,vs(e,Ni,o),o!==i.cache&&xs(e,[Ni],n,!0),js(),o=s.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,256&e.flags){e=es(t,e,o,n);break t}if(o!==r){oi(r=Lr(Error(a(424)),e)),e=es(t,e,o,n);break t}for(Xr=sh(e.stateNode.containerInfo.firstChild),Gr=e,Kr=!0,Yr=null,Jr=!0,n=wi(e,null,o,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),o===r){e=ds(t,e,n);break t}qa(t,e,o,n)}e=e.child}return e;case 26:return Ya(t,e),null===t?(n=gh(e.type,null,e.pendingProps,null))?e.memoizedState=n:Kr||(n=e.type,t=e.pendingProps,(r=Xu(Y.current).createElement(n))[Bt]=e,r[Nt]=t,Hu(r,n,t),Yt(r),e.stateNode=r):e.memoizedState=gh(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return et(e),null===t&&Kr&&(r=e.stateNode=ch(e.type,e.pendingProps,Y.current),Gr=e,Jr=!0,Xr=sh(r.firstChild)),r=e.pendingProps.children,null!==t||Kr?qa(t,e,r,n):e.child=xi(e,null,r,n),Ya(t,e),e.child;case 5:return null===t&&Kr&&((i=r=Xr)&&(null!==(r=function(t,e,n,r){for(;1===t.nodeType;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&("INPUT"!==t.nodeName||"hidden"!==t.type))break}else if(r){if(!t[qt])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if("stylesheet"===(o=t.getAttribute("rel"))&&t.hasAttribute("data-precedence"))break;if(o!==i.rel||t.getAttribute("href")!==(null==i.href?null:i.href)||t.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||t.getAttribute("title")!==(null==i.title?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(((o=t.getAttribute("src"))!==(null==i.src?null:i.src)||t.getAttribute("type")!==(null==i.type?null:i.type)||t.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else{if("input"!==e||"hidden"!==t.type)return t;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&t.getAttribute("name")===o)return t}if(null===(t=sh(t.nextSibling)))break}return null}(r,e.type,e.pendingProps,Jr))?(e.stateNode=r,Gr=e,Xr=sh(r.firstChild),Jr=!1,i=!0):i=!1),i||ti(e)),et(e),i=e.type,o=e.pendingProps,s=null!==t?t.memoizedProps:null,r=o.children,Ju(i,o)?r=null:null!==s&&Ju(i,s)&&(e.flags|=32),null!==e.memoizedState&&(i=ho(t,e,mo,null,null,n),jh._currentValue=i),Ya(t,e),qa(t,e,r,n),e.child;case 6:return null===t&&Kr&&((t=n=Xr)&&(null!==(n=function(t,e,n){if(""===e)return null;for(;3!==t.nodeType;){if((1!==t.nodeType||"INPUT"!==t.nodeName||"hidden"!==t.type)&&!n)return null;if(null===(t=sh(t.nextSibling)))return null}return t}(n,e.pendingProps,Jr))?(e.stateNode=n,Gr=e,Xr=null,t=!0):t=!1),t||ti(e)),null;case 13:return os(t,e,n);case 4:return Q(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=xi(e,null,r,n):qa(t,e,r,n),e.child;case 11:return Ha(t,e,e.type,e.pendingProps,n);case 7:return qa(t,e,e.pendingProps,n),e.child;case 8:case 12:return qa(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,vs(e,e.type,r.value),qa(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,ks(e),r=r(i=Ps(i)),e.flags|=1,qa(t,e,r,n),e.child;case 14:return Wa(t,e,e.type,e.pendingProps,n);case 15:return Ga(t,e,e.type,e.pendingProps,n);case 19:return hs(t,e,n);case 22:return Xa(t,e,n);case 24:return ks(e),r=Ps(Ni),null===t?(null===(i=Xi())&&(i=ec,o=Fi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),e.memoizedState={parent:r,cache:i},As(e),vs(e,Ni,i)):(0!==(t.lanes&n)&&(Ms(t,e),Rs(e,null,null,n),js()),i=t.memoizedState,o=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,0===e.lanes&&(e.memoizedState=e.updateQueue.baseState=i),vs(e,Ni,r)):(r=o.cache,vs(e,Ni,r),r!==i.cache&&xs(e,[Ni],n,!0))),qa(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(a(156,e.tag))}var ms=H(null),gs=null,ys=null;function vs(t,e,n){G(ms,e._currentValue),e._currentValue=n}function _s(t){t._currentValue=ms.current,W(ms)}function bs(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xs(t,e,n,r){var i=t.child;for(null!==i&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;t:for(;null!==o;){var l=o;o=i;for(var c=0;c<e.length;c++)if(l.context===e[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),bs(o.return,n,t),r||(s=null);break t}o=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),bs(s,n,t),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function ws(t,e,n,r){t=null;for(var i=e,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;Gn(i.pendingProps.value,s.value)||(null!==t?t.push(l):t=[l])}}else if(i===J.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==t?t.push(jh):t=[jh])}i=i.return}null!==t&&xs(e,t,n,r),e.flags|=262144}function Ss(t){for(t=t.firstContext;null!==t;){if(!Gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ks(t){gs=t,ys=null,null!==(t=t.dependencies)&&(t.firstContext=null)}function Ps(t){return Es(gs,t)}function Ts(t,e){return null===gs&&ks(t),Es(t,e)}function Es(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},null===ys){if(null===t)throw Error(a(308));ys=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ys=ys.next=e;return n}var Cs=!1;function As(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ms(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Is(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&tc)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Or(t),Mr(t,null,n),e}return Er(t,r,e,n),Or(t)}function zs(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194176&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,Lt(t,n)}}function Ls(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Ds=!1;function js(){if(Ds){if(null!==qi)throw qi}}function Rs(t,e,n,r){Ds=!1;var i=t.updateQueue;Cs=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=t.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,u=c=l=null,s=o;;){var d=-536870913&s.lane,p=d!==s.lane;if(p?(rc&d)===d:(r&d)===d){0!==d&&d===Zi&&(Ds=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});t:{var f=t,m=s;d=e;var g=n;switch(m.tag){case 1:if("function"===typeof(f=m.payload)){h=f.call(g,h,d);break t}h=f;break t;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=m.payload)?f.call(g,h,d):f)||void 0===d)break t;h=O({},h,d);break t;case 2:Cs=!0}}null!==(d=s.callback)&&(t.flags|=64,p&&(t.flags|=8192),null===(p=i.callbacks)?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),hc|=a,t.lanes=a,t.memoizedState=h}}function Bs(t,e){if("function"!==typeof t)throw Error(a(191,t));t.call(e)}function Ns(t,e){var n=t.callbacks;if(null!==n)for(t.callbacks=null,t=0;t<n.length;t++)Bs(n[t],e)}function Fs(t,e){try{var n=e.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){ru(e,e.return,s)}}function $s(t,e,n){try{var r=e.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&t)===t){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=e;var l=n;try{s()}catch(c){ru(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){ru(e,e.return,c)}}function Vs(t){var e=t.updateQueue;if(null!==e){var n=t.stateNode;try{Ns(e,n)}catch(r){ru(t,t.return,r)}}}function Us(t,e,n){n.props=za(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){ru(t,e,r)}}function Zs(t,e){try{var n=t.ref;if(null!==n){var r=t.stateNode;switch(t.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?t.refCleanup=n(i):n.current=i}}catch(o){ru(t,e,o)}}function qs(t,e){var n=t.ref,r=t.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){ru(t,e,i)}finally{t.refCleanup=null,null!=(t=t.alternate)&&(t.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){ru(t,e,o)}else n.current=null}function Hs(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break t;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){ru(t,t.return,i)}}function Ws(t,e,n){try{var r=t.stateNode;!function(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,l=null,c=null,u=null,h=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&null!=d)switch(f){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(f)||Zu(t,e,f,null,r,d)}}for(var p in r){var f=r[p];if(d=n[p],r.hasOwnProperty(p)&&(null!=f||null!=d))switch(p){case"type":o=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":h=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,e));break;default:f!==d&&Zu(t,e,p,f,r,d)}}return void ge(t,s,l,c,u,h,o,i);case"select":for(o in f=s=l=p=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(o)||Zu(t,e,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":p=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&Zu(t,e,i,o,r,c)}return e=l,n=s,r=f,void(null!=p?_e(t,!!n,p,!1):!!r!==!!n&&(null!=e?_e(t,!!n,e,!0):_e(t,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(t,e,l,null,r,i)}for(s in r)if(i=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&Zu(t,e,s,i,r,o)}return void be(t,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)t.selected=!1;else Zu(t,e,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)t.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Zu(t,e,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Zu(t,e,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,e));break;default:Zu(t,e,u,p,r,f)}return;default:if(Te(e)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!r.hasOwnProperty(y)&&qu(t,e,y,void 0,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||void 0===p&&void 0===f||qu(t,e,h,p,r,f);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&Zu(t,e,v,null,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||null==p&&null==f||Zu(t,e,d,p,r,f)}(r,t.type,n,e),r[Nt]=e}catch(i){ru(t,t.return,i)}}function Gs(t){return 5===t.tag||3===t.tag||26===t.tag||27===t.tag||4===t.tag}function Xs(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||Gs(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&27!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function Ks(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Uu));else if(4!==r&&27!==r&&null!==(t=t.child))for(Ks(t,e,n),t=t.sibling;null!==t;)Ks(t,e,n),t=t.sibling}function Ys(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&27!==r&&null!==(t=t.child))for(Ys(t,e,n),t=t.sibling;null!==t;)Ys(t,e,n),t=t.sibling}var Js=!1,Qs=!1,tl=!1,el="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function il(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:yl(t,n),4&r&&Fs(5,n);break;case 1:if(yl(t,n),4&r)if(t=n.stateNode,null===e)try{t.componentDidMount()}catch(s){ru(n,n.return,s)}else{var i=za(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&Vs(n),512&r&&Zs(n,n.return);break;case 3:if(yl(t,n),64&r&&null!==(r=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ns(r,t)}catch(s){ru(n,n.return,s)}}break;case 26:yl(t,n),512&r&&Zs(n,n.return);break;case 27:case 5:yl(t,n),null===e&&4&r&&Hs(n),512&r&&Zs(n,n.return);break;case 12:default:yl(t,n);break;case 13:yl(t,n),4&r&&ul(t,n);break;case 22:if(!(i=null!==n.memoizedState||Js)){e=null!==e&&null!==e.memoizedState||Qs;var o=Js,a=Qs;Js=i,(Qs=e)&&!a?_l(t,n,0!==(8772&n.subtreeFlags)):yl(t,n),Js=o,Qs=a}512&r&&("manual"===n.memoizedProps.mode?Zs(n,n.return):qs(n,n.return))}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&Ht(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var al=null,sl=!1;function ll(t,e,n){for(n=n.child;null!==n;)cl(t,e,n),n=n.sibling}function cl(t,e,n){if(vt&&"function"===typeof vt.onCommitFiberUnmount)try{vt.onCommitFiberUnmount(yt,n)}catch(a){}switch(n.tag){case 26:Qs||qs(n,e),ll(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Qs||qs(n,e);var r=al,i=sl;for(al=n.stateNode,ll(t,e,n),e=(n=n.stateNode).attributes;e.length;)n.removeAttributeNode(e[0]);Ht(n),al=r,sl=i;break;case 5:Qs||qs(n,e);case 6:i=al;var o=sl;if(al=null,ll(t,e,n),sl=o,null!==(al=i))if(sl)try{t=al,r=n.stateNode,8===t.nodeType?t.parentNode.removeChild(r):t.removeChild(r)}catch(s){ru(n,e,s)}else try{al.removeChild(n.stateNode)}catch(s){ru(n,e,s)}break;case 18:null!==al&&(sl?(e=al,n=n.stateNode,8===e.nodeType?oh(e.parentNode,n):1===e.nodeType&&oh(e,n),md(e)):oh(al,n.stateNode));break;case 4:r=al,i=sl,al=n.stateNode.containerInfo,sl=!0,ll(t,e,n),al=r,sl=i;break;case 0:case 11:case 14:case 15:Qs||$s(2,n,e),Qs||$s(4,n,e),ll(t,e,n);break;case 1:Qs||(qs(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount&&Us(n,e,r)),ll(t,e,n);break;case 21:ll(t,e,n);break;case 22:Qs||qs(n,e),Qs=(r=Qs)||null!==n.memoizedState,ll(t,e,n),Qs=r;break;default:ll(t,e,n)}}function ul(t,e){if(null===e.memoizedState&&(null!==(t=e.alternate)&&(null!==(t=t.memoizedState)&&null!==(t=t.dehydrated))))try{md(t)}catch(n){ru(e,e.return,n)}}function hl(t,e){var n=function(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return null===e&&(e=t.stateNode=new el),e;case 22:return null===(e=(t=t.stateNode)._retryCache)&&(e=t._retryCache=new el),e;default:throw Error(a(435,t.tag))}}(t);e.forEach((function(e){var r=lu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}function dl(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,sl=!1;break t;case 3:case 4:al=l.stateNode.containerInfo,sl=!0;break t}l=l.return}if(null===al)throw Error(a(160));cl(o,s,i),al=null,sl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&e.subtreeFlags)for(e=e.child;null!==e;)fl(e,t),e=e.sibling}var pl=null;function fl(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dl(e,t),ml(t),4&r&&($s(3,t,t.return),Fs(3,t),$s(5,t,t.return));break;case 1:dl(e,t),ml(t),512&r&&(Qs||null===n||qs(n,n.return)),64&r&&Js&&(null!==(t=t.updateQueue)&&(null!==(r=t.callbacks)&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=pl;if(dl(e,t),ml(t),512&r&&(Qs||null===n||qs(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=t.memoizedState,null===n)if(null===r)if(null===t.stateNode){t:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;e:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[qt]||o[Bt]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),Hu(o,r,n),o[Bt]=t,Yt(o),r=o;break t;case"link":var s=Eh("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break e}Hu(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(s=Eh("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break e}Hu(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(a(468,r))}o[Bt]=t,Yt(o),r=o}t.stateNode=r}else Ch(i,t.type,t.stateNode);else t.stateNode=wh(i,r,t.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Ch(i,t.type,t.stateNode):wh(i,r,t.memoizedProps)):null===r&&null!==t.stateNode&&Ws(t,t.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===t.alternate){i=t.stateNode,o=t.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,h=c.nodeName;c[qt]||"HEAD"===h||"BODY"===h||"SCRIPT"===h||"STYLE"===h||"LINK"===h&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=u}for(var d=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Hu(i,d,o),i[Bt]=t,i[Nt]=o}catch(m){ru(t,t.return,m)}}case 5:if(dl(e,t),ml(t),512&r&&(Qs||null===n||qs(n,n.return)),32&t.flags){i=t.stateNode;try{we(i,"")}catch(m){ru(t,t.return,m)}}4&r&&null!=t.stateNode&&Ws(t,i=t.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(tl=!0);break;case 6:if(dl(e,t),ml(t),4&r){if(null===t.stateNode)throw Error(a(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(m){ru(t,t.return,m)}}break;case 3:if(Th=null,i=pl,pl=dh(e.containerInfo),dl(e,t),pl=i,ml(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{md(e.containerInfo)}catch(m){ru(t,t.return,m)}tl&&(tl=!1,gl(t));break;case 4:r=pl,pl=dh(t.stateNode.containerInfo),dl(e,t),ml(t),pl=r;break;case 12:dl(e,t),ml(t);break;case 13:dl(e,t),ml(t),8192&t.child.flags&&null!==t.memoizedState!==(null!==n&&null!==n.memoizedState)&&(_c=lt()),4&r&&(null!==(r=t.updateQueue)&&(t.updateQueue=null,hl(t,r)));break;case 22:if(512&r&&(Qs||null===n||qs(n,n.return)),c=null!==t.memoizedState,u=null!==n&&null!==n.memoizedState,Js=(h=Js)||c,Qs=(d=Qs)||u,dl(e,t),Qs=d,Js=h,ml(t),(e=t.stateNode)._current=t,e._visibility&=-3,e._visibility|=2&e._pendingVisibility,8192&r&&(e._visibility=c?-2&e._visibility:1|e._visibility,c&&(e=Js||Qs,null===n||u||e||vl(t)),null===t.memoizedProps||"manual"!==t.memoizedProps.mode))t:for(n=null,e=t;;){if(5===e.tag||26===e.tag||27===e.tag){if(null===n){u=n=e;try{if(i=u.stateNode,c)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{s=u.stateNode;var f=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;s.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){ru(u,u.return,m)}}}else if(6===e.tag){if(null===n){u=e;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){ru(u,u.return,m)}}}else if((22!==e.tag&&23!==e.tag||null===e.memoizedState||e===t)&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;null===e.sibling;){if(null===e.return||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}4&r&&(null!==(r=t.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,hl(t,n))));break;case 19:dl(e,t),ml(t),4&r&&(null!==(r=t.updateQueue)&&(t.updateQueue=null,hl(t,r)));break;case 21:break;default:dl(e,t),ml(t)}}function ml(t){var e=t.flags;if(2&e){try{if(27!==t.tag){t:{for(var n=t.return;null!==n;){if(Gs(n)){var r=n;break t}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var i=r.stateNode;Ys(t,Xs(t),i);break;case 5:var o=r.stateNode;32&r.flags&&(we(o,""),r.flags&=-33),Ys(t,Xs(t),o);break;case 3:case 4:var s=r.stateNode.containerInfo;Ks(t,Xs(t),s);break;default:throw Error(a(161))}}}catch(l){ru(t,t.return,l)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function gl(t){if(1024&t.subtreeFlags)for(t=t.child;null!==t;){var e=t;gl(e),5===e.tag&&1024&e.flags&&e.stateNode.reset(),t=t.sibling}}function yl(t,e){if(8772&e.subtreeFlags)for(e=e.child;null!==e;)il(t,e.alternate,e),e=e.sibling}function vl(t){for(t=t.child;null!==t;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:$s(4,e,e.return),vl(e);break;case 1:qs(e,e.return);var n=e.stateNode;"function"===typeof n.componentWillUnmount&&Us(e,e.return,n),vl(e);break;case 26:case 27:case 5:qs(e,e.return),vl(e);break;case 22:qs(e,e.return),null===e.memoizedState&&vl(e);break;default:vl(e)}t=t.sibling}}function _l(t,e,n){for(n=n&&0!==(8772&e.subtreeFlags),e=e.child;null!==e;){var r=e.alternate,i=t,o=e,a=o.flags;switch(o.tag){case 0:case 11:case 15:_l(i,o,n),Fs(4,o);break;case 1:if(_l(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Bs(l[i],s)}catch(c){ru(r,r.return,c)}}n&&64&a&&Vs(o),Zs(o,o.return);break;case 26:case 27:case 5:_l(i,o,n),n&&null===r&&4&a&&Hs(o),Zs(o,o.return);break;case 12:default:_l(i,o,n);break;case 13:_l(i,o,n),n&&4&a&&ul(i,o);break;case 22:null===o.memoizedState&&_l(i,o,n),Zs(o,o.return)}e=e.sibling}}function bl(t,e){var n=null;null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),t=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),t!==n&&(null!=t&&t.refCount++,null!=n&&$i(n))}function xl(t,e){t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&$i(t))}function wl(t,e,n,r){if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Sl(t,e,n,r),e=e.sibling}function Sl(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:wl(t,e,n,r),2048&i&&Fs(9,e);break;case 3:wl(t,e,n,r),2048&i&&(t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&$i(t)));break;case 12:if(2048&i){wl(t,e,n,r),t=e.stateNode;try{var o=e.memoizedProps,a=o.id,s=o.onPostCommit;"function"===typeof s&&s(a,null===e.alternate?"mount":"update",t.passiveEffectDuration,-0)}catch(l){ru(e,e.return,l)}}else wl(t,e,n,r);break;case 23:break;case 22:o=e.stateNode,null!==e.memoizedState?4&o._visibility?wl(t,e,n,r):Pl(t,e):4&o._visibility?wl(t,e,n,r):(o._visibility|=4,kl(t,e,n,r,0!==(10256&e.subtreeFlags))),2048&i&&bl(e.alternate,e);break;case 24:wl(t,e,n,r),2048&i&&xl(e.alternate,e);break;default:wl(t,e,n,r)}}function kl(t,e,n,r,i){for(i=i&&0!==(10256&e.subtreeFlags),e=e.child;null!==e;){var o=t,a=e,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:kl(o,a,s,l,i),Fs(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?kl(o,a,s,l,i):Pl(o,a):(u._visibility|=4,kl(o,a,s,l,i)),i&&2048&c&&bl(a.alternate,a);break;case 24:kl(o,a,s,l,i),i&&2048&c&&xl(a.alternate,a);break;default:kl(o,a,s,l,i)}e=e.sibling}}function Pl(t,e){if(10256&e.subtreeFlags)for(e=e.child;null!==e;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Pl(n,r),2048&i&&bl(r.alternate,r);break;case 24:Pl(n,r),2048&i&&xl(r.alternate,r);break;default:Pl(n,r)}e=e.sibling}}var Tl=8192;function El(t){if(t.subtreeFlags&Tl)for(t=t.child;null!==t;)Cl(t),t=t.sibling}function Cl(t){switch(t.tag){case 26:El(t),t.flags&Tl&&null!==t.memoizedState&&function(t,e,n){if(null===Mh)throw Error(a(475));var r=Mh;if("stylesheet"===e.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&e.state.loading)){if(null===e.instance){var i=yh(n.href),o=t.querySelector(vh(i));if(o)return null!==(t=o._p)&&"object"===typeof t&&"function"===typeof t.then&&(r.count++,r=Ih.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=o,void Yt(o);o=t.ownerDocument||t,n=_h(n),(i=uh.get(i))&&kh(n,i),Yt(o=o.createElement("link"));var s=o;s._p=new Promise((function(t,e){s.onload=t,s.onerror=e})),Hu(o,"link",n),e.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&0===(3&e.state.loading)&&(r.count++,e=Ih.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}(pl,t.memoizedState,t.memoizedProps);break;case 5:default:El(t);break;case 3:case 4:var e=pl;pl=dh(t.stateNode.containerInfo),El(t),pl=e;break;case 22:null===t.memoizedState&&(null!==(e=t.alternate)&&null!==e.memoizedState?(e=Tl,Tl=16777216,El(t),Tl=e):El(t))}}function Al(t){var e=t.alternate;if(null!==e&&null!==(t=e.child)){e.child=null;do{e=t.sibling,t.sibling=null,t=e}while(null!==t)}}function Ml(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var r=e[n];nl=r,zl(r,t)}Al(t)}if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t),t=t.sibling}function Ol(t){switch(t.tag){case 0:case 11:case 15:Ml(t),2048&t.flags&&$s(9,t,t.return);break;case 3:case 12:default:Ml(t);break;case 22:var e=t.stateNode;null!==t.memoizedState&&4&e._visibility&&(null===t.return||13!==t.return.tag)?(e._visibility&=-5,Il(t)):Ml(t)}}function Il(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var r=e[n];nl=r,zl(r,t)}Al(t)}for(t=t.child;null!==t;){switch((e=t).tag){case 0:case 11:case 15:$s(8,e,e.return),Il(e);break;case 22:4&(n=e.stateNode)._visibility&&(n._visibility&=-5,Il(e));break;default:Il(e)}t=t.sibling}}function zl(t,e){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:$s(8,n,e);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:$i(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else t:for(n=t;null!==nl;){var i=(r=nl).sibling,o=r.return;if(ol(r),r===n){nl=null;break t}if(null!==i){i.return=o,nl=i;break t}nl=o}}}function Ll(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(t,e,n,r){return new Ll(t,e,n,r)}function jl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Rl(t,e){var n=t.alternate;return null===n?((n=Dl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Bl(t,e){t.flags&=31457282;var n=t.alternate;return null===n?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Nl(t,e,n,r,i,o){var s=0;if(r=t,"function"===typeof t)jl(t)&&(s=1);else if("string"===typeof t)s=function(t,e,n){if(1===n||null!=e.itemProp)return!1;switch(t){case"meta":case"title":return!0;case"style":if("string"!==typeof e.precedence||"string"!==typeof e.href||""===e.href)break;return!0;case"link":if("string"!==typeof e.rel||"string"!==typeof e.href||""===e.href||e.onLoad||e.onError)break;return"stylesheet"!==e.rel||(t=e.disabled,"string"===typeof e.precedence&&null==t);case"script":if(e.async&&"function"!==typeof e.async&&"symbol"!==typeof e.async&&!e.onLoad&&!e.onError&&e.src&&"string"===typeof e.src)return!0}return!1}(t,n,X.current)?26:"html"===t||"head"===t||"body"===t?27:5;else t:switch(t){case h:return Fl(n.children,i,o,e);case d:s=8,i|=24;break;case p:return(t=Dl(12,n,e,2|i)).elementType=p,t.lanes=o,t;case v:return(t=Dl(13,n,e,i)).elementType=v,t.lanes=o,t;case _:return(t=Dl(19,n,e,i)).elementType=_,t.lanes=o,t;case w:return $l(n,i,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case f:case g:s=10;break t;case m:s=9;break t;case y:s=11;break t;case b:s=14;break t;case x:s=16,r=null;break t}s=29,n=Error(a(130,null===t?"null":typeof t,"")),r=null}return(e=Dl(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Fl(t,e,n,r){return(t=Dl(7,t,r,e)).lanes=n,t}function $l(t,e,n,r){(t=Dl(22,t,r,e)).elementType=w,t.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var t=i._current;if(null===t)throw Error(a(456));if(0===(2&i._pendingVisibility)){var e=Ar(t,2);null!==e&&(i._pendingVisibility|=2,Ic(e,t,2))}},attach:function(){var t=i._current;if(null===t)throw Error(a(456));if(0!==(2&i._pendingVisibility)){var e=Ar(t,2);null!==e&&(i._pendingVisibility&=-3,Ic(e,t,2))}}};return t.stateNode=i,t}function Vl(t,e,n){return(t=Dl(6,t,null,e)).lanes=n,t}function Ul(t,e,n){return(e=Dl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Zl(t){t.flags|=4}function ql(t,e){if("stylesheet"!==e.type||0!==(4&e.state.loading))t.flags&=-16777217;else if(t.flags|=16777216,!Ah(e)){if(null!==(e=Ci.current)&&((4194176&rc)===rc?null!==Ai:(62914560&rc)!==rc&&0===(536870912&rc)||e!==Ai))throw di=li,si;t.flags|=8192}}function Hl(t,e){null!==e&&(t.flags|=4),16384&t.flags&&(e=22!==t.tag?Mt():536870912,t.lanes|=e,mc|=e)}function Wl(t,e){if(!Kr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gl(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xl(t,e,n){var r=e.pendingProps;switch(Wr(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Gl(e),null;case 3:return n=e.stateNode,r=null,null!==t&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),_s(Ni),tt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(ri(e)?Zl(e):null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==Yr&&(Lc(Yr),Yr=null))),Gl(e),null;case 26:return n=e.memoizedState,null===t?(Zl(e),null!==n?(Gl(e),ql(e,n)):(Gl(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Zl(e),Gl(e),ql(e,n)):(Gl(e),e.flags&=-16777217):(t.memoizedProps!==r&&Zl(e),Gl(e),e.flags&=-16777217),null;case 27:nt(e),n=Y.current;var i=e.type;if(null!==t&&null!=e.stateNode)t.memoizedProps!==r&&Zl(e);else{if(!r){if(null===e.stateNode)throw Error(a(166));return Gl(e),null}t=X.current,ri(e)?ei(e):(t=ch(i,r,n),e.stateNode=t,Zl(e))}return Gl(e),null;case 5:if(nt(e),n=e.type,null!==t&&null!=e.stateNode)t.memoizedProps!==r&&Zl(e);else{if(!r){if(null===e.stateNode)throw Error(a(166));return Gl(e),null}if(t=X.current,ri(e))ei(e);else{switch(i=Xu(Y.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(t=i.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}t[Bt]=e,t[Nt]=r;t:for(i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;null===i.sibling;){if(null===i.return||i.return===e)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;t:switch(Hu(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Zl(e)}}return Gl(e),e.flags&=-16777217,null;case 6:if(t&&null!=e.stateNode)t.memoizedProps!==r&&Zl(e);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));if(t=Y.current,ri(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,null!==(i=Gr))switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Bt]=e,(t=!!(t.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Vu(t.nodeValue,n)))||ti(e)}else(t=Xu(t).createTextNode(r))[Bt]=e,e.stateNode=t}return Gl(e),null;case 13:if(r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(i=ri(e),null!==r&&null!==r.dehydrated){if(null===t){if(!i)throw Error(a(318));if(!(i=null!==(i=e.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Bt]=e}else ii(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Gl(e),i=!1}else null!==Yr&&(Lc(Yr),Yr=null),i=!0;if(!i)return 256&e.flags?(zi(e),e):(zi(e),null)}if(zi(e),0!==(128&e.flags))return e.lanes=n,e;if(n=null!==r,t=null!==t&&null!==t.memoizedState,n){i=null,null!==(r=e.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Hl(e,e.updateQueue),Gl(e),null;case 4:return tt(),null===t&&Iu(e.stateNode.containerInfo),Gl(e),null;case 10:return _s(e.type),Gl(e),null;case 19:if(W(Li),null===(i=e.memoizedState))return Gl(e),null;if(r=0!==(128&e.flags),null===(o=i.rendering))if(r)Wl(i,!1);else{if(0!==uc||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(o=Di(t))){for(e.flags|=128,Wl(i,!1),t=o.updateQueue,e.updateQueue=t,Hl(e,t),e.subtreeFlags=0,t=n,n=e.child;null!==n;)Bl(n,t),n=n.sibling;return G(Li,1&Li.current|2),e.child}t=t.sibling}null!==i.tail&&lt()>bc&&(e.flags|=128,r=!0,Wl(i,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=Di(o))){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Hl(e,t),Wl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Kr)return Gl(e),null}else 2*lt()-i.renderingStartTime>bc&&536870912!==n&&(e.flags|=128,r=!0,Wl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(null!==(t=i.last)?t.sibling=o:e.child=o,i.last=o)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,t=Li.current,G(Li,r?1&t|2:1&t),e):(Gl(e),null);case 22:case 23:return zi(e),Ei(),r=null!==e.memoizedState,null!==t?null!==t.memoizedState!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?0!==(536870912&n)&&0===(128&e.flags)&&(Gl(e),6&e.subtreeFlags&&(e.flags|=8192)):Gl(e),null!==(n=e.updateQueue)&&Hl(e,n.retryQueue),n=null,null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),r=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),null!==t&&W(Gi),null;case 24:return n=null,null!==t&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),_s(Ni),Gl(e),null;case 25:return null}throw Error(a(156,e.tag))}function Kl(t,e){switch(Wr(e),e.tag){case 1:return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return _s(Ni),tt(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 26:case 27:case 5:return nt(e),null;case 13:if(zi(e),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(a(340));ii()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return W(Li),null;case 4:return tt(),null;case 10:return _s(e.type),null;case 22:case 23:return zi(e),Ei(),null!==t&&W(Gi),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 24:return _s(Ni),null;default:return null}}function Yl(t,e){switch(Wr(e),e.tag){case 3:_s(Ni),tt();break;case 26:case 27:case 5:nt(e);break;case 4:tt();break;case 13:zi(e);break;case 19:W(Li);break;case 10:_s(e.type);break;case 22:case 23:zi(e),Ei(),null!==t&&W(Gi);break;case 24:_s(Ni)}}var Jl={getCacheForType:function(t){var e=Ps(Ni),n=e.data.get(t);return void 0===n&&(n=t(),e.data.set(t,n)),n}},Ql="function"===typeof WeakMap?WeakMap:Map,tc=0,ec=null,nc=null,rc=0,ic=0,oc=null,ac=!1,sc=!1,lc=!1,cc=0,uc=0,hc=0,dc=0,pc=0,fc=0,mc=0,gc=null,yc=null,vc=!1,_c=0,bc=1/0,xc=null,wc=null,Sc=!1,kc=null,Pc=0,Tc=0,Ec=null,Cc=0,Ac=null;function Mc(){if(0!==(2&tc)&&0!==rc)return rc&-rc;if(null!==M.T){return 0!==Zi?Zi:xu()}return jt()}function Oc(){0===fc&&(fc=0===(536870912&rc)||Kr?At():536870912);var t=Ci.current;return null!==t&&(t.flags|=32),fc}function Ic(t,e,n){(t===ec&&2===ic||null!==t.cancelPendingCommit)&&(Fc(t,0),Rc(t,rc,fc,!1)),It(t,n),0!==(2&tc)&&t===ec||(t===ec&&(0===(2&tc)&&(dc|=n),4===uc&&Rc(t,rc,fc,!1)),mu(t))}function zc(t,e,n){if(0!==(6&tc))throw Error(a(327));for(var r=!n&&0===(60&e)&&0===(e&t.expiredLanes)||Et(t,e),i=r?function(t,e){var n=tc;tc|=2;var r=Vc(),i=Uc();ec!==t||rc!==e?(xc=null,bc=lt()+500,Fc(t,e)):sc=Et(t,e);t:for(;;)try{if(0!==ic&&null!==nc){e=nc;var o=oc;e:switch(ic){case 1:ic=0,oc=null,Kc(t,e,o,1);break;case 2:if(ci(o)){ic=0,oc=null,Xc(e);break}e=function(){2===ic&&ec===t&&(ic=7),mu(t)},o.then(e,e);break t;case 3:ic=7;break t;case 4:ic=5;break t;case 7:ci(o)?(ic=0,oc=null,Xc(e)):(ic=0,oc=null,Kc(t,e,o,7));break;case 5:var s=null;switch(nc.tag){case 26:s=nc.memoizedState;case 5:case 27:var l=nc;if(!s||Ah(s)){ic=0,oc=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,Yc(u)):nc=null}break e}}ic=0,oc=null,Kc(t,e,o,5);break;case 6:ic=0,oc=null,Kc(t,e,o,6);break;case 8:Nc(),uc=6;break t;default:throw Error(a(462))}}Wc();break}catch(h){$c(t,h)}return ys=gs=null,M.H=r,M.A=i,tc=n,null!==nc?0:(ec=null,rc=0,Tr(),uc)}(t,e):qc(t,e,!0),o=r;;){if(0===i){sc&&!r&&Rc(t,e,0,!1);break}if(6===i)Rc(t,e,0,!ac);else{if(n=t.current.alternate,o&&!jc(n)){i=qc(t,e,!1),o=!1;continue}if(2===i){if(o=e,t.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&t.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){e=s;t:{var l=t;i=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(Fc(l,s).flags|=256),2!==(s=qc(l,s,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=o,dc|=o,i=4;break t}o=yc,yc=i,null!==o&&Lc(o)}i=s}if(o=!1,2!==i)continue}}if(1===i){Fc(t,0),Rc(t,e,0,!0);break}t:{switch(r=t,i){case 0:case 1:throw Error(a(345));case 4:if((4194176&e)===e){Rc(r,e,fc,!ac);break t}break;case 2:yc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=e,(62914560&e)===e&&10<(o=_c+300-lt())){if(Rc(r,e,fc,!ac),0!==Tt(r,0))break t;r.timeoutHandle=th(Dc.bind(null,r,n,yc,xc,vc,e,fc,dc,mc,ac,2,-0,0),o)}else Dc(r,n,yc,xc,vc,e,fc,dc,mc,ac,0,-0,0)}}break}mu(t)}function Lc(t){null===yc?yc=t:yc.push.apply(yc,t)}function Dc(t,e,n,r,i,o,s,l,c,u,h,d,p){var f=e.subtreeFlags;if((8192&f||16785408===(16785408&f))&&(Mh={stylesheets:null,count:0,unsuspend:Oh},Cl(e),null!==(e=function(){if(null===Mh)throw Error(a(475));var t=Mh;return t.stylesheets&&0===t.count&&Lh(t,t.stylesheets),0<t.count?function(e){var n=setTimeout((function(){if(t.stylesheets&&Lh(t,t.stylesheets),t.unsuspend){var e=t.unsuspend;t.unsuspend=null,e()}}),6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}())))return t.cancelPendingCommit=e(Qc.bind(null,t,n,r,i,s,l,c,1,d,p)),void Rc(t,o,s,!u);Qc(t,n,r,i,s,l,c,h,d,p)}function jc(t){for(var e=t;;){var n=e.tag;if((0===n||11===n||15===n)&&16384&e.flags&&(null!==(n=e.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Gn(o(),i))return!1}catch(a){return!1}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rc(t,e,n,r){e&=~pc,e&=~dc,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var o=31-bt(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&zt(t,n,e)}function Bc(){return 0!==(6&tc)||(gu(0,!1),!1)}function Nc(){if(null!==nc){if(0===ic)var t=nc.return;else ys=gs=null,vo(t=nc),fi=null,mi=0,t=nc;for(;null!==t;)Yl(t.alternate,t),t=t.return;nc=null}}function Fc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;-1!==n&&(t.timeoutHandle=-1,eh(n)),null!==(n=t.cancelPendingCommit)&&(t.cancelPendingCommit=null,n()),Nc(),ec=t,nc=n=Rl(t.current,null),rc=e,ic=0,oc=null,ac=!1,sc=Et(t,e),lc=!1,mc=fc=pc=dc=hc=uc=0,yc=gc=null,vc=!1,0!==(8&e)&&(e|=32&e);var r=t.entangledLanes;if(0!==r)for(t=t.entanglements,r&=e;0<r;){var i=31-bt(r),o=1<<i;e|=t[i],r&=~o}return cc=e,Tr(),n}function $c(t,e){Qi=null,M.H=Pa,e===ai?(e=pi(),ic=3):e===si?(e=pi(),ic=4):ic=e===Ua?8:null!==e&&"object"===typeof e&&"function"===typeof e.then?6:1,oc=e,null===nc&&(uc=1,Ba(t,Lr(e,t.current)))}function Vc(){var t=M.H;return M.H=Pa,null===t?Pa:t}function Uc(){var t=M.A;return M.A=Jl,t}function Zc(){uc=4,ac||(4194176&rc)!==rc&&null!==Ci.current||(sc=!0),0===(134217727&hc)&&0===(134217727&dc)||null===ec||Rc(ec,rc,fc,!1)}function qc(t,e,n){var r=tc;tc|=2;var i=Vc(),o=Uc();ec===t&&rc===e||(xc=null,Fc(t,e)),e=!1;var a=uc;t:for(;;)try{if(0!==ic&&null!==nc){var s=nc,l=oc;switch(ic){case 8:Nc(),a=6;break t;case 3:case 2:case 6:null===Ci.current&&(e=!0);var c=ic;if(ic=0,oc=null,Kc(t,s,l,c),n&&sc){a=0;break t}break;default:c=ic,ic=0,oc=null,Kc(t,s,l,c)}}Hc(),a=uc;break}catch(u){$c(t,u)}return e&&t.shellSuspendCounter++,ys=gs=null,tc=r,M.H=i,M.A=o,null===nc&&(ec=null,rc=0,Tr()),a}function Hc(){for(;null!==nc;)Gc(nc)}function Wc(){for(;null!==nc&&!at();)Gc(nc)}function Gc(t){var e=fs(t.alternate,t,cc);t.memoizedProps=t.pendingProps,null===e?Yc(t):nc=e}function Xc(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Qa(n,e,e.pendingProps,e.type,void 0,rc);break;case 11:e=Qa(n,e,e.pendingProps,e.type.render,e.ref,rc);break;case 5:vo(e);default:Yl(n,e),e=fs(n,e=nc=Bl(e,cc),cc)}t.memoizedProps=t.pendingProps,null===e?Yc(t):nc=e}function Kc(t,e,n,r){ys=gs=null,vo(e),fi=null,mi=0;var i=e.return;try{if(function(t,e,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(e=n.alternate)&&ws(e,n,i,!0),null!==(n=Ci.current)){switch(n.tag){case 13:return null===Ai?Zc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(e=n.updateQueue)?n.updateQueue=new Set([r]):e.add(r),iu(t,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(e=n.updateQueue)?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):null===(n=e.retryQueue)?e.retryQueue=new Set([r]):n.add(r),iu(t,r,i)),!1}throw Error(a(435,n.tag))}return iu(t,r,i),Zc(),!1}if(Kr)return null!==(e=Ci.current)?(0===(65536&e.flags)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==Qr&&oi(Lr(t=Error(a(422),{cause:r}),n))):(r!==Qr&&oi(Lr(e=Error(a(423),{cause:r}),n)),(t=t.current.alternate).flags|=65536,i&=-i,t.lanes|=i,r=Lr(r,n),Ls(t,i=Fa(t.stateNode,r,i)),4!==uc&&(uc=2)),!1;var o=Error(a(520),{cause:r});if(o=Lr(o,n),null===gc?gc=[o]:gc.push(o),4!==uc&&(uc=2),null===e)return!0;r=Lr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,Ls(n,t=Fa(n.stateNode,r,t)),!1;case 1:if(e=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof e.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===wc||!wc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Va(i=$a(i),t,n,r),Ls(n,i),!1}n=n.return}while(null!==n);return!1}(t,i,e,n,rc))return uc=1,Ba(t,Lr(n,t.current)),void(nc=null)}catch(o){if(null!==i)throw nc=i,o;return uc=1,Ba(t,Lr(n,t.current)),void(nc=null)}32768&e.flags?(Kr||1===r?t=!0:sc||0!==(536870912&rc)?t=!1:(ac=t=!0,(2===r||3===r||6===r)&&(null!==(r=Ci.current)&&13===r.tag&&(r.flags|=16384))),Jc(e,t)):Yc(e)}function Yc(t){var e=t;do{if(0!==(32768&e.flags))return void Jc(e,ac);t=e.return;var n=Xl(e.alternate,e,cc);if(null!==n)return void(nc=n);if(null!==(e=e.sibling))return void(nc=e);nc=e=t}while(null!==e);0===uc&&(uc=5)}function Jc(t,e){do{var n=Kl(t.alternate,t);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=t.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&null!==(t=t.sibling))return void(nc=t);nc=t=n}while(null!==t);uc=6,nc=null}function Qc(t,e,n,r,i,o,s,l,c,u){var h=M.T,d=V.p;try{V.p=2,M.T=null,function(t,e,n,r,i,o,s,l){do{eu()}while(null!==kc);if(0!==(6&tc))throw Error(a(327));var c=t.finishedWork;if(r=t.finishedLanes,null===c)return null;if(t.finishedWork=null,t.finishedLanes=0,c===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(t,e,n,r,i,o){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var u=31-bt(n),h=1<<u;s[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var p=d[u];null!==p&&(p.lane&=-536870913)}n&=~h}0!==r&&zt(t,r,0),0!==o&&0===i&&0!==t.tag&&(t.suspendedLanes|=o&~(a&~e))}(t,r,u|=Pr,o,s,l),t===ec&&(nc=ec=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Sc||(Sc=!0,Tc=u,Ec=n,function(t,e){it(t,e)}(dt,(function(){return eu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=M.T,M.T=null,o=V.p,V.p=2,s=tc,tc|=4,function(t,e){if(t=t.containerInfo,Wu=Zh,tr(t=Qn(t))){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break t}var s=0,l=-1,c=-1,u=0,h=0,d=t,p=null;e:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===t)break e;if(p===n&&++u===i&&(l=s),p===o&&++h===r&&(c=s),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gu={focusedElem:t,selectionRange:n},Zh=!1,nl=e;null!==nl;)if(t=(e=nl).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,nl=t;else for(;null!==nl;){switch(o=(e=nl).alternate,t=e.flags,e.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&t)&&null!==o){t=void 0,n=e,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=za(n.type,i,(n.elementType,n.type));t=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=t}catch(y){ru(n,n.return,y)}}break;case 3:if(0!==(1024&t))if(9===(n=(t=e.stateNode.containerInfo).nodeType))ah(t);else if(1===n)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ah(t);break;default:t.textContent=""}break;default:if(0!==(1024&t))throw Error(a(163))}if(null!==(t=e.sibling)){t.return=e.return,nl=t;break}nl=e.return}m=rl,rl=!1}(t,c),fl(c,t),er(Gu,t.containerInfo),Zh=!!Wu,Gu=Wu=null,t.current=c,il(t,c.alternate,c),st(),tc=s,V.p=o,M.T=n):t.current=c,Sc?(Sc=!1,kc=t,Pc=r):tu(t,u),u=t.pendingLanes,0===u&&(wc=null),function(t){if(vt&&"function"===typeof vt.onCommitFiberRoot)try{vt.onCommitFiberRoot(yt,t,void 0,128===(128&t.current.flags))}catch(e){}}(c.stateNode),mu(t),null!==e)for(i=t.onRecoverableError,c=0;c<e.length;c++)u=e[c],i(u.value,{componentStack:u.stack});0!==(3&Pc)&&eu(),u=t.pendingLanes,0!==(4194218&r)&&0!==(42&u)?t===Ac?Cc++:(Cc=0,Ac=t):Cc=0,gu(0,!1)}(t,e,n,r,d,i,o,s)}finally{M.T=h,V.p=d}}function tu(t,e){0===(t.pooledCacheLanes&=e)&&(null!=(e=t.pooledCache)&&(t.pooledCache=null,$i(e)))}function eu(){if(null!==kc){var t=kc,e=Tc;Tc=0;var n=Dt(Pc),r=M.T,i=V.p;try{if(V.p=32>n?32:n,M.T=null,null===kc)var o=!1;else{n=Ec,Ec=null;var s=kc,l=Pc;if(kc=null,Pc=0,0!==(6&tc))throw Error(a(331));var c=tc;if(tc|=4,Ol(s.current),Sl(s,s.current,l,n),tc=c,gu(0,!1),vt&&"function"===typeof vt.onPostCommitFiberRoot)try{vt.onPostCommitFiberRoot(yt,s)}catch(u){}o=!0}return o}finally{V.p=i,M.T=r,tu(t,e)}}return!1}function nu(t,e,n){e=Lr(n,e),null!==(t=Is(t,e=Fa(t.stateNode,e,2),2))&&(It(t,2),mu(t))}function ru(t,e,n){if(3===t.tag)nu(t,t,n);else for(;null!==e;){if(3===e.tag){nu(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===wc||!wc.has(r))){t=Lr(n,t),null!==(r=Is(e,n=$a(2),2))&&(Va(n,r,e,t),It(r,2),mu(r));break}}e=e.return}}function iu(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new Ql;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(lc=!0,i.add(n),t=ou.bind(null,t,e,n),e.then(t,t))}function ou(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ec===t&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>lt()-_c?0===(2&tc)&&Fc(t,0):pc|=n,mc===rc&&(mc=0)),mu(t)}function au(t,e){0===e&&(e=Mt()),null!==(t=Ar(t,e))&&(It(t,e),mu(t))}function su(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),au(t,n)}function lu(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(e),au(t,n)}var cu=null,uu=null,hu=!1,du=!1,pu=!1,fu=0;function mu(t){var e;t!==uu&&null===t.next&&(null===uu?cu=uu=t:uu=uu.next=t),du=!0,hu||(hu=!0,e=yu,rh((function(){0!==(6&tc)?it(ut,e):e()})))}function gu(t,e){if(!pu&&du){pu=!0;do{for(var n=!1,r=cu;null!==r;){if(!e)if(0!==t){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-bt(42|t)+1)-1,o=201326677&(o&=i&~(a&~s))?201326677&o|1:o?2|o:0}0!==o&&(n=!0,bu(r,o))}else o=rc,0===(3&(o=Tt(r,r===ec?o:0)))||Et(r,o)||(n=!0,bu(r,o));r=r.next}}while(n);pu=!1}}function yu(){du=hu=!1;var t=0;0!==fu&&(function(){var t=window.event;if(t&&"popstate"===t.type)return t!==Qu&&(Qu=t,!0);return Qu=null,!1}()&&(t=fu),fu=0);for(var e=lt(),n=null,r=cu;null!==r;){var i=r.next,o=vu(r,e);0===o?(r.next=null,null===n?cu=i:n.next=i,null===i&&(uu=n)):(n=r,(0!==t||0!==(3&o))&&(du=!0)),r=i}gu(t,!1)}function vu(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=-62914561&t.pendingLanes;0<o;){var a=31-bt(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=Ct(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}if(n=rc,n=Tt(t,t===(e=ec)?n:0),r=t.callbackNode,0===n||t===e&&2===ic||null!==t.cancelPendingCommit)return null!==r&&null!==r&&ot(r),t.callbackNode=null,t.callbackPriority=0;if(0===(3&n)||Et(t,n)){if((e=n&-n)===t.callbackPriority)return e;switch(null!==r&&ot(r),Dt(n)){case 2:case 8:n=ht;break;case 32:default:n=dt;break;case 268435456:n=ft}return r=_u.bind(null,t),n=it(n,r),t.callbackPriority=e,t.callbackNode=n,e}return null!==r&&null!==r&&ot(r),t.callbackPriority=2,t.callbackNode=null,2}function _u(t,e){var n=t.callbackNode;if(eu()&&t.callbackNode!==n)return null;var r=rc;return 0===(r=Tt(t,t===ec?r:0))?null:(zc(t,r,e),vu(t,lt()),null!=t.callbackNode&&t.callbackNode===n?_u.bind(null,t):null)}function bu(t,e){if(eu())return null;zc(t,e,!0)}function xu(){return 0===fu&&(fu=At()),fu}function wu(t){return null==t||"symbol"===typeof t||"boolean"===typeof t?null:"function"===typeof t?t:Ae(""+t)}function Su(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}for(var ku=0;ku<xr.length;ku++){var Pu=xr[ku];wr(Pu.toLowerCase(),"on"+(Pu[0].toUpperCase()+Pu.slice(1)))}wr(pr,"onAnimationEnd"),wr(fr,"onAnimationIteration"),wr(mr,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(gr,"onTransitionRun"),wr(yr,"onTransitionStart"),wr(vr,"onTransitionCancel"),wr(_r,"onTransitionEnd"),ee("onMouseEnter",["mouseout","mouseover"]),ee("onMouseLeave",["mouseout","mouseover"]),ee("onPointerEnter",["pointerout","pointerover"]),ee("onPointerLeave",["pointerout","pointerover"]),te("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),te("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),te("onBeforeInput",["compositionend","keypress","textInput","paste"]),te("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),te("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),te("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function Cu(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;o=s,i.currentTarget=c;try{o(i)}catch(u){La(u)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;o=s,i.currentTarget=c;try{o(i)}catch(u){La(u)}i.currentTarget=null,o=l}}}}function Au(t,e){var n=e[$t];void 0===n&&(n=e[$t]=new Set);var r=t+"__bubble";n.has(r)||(zu(e,t,2,!1),n.add(r))}function Mu(t,e,n){var r=0;e&&(r|=4),zu(n,t,r,e)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Iu(t){if(!t[Ou]){t[Ou]=!0,Jt.forEach((function(e){"selectionchange"!==e&&(Eu.has(e)||Mu(e,!1,t),Mu(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ou]||(e[Ou]=!0,Mu("selectionchange",!1,e))}}function zu(t,e,n,r){switch(Yh(e)){case 2:var i=qh;break;case 8:i=Hh;break;default:i=Wh}n=i.bind(null,e,n,t),i=void 0,!Be||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lu(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Wt(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=o=a;continue t}s=s.parentNode}}r=r.return}je((function(){var r=o,i=Oe(n),a=[];t:{var s=br.get(t);if(void 0!==s){var l=Je,c=t;switch(t){case"keypress":if(0===Ze(n))break t;case"keydown":case"keyup":l=fn;break;case"focusin":c="focus",l=on;break;case"focusout":c="blur",l=on;break;case"beforeblur":case"afterblur":l=on;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case pr:case fr:case mr:l=an;break;case _r:l=yn;break;case"scroll":case"scrollend":l=tn;break;case"wheel":l=vn;break;case"copy":case"cut":case"paste":l=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=_n}var u=0!==(4&e),h=!u&&("scroll"===t||"scrollend"===t),d=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=f;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===d||null!=(m=Re(f,d))&&u.push(Du(f,m,p)),h)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===Me||!(c=n.relatedTarget||n.fromElement)||!Wt(c)&&!c[Ft])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Wt(c):null)&&(h=R(c),u=c.tag,c!==h||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(u=mn,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?s:Xt(l),p=null==c?s:Xt(c),(s=new u(m,f+"leave",l,n,i)).target=h,s.relatedTarget=p,m=null,Wt(i)===r&&((u=new u(d,f+"enter",c,n,i)).target=p,u.relatedTarget=h,m=u),h=m,l&&c)t:{for(d=c,f=0,p=u=l;p;p=Ru(p))f++;for(p=0,m=d;m;m=Ru(m))p++;for(;0<f-p;)u=Ru(u),f--;for(;0<p-f;)d=Ru(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break t;u=Ru(u),d=Ru(d)}u=null}else u=null;null!==l&&Bu(a,s,l,u,!1),null!==c&&null!==h&&Bu(a,h,c,u,!0)}if("select"===(l=(s=r?Xt(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Rn;else if(On(s))if(Bn)g=Wn;else{g=qn;var y=Zn}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Te(r.elementType)&&(g=Rn):g=Hn;switch(g&&(g=g(t,r))?In(a,g,n,i):(y&&y(t,s,r),"focusout"===t&&r&&"number"===s.type&&null!=r.memoizedProps.value&&ve(s,"number",s.value)),y=r?Xt(r):window,t){case"focusin":(On(y)||"true"===y.contentEditable)&&(rr=y,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,i)}var v;if(xn)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else An?En(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(kn&&"ko"!==n.locale&&(An||"onCompositionStart"!==_?"onCompositionEnd"===_&&An&&(v=Ue()):($e="value"in(Fe=i)?Fe.value:Fe.textContent,An=!0)),0<(y=ju(r,_)).length&&(_=new ln(_,t,null,n,i),a.push({event:_,listeners:y}),v?_.data=v:null!==(v=Cn(n))&&(_.data=v))),(v=Sn?function(t,e){switch(t){case"compositionend":return Cn(e);case"keypress":return 32!==e.which?null:(Tn=!0,Pn);case"textInput":return(t=e.data)===Pn&&Tn?null:t;default:return null}}(t,n):function(t,e){if(An)return"compositionend"===t||!xn&&En(t,e)?(t=Ue(),Ve=$e=Fe=null,An=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(_=ju(r,"onBeforeInput")).length&&(y=new ln("onBeforeInput","beforeinput",null,n,i),a.push({event:y,listeners:_}),y.data=v)),function(t,e,n,r,i){if("submit"===e&&n&&n.stateNode===i){var o=wu((i[Nt]||null).action),a=r.submitter;a&&null!==(e=(e=a[Nt]||null)?wu(e.formAction):a.getAttribute("formAction"))&&(o=e,a=null);var s=new Je("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==fu){var t=a?Su(i,a):new FormData(i);ha(n,{pending:!0,data:t,method:i.method,action:o},null,t)}}else"function"===typeof o&&(s.preventDefault(),t=a?Su(i,a):new FormData(i),ha(n,{pending:!0,data:t,method:i.method,action:o},o,t))},currentTarget:i}]})}}(a,t,r,n,i)}Cu(a,e)}))}function Du(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ju(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Re(t,n))&&r.unshift(Du(t,i,o)),null!=(i=Re(t,e))&&r.push(Du(t,i,o))),t=t.return}return r}function Ru(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag&&27!==t.tag);return t||null}function Bu(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Re(n,o))&&a.unshift(Du(n,c,l)):i||null!=(c=Re(n,o))&&a.push(Du(n,c,l))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Nu=/\r\n?/g,Fu=/\u0000|\uFFFD/g;function $u(t){return("string"===typeof t?t:""+t).replace(Nu,"\n").replace(Fu,"")}function Vu(t,e){return e=$u(e),$u(t)===e}function Uu(){}function Zu(t,e,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===e||"textarea"===e&&""===r||we(t,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==e&&we(t,""+r);break;case"className":se(t,"class",r);break;case"tabIndex":se(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":se(t,n,r);break;case"style":Pe(t,r,o);break;case"data":if("object"!==e){se(t,"data",r);break}case"src":case"href":if(""===r&&("a"!==e||"href"!==n)){t.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){t.removeAttribute(n);break}r=Ae(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==e&&Zu(t,e,"name",i.name,i,null),Zu(t,e,"formEncType",i.formEncType,i,null),Zu(t,e,"formMethod",i.formMethod,i,null),Zu(t,e,"formTarget",i.formTarget,i,null)):(Zu(t,e,"encType",i.encType,i,null),Zu(t,e,"method",i.method,i,null),Zu(t,e,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){t.removeAttribute(n);break}r=Ae(""+r),t.setAttribute(n,r);break;case"onClick":null!=r&&(t.onclick=Uu);break;case"onScroll":null!=r&&Au("scroll",t);break;case"onScrollEnd":null!=r&&Au("scrollend",t);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":t.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){t.removeAttribute("xlink:href");break}n=Ae(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":!0===r?t.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Au("beforetoggle",t),Au("toggle",t),ae(t,"popover",r);break;case"xlinkActuate":le(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":le(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":le(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":le(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":le(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":le(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":le(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":le(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":le(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ae(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ae(t,n=Ee.get(n)||n,r)}}function qu(t,e,n,r,i,o){switch(n){case"style":Pe(t,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));t.innerHTML=n}}break;case"children":"string"===typeof r?we(t,r):("number"===typeof r||"bigint"===typeof r)&&we(t,""+r);break;case"onScroll":null!=r&&Au("scroll",t);break;case"onScrollEnd":null!=r&&Au("scrollend",t);break;case"onClick":null!=r&&(t.onclick=Uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=t[Nt]||null)?o[n]:null)&&t.removeEventListener(e,o,i),"function"!==typeof r)?n in t?t[n]=r:!0===r?t.setAttribute(n,""):ae(t,n,r):("function"!==typeof o&&null!==o&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i)))}}function Hu(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Au("error",t),Au("load",t);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:Zu(t,e,r,s,n,null)}}return o&&Zu(t,e,"srcSet",n.srcSet,n,null),void(i&&Zu(t,e,"src",n.src,n,null));case"input":Au("invalid",t);var l=r=s=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":o=h;break;case"type":s=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,e));break;default:Zu(t,e,i,h,n,null)}}return ye(t,r,l,c,u,s,o,!1),void he(t);case"select":for(o in Au("invalid",t),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Zu(t,e,o,l,n,null)}return e=r,n=s,t.multiple=!!i,void(null!=e?_e(t,!!i,e,!1):null!=n&&_e(t,!!i,n,!0));case"textarea":for(s in Au("invalid",t),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Zu(t,e,s,l,n,null)}return xe(t,i,o,r),void he(t);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)t.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(t,e,c,i,n,null);return;case"dialog":Au("cancel",t),Au("close",t);break;case"iframe":case"object":Au("load",t);break;case"video":case"audio":for(i=0;i<Tu.length;i++)Au(Tu[i],t);break;case"image":Au("error",t),Au("load",t);break;case"details":Au("toggle",t);break;case"embed":case"source":case"link":Au("error",t),Au("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,e));default:Zu(t,e,u,i,n,null)}return;default:if(Te(e)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&qu(t,e,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(t,e,l,i,n,null))}var Wu=null,Gu=null;function Xu(t){return 9===t.nodeType?t:t.ownerDocument}function Ku(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yu(t,e){if(0===t)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return 1===t&&"foreignObject"===e?0:t}function Ju(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"bigint"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Qu=null;var th="function"===typeof setTimeout?setTimeout:void 0,eh="function"===typeof clearTimeout?clearTimeout:void 0,nh="function"===typeof Promise?Promise:void 0,rh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nh?function(t){return nh.resolve(null).then(t).catch(ih)}:th;function ih(t){setTimeout((function(){throw t}))}function oh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void md(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);md(e)}function ah(t){var e=t.firstChild;for(e&&10===e.nodeType&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ah(n),Ht(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}t.removeChild(n)}}function sh(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e||"F!"===e||"F"===e)break;if("/$"===e)return null}}return t}function lh(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}function ch(t,e,n){switch(e=Xu(n),t){case"html":if(!(t=e.documentElement))throw Error(a(452));return t;case"head":if(!(t=e.head))throw Error(a(453));return t;case"body":if(!(t=e.body))throw Error(a(454));return t;default:throw Error(a(451))}}var uh=new Map,hh=new Set;function dh(t){return"function"===typeof t.getRootNode?t.getRootNode():t.ownerDocument}var ph=V.d;V.d={f:function(){var t=ph.f(),e=Bc();return t||e},r:function(t){var e=Gt(t);null!==e&&5===e.tag&&"form"===e.type?pa(e):ph.r(t)},D:function(t){ph.D(t),mh("dns-prefetch",t,null)},C:function(t,e){ph.C(t,e),mh("preconnect",t,e)},L:function(t,e,n){ph.L(t,e,n);var r=fh;if(r&&t&&e){var i='link[rel="preload"][as="'+me(e)+'"]';"image"===e&&n&&n.imageSrcSet?(i+='[imagesrcset="'+me(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+me(n.imageSizes)+'"]')):i+='[href="'+me(t)+'"]';var o=i;switch(e){case"style":o=yh(t);break;case"script":o=bh(t)}uh.has(o)||(t=O({rel:"preload",href:"image"===e&&n&&n.imageSrcSet?void 0:t,as:e},n),uh.set(o,t),null!==r.querySelector(i)||"style"===e&&r.querySelector(vh(o))||"script"===e&&r.querySelector(xh(o))||(Hu(e=r.createElement("link"),"link",t),Yt(e),r.head.appendChild(e)))}},m:function(t,e){ph.m(t,e);var n=fh;if(n&&t){var r=e&&"string"===typeof e.as?e.as:"script",i='link[rel="modulepreload"][as="'+me(r)+'"][href="'+me(t)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=bh(t)}if(!uh.has(o)&&(t=O({rel:"modulepreload",href:t},e),uh.set(o,t),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xh(o)))return}Hu(r=n.createElement("link"),"link",t),Yt(r),n.head.appendChild(r)}}},X:function(t,e){ph.X(t,e);var n=fh;if(n&&t){var r=Kt(n).hoistableScripts,i=bh(t),o=r.get(i);o||((o=n.querySelector(xh(i)))||(t=O({src:t,async:!0},e),(e=uh.get(i))&&Ph(t,e),Yt(o=n.createElement("script")),Hu(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(t,e,n){ph.S(t,e,n);var r=fh;if(r&&t){var i=Kt(r).hoistableStyles,o=yh(t);e=e||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(vh(o)))s.loading=5;else{t=O({rel:"stylesheet",href:t,"data-precedence":e},n),(n=uh.get(o))&&kh(t,n);var l=a=r.createElement("link");Yt(l),Hu(l,"link",t),l._p=new Promise((function(t,e){l.onload=t,l.onerror=e})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Sh(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(t,e){ph.M(t,e);var n=fh;if(n&&t){var r=Kt(n).hoistableScripts,i=bh(t),o=r.get(i);o||((o=n.querySelector(xh(i)))||(t=O({src:t,async:!0,type:"module"},e),(e=uh.get(i))&&Ph(t,e),Yt(o=n.createElement("script")),Hu(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var fh="undefined"===typeof document?null:document;function mh(t,e,n){var r=fh;if(r&&"string"===typeof e&&e){var i=me(e);i='link[rel="'+t+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),hh.has(i)||(hh.add(i),t={rel:t,crossOrigin:n,href:e},null===r.querySelector(i)&&(Hu(e=r.createElement("link"),"link",t),Yt(e),r.head.appendChild(e)))}}function gh(t,e,n,r){var i,o,s,l,c=(c=Y.current)?dh(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(e=yh(n.href),(r=(n=Kt(c).hoistableStyles).get(e))||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){t=yh(n.href);var u=Kt(c).hoistableStyles,h=u.get(t);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(t,h),(u=c.querySelector(vh(t)))&&!u._p&&(h.instance=u,h.state.loading=5),uh.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},uh.set(t,n),u||(i=c,o=t,s=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),Hu(o,"link",s),Yt(o),i.head.appendChild(o))))),e&&null===r)throw Error(a(528,""));return h}if(e&&null!==r)throw Error(a(529,""));return null;case"script":return e=n.async,"string"===typeof(n=n.src)&&e&&"function"!==typeof e&&"symbol"!==typeof e?(e=bh(n),(r=(n=Kt(c).hoistableScripts).get(e))||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function yh(t){return'href="'+me(t)+'"'}function vh(t){return'link[rel="stylesheet"]['+t+"]"}function _h(t){return O({},t,{"data-precedence":t.precedence,precedence:null})}function bh(t){return'[src="'+me(t)+'"]'}function xh(t){return"script[async]"+t}function wh(t,e,n){if(e.count++,null===e.instance)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+me(n.href)+'"]');if(r)return e.instance=r,Yt(r),r;var i=O({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Yt(r=(t.ownerDocument||t).createElement("style")),Hu(r,"style",i),Sh(r,n.precedence,t),e.instance=r;case"stylesheet":i=yh(n.href);var o=t.querySelector(vh(i));if(o)return e.state.loading|=4,e.instance=o,Yt(o),o;r=_h(n),(i=uh.get(i))&&kh(r,i),Yt(o=(t.ownerDocument||t).createElement("link"));var s=o;return s._p=new Promise((function(t,e){s.onload=t,s.onerror=e})),Hu(o,"link",r),e.state.loading|=4,Sh(o,n.precedence,t),e.instance=o;case"script":return o=bh(n.src),(i=t.querySelector(xh(o)))?(e.instance=i,Yt(i),i):(r=n,(i=uh.get(o))&&Ph(r=O({},n),i),Yt(i=(t=t.ownerDocument||t).createElement("script")),Hu(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(a(443,e.type))}else"stylesheet"===e.type&&0===(4&e.state.loading)&&(r=e.instance,e.state.loading|=4,Sh(r,n.precedence,t));return e.instance}function Sh(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===e)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=9===n.nodeType?n.head:n).insertBefore(t,e.firstChild)}function kh(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.title&&(t.title=e.title)}function Ph(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.integrity&&(t.integrity=e.integrity)}var Th=null;function Eh(t,e,n){if(null===Th){var r=new Map,i=Th=new Map;i.set(n,r)}else(r=(i=Th).get(n))||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var o=n[i];if(!(o[qt]||o[Bt]||"link"===t&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(e)||"";a=t+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function Ch(t,e,n){(t=t.ownerDocument||t).head.insertBefore(n,"title"===e?t.querySelector("head > title"):null)}function Ah(t){return"stylesheet"!==t.type||0!==(3&t.state.loading)}var Mh=null;function Oh(){}function Ih(){if(this.count--,0===this.count)if(this.stylesheets)Lh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}var zh=null;function Lh(t,e){t.stylesheets=null,null!==t.unsuspend&&(t.count++,zh=new Map,e.forEach(Dh,t),zh=null,Ih.call(t))}function Dh(t,e){if(!(4&e.state.loading)){var n=zh.get(t);if(n)var r=n.get(null);else{n=new Map,zh.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=e.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Ih.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(t=9===t.nodeType?t.head:t).insertBefore(i,t.firstChild),e.state.loading|=4}}var jh={$$typeof:g,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function Rh(t,e,n,r,i,o,a,s){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ot(0),this.hiddenUpdates=Ot(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Bh(t,e,n,r,i,o,a,s,l,c,u,h){return t=new Rh(t,e,n,a,s,l,c,h),e=1,!0===o&&(e|=24),o=Dl(3,null,null,e),t.current=o,o.stateNode=t,(e=Fi()).refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:e},As(o),t}function Nh(t){return t?t=Ir:Ir}function Fh(t,e,n,r,i,o){i=Nh(i),null===r.context?r.context=i:r.pendingContext=i,(r=Os(e)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=Is(t,r,e))&&(Ic(n,0,e),zs(n,t,e))}function $h(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Vh(t,e){$h(t,e),(t=t.alternate)&&$h(t,e)}function Uh(t){if(13===t.tag){var e=Ar(t,67108864);null!==e&&Ic(e,0,67108864),Vh(t,67108864)}}var Zh=!0;function qh(t,e,n,r){var i=M.T;M.T=null;var o=V.p;try{V.p=2,Wh(t,e,n,r)}finally{V.p=o,M.T=i}}function Hh(t,e,n,r){var i=M.T;M.T=null;var o=V.p;try{V.p=8,Wh(t,e,n,r)}finally{V.p=o,M.T=i}}function Wh(t,e,n,r){if(Zh){var i=Gh(r);if(null===i)Lu(t,e,r,Xh,n),ad(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Qh=sd(Qh,t,e,n,r,i),!0;case"dragenter":return td=sd(td,t,e,n,r,i),!0;case"mouseover":return ed=sd(ed,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return nd.set(o,sd(nd.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,rd.set(o,sd(rd.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(ad(t,r),4&e&&-1<od.indexOf(t)){for(;null!==i;){var o=Gt(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=Pt(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-bt(a);s.entanglements[1]|=l,a&=~l}mu(o),0===(6&tc)&&(bc=lt()+500,gu(0,!1))}}break;case 13:null!==(s=Ar(o,2))&&Ic(s,0,2),Bc(),Vh(o,2)}if(null===(o=Gh(r))&&Lu(t,e,r,Xh,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Lu(t,e,r,null,n)}}function Gh(t){return Kh(t=Oe(t))}var Xh=null;function Kh(t){if(Xh=null,null!==(t=Wt(t))){var e=R(t);if(null===e)t=null;else{var n=e.tag;if(13===n){if(null!==(t=B(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Xh=t,null}function Yh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ct()){case ut:return 2;case ht:return 8;case dt:case pt:return 32;case ft:return 268435456;default:return 32}default:return 32}}var Jh=!1,Qh=null,td=null,ed=null,nd=new Map,rd=new Map,id=[],od="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ad(t,e){switch(t){case"focusin":case"focusout":Qh=null;break;case"dragenter":case"dragleave":td=null;break;case"mouseover":case"mouseout":ed=null;break;case"pointerover":case"pointerout":nd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(e.pointerId)}}function sd(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=Gt(e))&&Uh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ld(t){var e=Wt(t.target);if(null!==e){var n=R(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=B(n)))return t.blockedOn=e,void function(t,e){var n=V.p;try{return V.p=t,e()}finally{V.p=n}}(t.priority,(function(){if(13===n.tag){var t=Mc(),e=Ar(n,t);null!==e&&Ic(e,0,t),Vh(n,t)}}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function cd(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gh(t.nativeEvent);if(null!==n)return null!==(e=Gt(n))&&Uh(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);Me=r,n.target.dispatchEvent(r),Me=null,e.shift()}return!0}function ud(t,e,n){cd(t)&&n.delete(e)}function hd(){Jh=!1,null!==Qh&&cd(Qh)&&(Qh=null),null!==td&&cd(td)&&(td=null),null!==ed&&cd(ed)&&(ed=null),nd.forEach(ud),rd.forEach(ud)}function dd(t,e){t.blockedOn===e&&(t.blockedOn=null,Jh||(Jh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hd)))}var pd=null;function fd(t){pd!==t&&(pd=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){pd===t&&(pd=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!==typeof r){if(null===Kh(r||n))continue;break}var o=Gt(n);null!==o&&(t.splice(e,3),e-=3,ha(o,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function md(t){function e(e){return dd(e,t)}null!==Qh&&dd(Qh,t),null!==td&&dd(td,t),null!==ed&&dd(ed,t),nd.forEach(e),rd.forEach(e);for(var n=0;n<id.length;n++){var r=id[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<id.length&&null===(n=id[0]).blockedOn;)ld(n),null===n.blockedOn&&id.shift();if(null!=(n=(t.ownerDocument||t).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Nt]||null;if("function"===typeof o)a||fd(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Nt]||null)s=a.formAction;else if(null!==Kh(i))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),fd(n)}}}function gd(t){this._internalRoot=t}function yd(t){this._internalRoot=t}yd.prototype.render=gd.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(a(409));Fh(e.current,Mc(),t,e,null,null)},yd.prototype.unmount=gd.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;0===t.tag&&eu(),Fh(t.current,2,null,t,null,null),Bc(),e[Ft]=null}},yd.prototype.unstable_scheduleHydration=function(t){if(t){var e=jt();t={blockedOn:null,target:t,priority:e};for(var n=0;n<id.length&&0!==e&&e<id[n].priority;n++);id.splice(n,0,t),0===n&&ld(t)}};var vd=i.version;if("19.0.0"!==vd)throw Error(a(527,vd,"19.0.0"));V.findDOMNode=function(t){var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw t=Object.keys(t).join(","),Error(a(268,t))}return t=function(t){var e=t.alternate;if(!e){if(null===(e=R(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return N(i),t;if(o===r)return N(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(e),t=null===(t=null!==t?F(t):null)?null:t.stateNode};var _d={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:M,findFiberByHostInstance:Wt,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{yt=bd.inject(_d),vt=bd}catch(wd){}}e.createRoot=function(t,e){if(!s(t))throw Error(a(299));var n=!1,r="",i=Da,o=ja,l=Ra;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onUncaughtError&&(i=e.onUncaughtError),void 0!==e.onCaughtError&&(o=e.onCaughtError),void 0!==e.onRecoverableError&&(l=e.onRecoverableError),void 0!==e.unstable_transitionCallbacks&&e.unstable_transitionCallbacks),e=Bh(t,1,!1,null,0,n,r,i,o,l,0,null),t[Ft]=e.current,Iu(8===t.nodeType?t.parentNode:t),new gd(e)},e.hydrateRoot=function(t,e,n){if(!s(t))throw Error(a(299));var r=!1,i="",o=Da,l=ja,c=Ra,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(e=Bh(t,1,!0,e,0,r,i,o,l,c,0,u)).context=Nh(null),n=e.current,(i=Os(r=Mc())).callback=null,Is(n,i,r),e.current.lanes=r,It(e,r),mu(e),t[Ft]=e.current,Iu(t),new yd(e)},e.version="19.0.0"},7105:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},7116:(t,e,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},7159:(t,e,n)=>{var r=n(2622);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},7160:(t,e,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},7251:(t,e,n)=>{var r=n(8724),i=n(7160),o=n(5204);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7283:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||t,a),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function a(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,i,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,o),!0;case 6:return u.fn.call(u.context,e,r,i,o,a),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,r);break;case 4:u[c].fn.call(u[c].context,e,r,i);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==e||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s},7303:(t,e,n)=>{var r=n(801),i=1/0;t.exports=function(t){return t?(t=r(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},7424:(t,e,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=s},7498:t=>{t.exports=function(t,e){return t>e}},7529:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},7563:t=>{t.exports=function(){this.__data__=[],this.size=0}},7574:t=>{t.exports=function(t){return function(e){return t(e)}}},7615:(t,e,n)=>{var r=n(5575);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(t,e,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);t.exports=function(t){return function(e){e=a(e);var n=i(e)?o(e):void 0,s=n?n[0]:e.charAt(0),l=n?r(n,1).join(""):e.slice(1);return s[t]()+l}}},7685:(t,e,n)=>{var r=n(7937)(n(6552),"DataView");t.exports=r},7760:t=>{t.exports=function(t){return this.__data__.get(t)}},7828:t=>{t.exports=function(){return[]}},7857:(t,e,n)=>{var r=n(3440),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},7894:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},7937:(t,e,n)=>{var r=n(6954),i=n(4657);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},7950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(6672)},8114:t=>{t.exports=function(t,e){return t.has(e)}},8182:(t,e,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},8189:(t,e,n)=>{var r=n(3871);t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},8210:function(t,e,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",h=Math.floor,d=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,m=9007199254740991,g=h(1286742750677284.5),y={};function v(t,e){var n,r,i,o,a,l,c,u,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),s?C(e,d):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,l=u.length):(r=u,i=a,l=c.length),o>(l=(a=Math.ceil(d/7))>l?a+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/f|0,c[o]%=f;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return e.d=c,e.e=i,s?C(e,d):e}function _(t,e,n){if(t!==~~t||t<e||t>n)throw Error(c+t)}function b(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)(n=7-(r=t[e]+"").length)&&(o+=P(n)),o+=r;(n=7-(r=(a=t[e])+"").length)&&(o+=P(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}y.absoluteValue=y.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t},y.comparedTo=y.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(e=0,n=(r=o.d.length)<(i=t.d.length)?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},y.decimalPlaces=y.dp=function(){var t=this,e=t.d.length-1,n=7*(e-t.e);if(e=t.d[e])for(;e%10==0;e/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(t){return x(this,new this.constructor(t))},y.dividedToIntegerBy=y.idiv=function(t){var e=this.constructor;return C(x(this,new e(t),0,1),e.precision)},y.equals=y.eq=function(t){return!this.cmp(t)},y.exponent=function(){return S(this)},y.greaterThan=y.gt=function(t){return this.cmp(t)>0},y.greaterThanOrEqualTo=y.gte=function(t){return this.cmp(t)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(t){return this.cmp(t)<0},y.lessThanOrEqualTo=y.lte=function(t){return this.cmp(t)<1},y.logarithm=y.log=function(t){var e,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===t)t=new r(10);else if((t=new r(t)).s<1||t.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,e=x(T(n,a),T(t,a),a),s=!0,C(e,o))},y.minus=y.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A(e,t):v(e,(t.s=-t.s,t))},y.modulo=y.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(!(t=new r(t)).s)throw Error(l+"NaN");return n.s?(s=!1,e=x(n,t,0,1).times(t),s=!0,n.minus(e)):C(new r(n),i)},y.naturalExponential=y.exp=function(){return w(this)},y.naturalLogarithm=y.ln=function(){return T(this)},y.negated=y.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t},y.plus=y.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?v(e,t):A(e,(t.s=-t.s,t))},y.precision=y.sd=function(t){var e,n,r,i=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(c+t);if(e=S(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n},y.squareRoot=y.sqrt=function(){var t,e,n,r,i,o,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(t=S(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((e=b(c.d)).length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=h((t+1)/2)-(t<0||t%2),r=new u(e=i==1/0?"5e"+t:(e=i.toExponential()).slice(0,e.indexOf("e")+1)+t)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(o=r).plus(x(c,o,a+2)).times(.5),b(o.d).slice(0,a)===(e=b(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&"4999"==e){if(C(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=e)break;a+=4}return s=!0,C(r,n)},y.times=y.mul=function(t){var e,n,r,i,o,a,l,c,u,h=this,d=h.constructor,p=h.d,m=(t=new d(t)).d;if(!h.s||!t.s)return new d(0);for(t.s*=h.s,n=h.e+t.e,(c=p.length)<(u=m.length)&&(o=p,p=m,m=o,a=c,c=u,u=a),o=[],r=a=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=o[i]+m[r]*p[i-r-1]+e,o[i--]=l%f|0,e=l/f|0;o[i]=(o[i]+e)%f|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,s?C(t,d.precision):t},y.toDecimalPlaces=y.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(_(t,0,o),void 0===e?e=r.rounding:_(e,0,8),C(n,t+S(n)+1,e))},y.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=M(r,!0):(_(t,0,o),void 0===e?e=i.rounding:_(e,0,8),n=M(r=C(new i(r),t+1,e),!0,t+1)),n},y.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return void 0===t?M(i):(_(t,0,o),void 0===e?e=a.rounding:_(e,0,8),n=M((r=C(new a(i),t+S(i)+1,e)).abs(),!1,t+S(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var t=this,e=t.constructor;return C(new e(t),S(t)+1,e.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(t){var e,n,r,o,a,c,u=this,d=u.constructor,p=+(t=new d(t));if(!t.s)return new d(i);if(!(u=new d(u)).s){if(t.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=d.precision,t.eq(i))return C(u,r);if(c=(e=t.e)>=(n=t.d.length-1),a=u.s,c){if((n=p<0?-p:p)<=m){for(o=new d(i),e=Math.ceil(r/7+4),s=!1;n%2&&O((o=o.times(u)).d,e),0!==(n=h(n/2));)O((u=u.times(u)).d,e);return s=!0,t.s<0?new d(i).div(o):C(o,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&t.d[Math.max(e,n)]?-1:1,u.s=1,s=!1,o=t.times(T(u,r+12)),s=!0,(o=w(o)).s=a,o},y.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return void 0===t?r=M(i,(n=S(i))<=a.toExpNeg||n>=a.toExpPos):(_(t,1,o),void 0===e?e=a.rounding:_(e,0,8),r=M(i=C(new a(i),t,e),t<=(n=S(i))||n<=a.toExpNeg,t)),r},y.toSignificantDigits=y.tosd=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(_(t,1,o),void 0===e?e=n.rounding:_(e,0,8)),C(new n(this),t,e)},y.toString=y.valueOf=y.val=y.toJSON=function(){var t=this,e=S(t),n=t.constructor;return M(t,e<=n.toExpNeg||e>=n.toExpPos)};var x=function(){function t(t,e){var n,r=0,i=t.length;for(t=t.slice();i--;)n=t[i]*e+r,t[i]=n%f|0,r=n/f|0;return r&&t.unshift(r),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n){for(var r=0;n--;)t[n]-=r,r=t[n]<e[n]?1:0,t[n]=r*f+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,a){var s,c,u,h,d,p,m,g,y,v,_,b,x,w,k,P,T,E,A=r.constructor,M=r.s==i.s?1:-1,O=r.d,I=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,T=I.length,k=O.length,g=(m=new A(M)).d=[],u=0;I[u]==(O[u]||0);)++u;if(I[u]>(O[u]||0)&&--c,(b=null==o?o=A.precision:a?o+(S(r)-S(i))+1:o)<0)return new A(0);if(b=b/7+2|0,u=0,1==T)for(h=0,I=I[0],b++;(u<k||h)&&b--;u++)x=h*f+(O[u]||0),g[u]=x/I|0,h=x%I|0;else{for((h=f/(I[0]+1)|0)>1&&(I=t(I,h),O=t(O,h),T=I.length,k=O.length),w=T,v=(y=O.slice(0,T)).length;v<T;)y[v++]=0;(E=I.slice()).unshift(0),P=I[0],I[1]>=f/2&&++P;do{h=0,(s=e(I,y,T,v))<0?(_=y[0],T!=v&&(_=_*f+(y[1]||0)),(h=_/P|0)>1?(h>=f&&(h=f-1),1==(s=e(d=t(I,h),y,p=d.length,v=y.length))&&(h--,n(d,T<p?E:I,p))):(0==h&&(s=h=1),d=I.slice()),(p=d.length)<v&&d.unshift(0),n(y,d,v),-1==s&&(s=e(I,y,T,v=y.length))<1&&(h++,n(y,T<v?E:I,v)),v=y.length):0===s&&(h++,y=[0]),g[u++]=h,s&&y[0]?y[v++]=O[w]||0:(y=[O[w]],v=1)}while((w++<k||void 0!==y[0])&&b--)}return g[0]||g.shift(),m.e=c,C(m,a?o+S(m)+1:o)}}();function w(t,e){var n,r,o,a,l,c=0,h=0,p=t.constructor,f=p.precision;if(S(t)>16)throw Error(u+S(t));if(!t.s)return new p(i);for(null==e?(s=!1,l=f):l=e,a=new p(.03125);t.abs().gte(.1);)t=t.times(a),h+=5;for(l+=Math.log(d(2,h))/Math.LN10*2+5|0,n=r=o=new p(i),p.precision=l;;){if(r=C(r.times(t),l),n=n.times(++c),b((a=o.plus(x(r,n,l))).d).slice(0,l)===b(o.d).slice(0,l)){for(;h--;)o=C(o.times(o),l);return p.precision=f,null==e?(s=!0,C(o,f)):o}o=a}}function S(t){for(var e=7*t.e,n=t.d[0];n>=10;n/=10)e++;return e}function k(t,e,n){if(e>t.LN10.sd())throw s=!0,n&&(t.precision=n),Error(l+"LN10 precision limit exceeded");return C(new t(t.LN10),e)}function P(t){for(var e="";t--;)e+="0";return e}function T(t,e){var n,r,o,a,c,u,h,d,p,f=1,m=t,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==e?(s=!1,d=v):d=e,m.eq(10))return null==e&&(s=!0),k(y,d);if(d+=10,y.precision=d,r=(n=b(g)).charAt(0),a=S(m),!(Math.abs(a)<15e14))return h=k(y,d+2,v).times(a+""),m=T(new y(r+"."+n.slice(1)),d-10).plus(h),y.precision=v,null==e?(s=!0,C(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((m=m.times(t)).d)).charAt(0),f++;for(a=S(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),u=c=m=x(m.minus(i),m.plus(i),d),p=C(m.times(m),d),o=3;;){if(c=C(c.times(p),d),b((h=u.plus(x(c,new y(o),d))).d).slice(0,d)===b(u.d).slice(0,d))return u=u.times(2),0!==a&&(u=u.plus(k(y,d+2,v).times(a+""))),u=x(u,new y(f),d),y.precision=v,null==e?(s=!0,C(u,v)):u;u=h,o+=2}}function E(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);)++r;for(i=e.length;48===e.charCodeAt(i-1);)--i;if(e=e.slice(r,i)){if(i-=r,n=n-r-1,t.e=h(n/7),t.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=7;r<i;)t.d.push(+e.slice(r,r+=7));r=7-(e=e.slice(r)).length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),s&&(t.e>g||t.e<-g))throw Error(u+n)}else t.s=0,t.e=0,t.d=[0];return t}function C(t,e,n){var r,i,o,a,l,c,p,m,y=t.d;for(a=1,o=y[0];o>=10;o/=10)a++;if((r=e-a)<0)r+=7,i=e,p=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(o=y.length))return t;for(p=o=y[m],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=p/(o=d(10,a-i-1))%10|0,c=e<0||void 0!==y[m+1]||p%o,c=n<4?(l||c)&&(0==n||n==(t.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?p/d(10,a-i):0:y[m-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return c?(o=S(t),y.length=1,e=e-o-1,y[0]=d(10,(7-e%7)%7),t.e=h(-e/7)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(0==r?(y.length=m,o=1,m--):(y.length=m+1,o=d(10,7-r),y[m]=i>0?(p/d(10,a-i)%d(10,i)|0)*o:0),c)for(;;){if(0==m){(y[0]+=o)==f&&(y[0]=1,++t.e);break}if(y[m]+=o,y[m]!=f)break;y[m--]=0,o=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(t.e>g||t.e<-g))throw Error(u+S(t));return t}function A(t,e){var n,r,i,o,a,l,c,u,h,d,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),s?C(e,m):e;if(c=t.d,d=e.d,r=e.e,u=t.e,c=c.slice(),a=u-r){for((h=a<0)?(n=c,a=-a,l=d.length):(n=d,r=u,l=c.length),a>(i=Math.max(Math.ceil(m/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((h=(i=c.length)<(l=d.length))&&(l=i),i=0;i<l;i++)if(c[i]!=d[i]){h=c[i]<d[i];break}a=0}for(h&&(n=c,c=d,d=n,e.s=-e.s),l=c.length,i=d.length-l;i>0;--i)c[l++]=0;for(i=d.length;i>a;){if(c[--i]<d[i]){for(o=i;o&&0===c[--o];)c[o]=f-1;--c[o],c[i]+=f}c[i]-=d[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=r,s?C(e,m):e):new p(0)}function M(t,e,n){var r,i=S(t),o=b(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+P(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+P(-i-1)+o,n&&(r=n-a)>0&&(o+=P(r))):i>=a?(o+=P(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+P(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=P(r))),t.s<0?"-"+o:o}function O(t,e){if(t.length>e)return t.length=e,!0}function I(t){if(!t||"object"!==typeof t)throw Error(l+"Object expected");var e,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if(void 0!==(r=t[n=i[e]])){if(!(h(r)===r&&r>=i[e+1]&&r<=i[e+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=t[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function t(e){var n,r,i;function o(t){var e=this;if(!(e instanceof o))return new o(t);if(e.constructor=o,t instanceof o)return e.s=t.s,e.e=t.e,void(e.d=(t=t.d)?t.slice():t);if("number"===typeof t){if(0*t!==0)throw Error(c+t);if(t>0)e.s=1;else{if(!(t<0))return e.s=0,e.e=0,void(e.d=[0]);t=-t,e.s=-1}return t===~~t&&t<1e7?(e.e=0,void(e.d=[t])):E(e,t.toString())}if("string"!==typeof t)throw Error(c+t);if(45===t.charCodeAt(0)?(t=t.slice(1),e.s=-1):e.s=1,!p.test(t))throw Error(c+t);E(e,t)}if(o.prototype=y,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=t,o.config=o.set=I,void 0===e&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return o.config(e),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(e,n,e,t))||(t.exports=r)}()},8259:(t,e,n)=>{var r=n(5797);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},8325:(t,e,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},8468:(t,e,n)=>{var r=n(5816),i=n(644),o=n(4020);t.exports=function(t,e,n){return e===e?o(t,e,n):r(t,i,n)}},8541:(t,e,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},8673:(t,e,n)=>{var r=n(3204),i=n(3713),o=n(6571);t.exports=function(t){return o(t)?r(t):i(t)}},8724:(t,e,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},8734:(t,e,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},8853:(t,e,n)=>{"use strict";t.exports=n(5896)},8883:(t,e,n)=>{var r=n(5652),i=n(6571);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},8895:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},8902:(t,e,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},8990:(t,e,n)=>{var r=n(9995)(n(2520));t.exports=r},9057:(t,e,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),l=n(914);t.exports=function(t,e,n){for(var c=-1,u=(e=r(e,t)).length,h=!1;++c<u;){var d=l(e[c]);if(!(h=null!=t&&n(t,d)))break;t=t[d]}return h||++c!=u?h:!!(u=null==t?0:t.length)&&s(u)&&a(d,u)&&(o(t)||i(t))}},9062:(t,e,n)=>{"use strict";t.exports=n(6378)},9096:(t,e,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},9115:(t,e,n)=>{var r=n(5967),i=n(6311),o=n(715);t.exports=function(t){return i(t)?o(t):r(t)}},9140:(t,e,n)=>{var r=n(7303);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},9160:(t,e,n)=>{var r=n(6913),i=n(2761);t.exports=function(t){return"number"==typeof t||i(t)&&"[object Number]"==r(t)}},9194:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},9256:(t,e,n)=>{var r=n(6532),i=n(3781),o=n(1310);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},9394:(t,e,n)=>{var r=n(2622);t.exports=function(t){return r(this,t).has(t)}},9395:(t,e,n)=>{var r=n(4262),i=n(9621),o=n(8673);t.exports=function(t){return r(t,o,i)}},9417:(t,e,n)=>{var r=n(6686);t.exports=function(t){return t===t&&!r(t)}},9621:(t,e,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},9676:t=>{var e=Math.ceil,n=Math.max;t.exports=function(t,r,i,o){for(var a=-1,s=n(e((r-t)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=t,t+=i;return l}},9686:t=>{t.exports=function(t){return null==t}},9742:(t,e,n)=>{var r=n(9841);t.exports=function(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=a}return c}},9812:(t,e,n)=>{var r=n(6552).Symbol;t.exports=r},9841:(t,e,n)=>{var r=n(6913),i=n(2761);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},9853:(t,e,n)=>{var r=n(6989);t.exports=function(t,e){return r(t,e)}},9889:(t,e,n)=>{var r=n(3950),i=n(6686);t.exports=function(t,e,n){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(t,e,{leading:o,maxWait:e,trailing:a})}},9935:(t,e,n)=>{var r=n(1340),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},9987:(t,e,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,h,d){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=s;case"[object Set]":var f=1&r;if(p||(p=l),t.size!=e.size&&!f)return!1;var m=d.get(t);if(m)return m==e;r|=2,d.set(t,e);var g=a(p(t),p(e),r,c,h,d);return d.delete(t),g;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},9995:(t,e,n)=>{var r=n(9096),i=n(6571),o=n(8673);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var l=r(n,3);e=o(e),n=function(t){return l(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[l?e[c]:c]:void 0}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&i&&r;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>r[t]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,r)=>(n.f[r](t,e),e)),[])),n.u=t=>"static/js/"+t+".7213179a.chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="frontend:";n.l=(r,i,o,a)=>{if(t[r])t[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==e+o){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+o),s.src=r),t[r]=[i];var d=(e,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((t=>t(n))),e)return e(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.p="/",(()=>{var t={792:0};n.f.j=(e,r)=>{var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=t[e]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(e),s=new Error;n.l(a,(r=>{if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+e,e)}};var e=(e,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((e=>0!==t[e]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(e&&e(r);c<a.length;c++)o=a[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),(()=>{"use strict";var t={};n.r(t),n.d(t,{Decoder:()=>Hn,Encoder:()=>Zn,PacketType:()=>Un,protocol:()=>Vn});var e={};n.r(e),n.d(e,{scaleBand:()=>mf,scaleDiverging:()=>H_,scaleDivergingLog:()=>W_,scaleDivergingPow:()=>X_,scaleDivergingSqrt:()=>K_,scaleDivergingSymlog:()=>G_,scaleIdentity:()=>Fg,scaleImplicit:()=>pf,scaleLinear:()=>Ng,scaleLog:()=>Xg,scaleOrdinal:()=>ff,scalePoint:()=>yf,scalePow:()=>iy,scaleQuantile:()=>gy,scaleQuantize:()=>yy,scaleRadial:()=>sy,scaleSequential:()=>N_,scaleSequentialLog:()=>F_,scaleSequentialPow:()=>V_,scaleSequentialQuantile:()=>Z_,scaleSequentialSqrt:()=>U_,scaleSequentialSymlog:()=>$_,scaleSqrt:()=>oy,scaleSymlog:()=>Qg,scaleThreshold:()=>vy,scaleTime:()=>D_,scaleUtc:()=>j_,tickFormat:()=>Rg});var r=n(5043),i=n.t(r,2),o=n(4391);const a=t=>{t&&t instanceof Function&&n.e(488).then(n.bind(n,2488)).then((e=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=e;n(t),r(t),i(t),o(t),a(t)}))};n(4358);var s="popstate";function l(){return m((function(t,e){let{pathname:n,search:r,hash:i}=t.location;return d("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:p(e)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function c(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function u(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function h(t,e){return{usr:t.state,key:t.key,idx:e}}function d(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof t?t:t.pathname,search:"",hash:"",..."string"===typeof e?f(e):e,state:n,key:e&&e.key||r||Math.random().toString(36).substring(2,10)}}function p(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function f(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function m(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l="POP",u=null,f=m();function m(){return(a.state||{idx:null}).idx}function g(){l="POP";let t=m(),e=null==t?null:t-f;f=t,u&&u({action:l,location:v.location,delta:e})}function y(t){let e="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof t?t:p(t);return n=n.replace(/ $/,"%20"),c(e,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,e)}null==f&&(f=0,a.replaceState({...a.state,idx:f},""));let v={get action(){return l},get location(){return t(i,a)},listen(t){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(s,g),u=t,()=>{i.removeEventListener(s,g),u=null}},createHref:t=>e(i,t),createURL:y,encodeLocation(t){let e=y(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){l="PUSH";let r=d(v.location,t,e);n&&n(r,t),f=m()+1;let s=h(r,f),c=v.createHref(r);try{a.pushState(s,"",c)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(c)}o&&u&&u({action:l,location:v.location,delta:1})},replace:function(t,e){l="REPLACE";let r=d(v.location,t,e);n&&n(r,t),f=m();let i=h(r,f),s=v.createHref(r);a.replaceState(i,"",s),o&&u&&u({action:l,location:v.location,delta:0})},go:t=>a.go(t)};return v}function g(t,e){return y(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function y(t,e,n,r){let i=O(("string"===typeof e?f(e):e).pathname||"/",n);if(null==i)return null;let o=v(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let t=M(i);a=C(o[s],t,r)}return a}function v(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(t,i,o)=>{let a={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let s=j([r,a.relativePath]),l=n.concat(a);t.children&&t.children.length>0&&(c(!0!==t.index,`Index routes must not have child routes. Please remove all child routes from route path "${s}".`),v(t.children,e,l,s)),(null!=t.path||t.index)&&e.push({path:s,score:E(s,t.index),routesMeta:l})};return t.forEach(((t,e)=>{if(""!==t.path&&t.path?.includes("?"))for(let n of _(t.path))i(t,e,n);else i(t,e)})),e}function _(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=_(r.join("/")),s=[];return s.push(...a.map((t=>""===t?o:[o,t].join("/")))),i&&s.push(...a),s.map((e=>t.startsWith("/")&&""===e?"/":e))}var b=/^:[\w-]+$/,x=3,w=2,S=1,k=10,P=-2,T=t=>"*"===t;function E(t,e){let n=t.split("/"),r=n.length;return n.some(T)&&(r+=P),e&&(r+=w),n.filter((t=>!T(t))).reduce(((t,e)=>t+(b.test(e)?x:""===e?S:k)),r)}function C(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let t=r[s],l=s===r.length-1,c="/"===o?e:e.slice(o.length)||"/",u=A({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},c),h=t.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:j([o,u.pathname]),pathnameBase:R(j([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=j([o,u.pathnameBase]))}return a}function A(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];u("*"===t||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(r.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(r.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,e?void 0:"i");return[o,r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((t,e,n)=>{let{paramName:r,isOptional:i}=e;if("*"===r){let t=s[n]||"";a=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}const l=s[n];return t[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{});return{params:l,pathname:o,pathnameBase:a,pattern:t}}function M(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return u(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function O(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}function I(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function L(t){let e=z(t);return e.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function D(t,e,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof t?r=f(t):(r={...t},c(!r.pathname||!r.pathname.includes("?"),I("?","pathname","search",r)),c(!r.pathname||!r.pathname.includes("#"),I("#","pathname","hash",r)),c(!r.search||!r.search.includes("#"),I("#","search","hash",r)));let o,a=""===t||""===r.pathname,s=a?"/":r.pathname;if(null==s)o=n;else{let t=e.length-1;if(!i&&s.startsWith("..")){let e=s.split("/");for(;".."===e[0];)e.shift(),t-=1;r.pathname=e.join("/")}o=t>=0?e[t]:"/"}let l=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof t?f(t):t,o=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:o,search:B(r),hash:N(i)}}(r,o),u=s&&"/"!==s&&s.endsWith("/"),h=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}var j=t=>t.join("/").replace(/\/\/+/g,"/"),R=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",N=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function F(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}var $=["POST","PUT","PATCH","DELETE"],V=(new Set($),["GET",...$]);new Set(V),Symbol("ResetLoaderData");var U=r.createContext(null);U.displayName="DataRouter";var Z=r.createContext(null);Z.displayName="DataRouterState";var q=r.createContext({isTransitioning:!1});q.displayName="ViewTransition";var H=r.createContext(new Map);H.displayName="Fetchers";var W=r.createContext(null);W.displayName="Await";var G=r.createContext(null);G.displayName="Navigation";var X=r.createContext(null);X.displayName="Location";var K=r.createContext({outlet:null,matches:[],isDataRoute:!1});K.displayName="Route";var Y=r.createContext(null);Y.displayName="RouteError";function J(){return null!=r.useContext(X)}function Q(){return c(J(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(X).location}var tt="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function et(t){r.useContext(G).static||r.useLayoutEffect(t)}function nt(){let{isDataRoute:t}=r.useContext(K);return t?function(){let{router:t}=ht("useNavigate"),e=pt("useNavigate"),n=r.useRef(!1);et((()=>{n.current=!0}));let i=r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(n.current,tt),n.current&&("number"===typeof r?t.navigate(r):await t.navigate(r,{fromRouteId:e,...i}))}),[t,e]);return i}():function(){c(J(),"useNavigate() may be used only in the context of a <Router> component.");let t=r.useContext(U),{basename:e,navigator:n}=r.useContext(G),{matches:i}=r.useContext(K),{pathname:o}=Q(),a=JSON.stringify(L(i)),s=r.useRef(!1);et((()=>{s.current=!0}));let l=r.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(u(s.current,tt),!s.current)return;if("number"===typeof r)return void n.go(r);let l=D(r,JSON.parse(a),o,"path"===i.relative);null==t&&"/"!==e&&(l.pathname="/"===l.pathname?e:j([e,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[e,n,a,o,t]);return l}()}r.createContext(null);function rt(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(K),{pathname:i}=Q(),o=JSON.stringify(L(n));return r.useMemo((()=>D(t,JSON.parse(o),i,"path"===e)),[t,o,i,e])}function it(t,e,n,i){c(J(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=r.useContext(G),{matches:s}=r.useContext(K),l=s[s.length-1],h=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",m=l&&l.route;{let t=m&&m.path||"";gt(d,!m||t.endsWith("*")||t.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${t}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${t}"> to <Route path="${"/"===t?"*":`${t}/*`}">.`)}let y,v=Q();if(e){let t="string"===typeof e?f(e):e;c("/"===p||t.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${t.pathname}" was given in the \`location\` prop.`),y=t}else y=v;let _=y.pathname||"/",b=_;if("/"!==p){let t=p.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(t.length).join("/")}let x=!a&&n&&n.matches&&n.matches.length>0?n.matches:g(t,{pathname:b});u(m||null!=x,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),u(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=ct(x&&x.map((t=>Object.assign({},t,{params:Object.assign({},h,t.params),pathname:j([p,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?p:j([p,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),s,n,i);return e&&w?r.createElement(X.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},w):w}function ot(){let t=ft(),e=F(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},e),n?r.createElement("pre",{style:o},n):null,s)}var at=r.createElement(ot,null),st=class extends r.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?r.createElement(K.Provider,{value:this.props.routeContext},r.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lt(t){let{routeContext:e,match:n,children:i}=t,o=r.useContext(U);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(K.Provider,{value:e},i)}function ct(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!n)return null;if(n.errors)t=n.matches;else{if(0!==e.length||n.initialized||!(n.matches.length>0))return null;t=n.matches}}let i=t,o=n?.errors;if(null!=o){let t=i.findIndex((t=>t.route.id&&void 0!==o?.[t.route.id]));c(t>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,t+1))}let a=!1,s=-1;if(n)for(let r=0;r<i.length;r++){let t=i[r];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(s=r),t.route.id){let{loaderData:e,errors:r}=n,o=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||o){a=!0,i=s>=0?i.slice(0,s+1):[i[0]];break}}}return i.reduceRight(((t,l,c)=>{let u,h=!1,d=null,p=null;n&&(u=o&&l.route.id?o[l.route.id]:void 0,d=l.route.errorElement||at,a&&(s<0&&0===c?(gt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):s===c&&(h=!0,p=l.route.hydrateFallbackElement||null)));let f=e.concat(i.slice(0,c+1)),m=()=>{let e;return e=u?d:h?p:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:t,r.createElement(lt,{match:l,routeContext:{outlet:t,matches:f,isDataRoute:null!=n},children:e})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(st,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}function ut(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ht(t){let e=r.useContext(U);return c(e,ut(t)),e}function dt(t){let e=r.useContext(Z);return c(e,ut(t)),e}function pt(t){let e=function(t){let e=r.useContext(K);return c(e,ut(t)),e}(t),n=e.matches[e.matches.length-1];return c(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ft(){let t=r.useContext(Y),e=dt("useRouteError"),n=pt("useRouteError");return void 0!==t?t:e.errors?.[n]}var mt={};function gt(t,e,n){e||mt[t]||(mt[t]=!0,u(!1,n))}r.memo((function(t){let{routes:e,future:n,state:r}=t;return it(e,void 0,r,n)}));function yt(t){let{to:e,replace:n,state:i,relative:o}=t;c(J(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=r.useContext(G);u(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=r.useContext(K),{pathname:l}=Q(),h=nt(),d=D(e,L(s),l,"path"===o),p=JSON.stringify(d);return r.useEffect((()=>{h(JSON.parse(p),{replace:n,state:i,relative:o})}),[h,p,o,n,i]),null}function vt(t){c(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _t(t){let{basename:e="/",children:n=null,location:i,navigationType:o="POP",navigator:a,static:s=!1}=t;c(!J(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:l,navigator:a,static:s,future:{}})),[l,a,s]);"string"===typeof i&&(i=f(i));let{pathname:d="/",search:p="",hash:m="",state:g=null,key:y="default"}=i,v=r.useMemo((()=>{let t=O(d,l);return null==t?null:{location:{pathname:t,search:p,hash:m,state:g,key:y},navigationType:o}}),[l,d,p,m,g,y,o]);return u(null!=v,`<Router basename="${l}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:r.createElement(G.Provider,{value:h},r.createElement(X.Provider,{children:n,value:v}))}function bt(t){let{children:e,location:n}=t;return it(xt(e),n)}r.Component;function xt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(t,((t,i)=>{if(!r.isValidElement(t))return;let o=[...e,i];if(t.type===r.Fragment)return void n.push.apply(n,xt(t.props.children,o));c(t.type===vt,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),c(!t.props.index||!t.props.children,"An index route cannot have child routes.");let a={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=xt(t.props.children,o)),n.push(a)})),n}var wt="get",St="application/x-www-form-urlencoded";function kt(t){return null!=t&&"string"===typeof t.tagName}var Pt=null;var Tt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Et(t){return null==t||Tt.has(t)?t:(u(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${St}"`),null)}function Ct(t,e){let n,r,i,o,a;if(function(t){return kt(t)&&"form"===t.tagName.toLowerCase()}(t)){let a=t.getAttribute("action");r=a?O(a,e):null,n=t.getAttribute("method")||wt,i=Et(t.getAttribute("enctype"))||St,o=new FormData(t)}else if(function(t){return kt(t)&&"button"===t.tagName.toLowerCase()}(t)||function(t){return kt(t)&&"input"===t.tagName.toLowerCase()}(t)&&("submit"===t.type||"image"===t.type)){let a=t.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=t.getAttribute("formaction")||a.getAttribute("action");if(r=s?O(s,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||wt,i=Et(t.getAttribute("formenctype"))||Et(a.getAttribute("enctype"))||St,o=new FormData(a,t),!function(){if(null===Pt)try{new FormData(document.createElement("form"),0),Pt=!1}catch(t){Pt=!0}return Pt}()){let{name:e,type:n,value:r}=t;if("image"===n){let t=e?`${e}.`:"";o.append(`${t}x`,"0"),o.append(`${t}y`,"0")}else e&&o.append(e,r)}}else{if(kt(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wt,r=null,i=St,a=t}return o&&"text/plain"===i&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function At(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}async function Mt(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ot(t){return null!=t&&"string"===typeof t.page}function It(t){return null!=t&&(null==t.href?"preload"===t.rel&&"string"===typeof t.imageSrcSet&&"string"===typeof t.imageSizes:"string"===typeof t.rel&&"string"===typeof t.href)}function zt(t,e,n,r,i,o){let a=(t,e)=>!n[e]||t.route.id!==n[e].route.id,s=(t,e)=>n[e].pathname!==t.pathname||n[e].route.path?.endsWith("*")&&n[e].params["*"]!==t.params["*"];return"assets"===o?e.filter(((t,e)=>a(t,e)||s(t,e))):"data"===o?e.filter(((e,o)=>{let l=r.routes[e.route.id];if(!l||!l.hasLoader)return!1;if(a(e,o)||s(e,o))return!0;if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:e.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Lt(t){return[...new Set(t)]}function Dt(t,e){let n=new Set,r=new Set(e);return t.reduce(((t,i)=>{if(e&&!Ot(i)&&"script"===i.as&&i.href&&r.has(i.href))return t;let o=JSON.stringify(function(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}(i));return n.has(o)||(n.add(o),t.push({key:o,link:i})),t}),[])}function jt(t){return{__html:t}}Symbol("SingleFetchRedirect");function Rt(t){let e="string"===typeof t?new URL(t,"undefined"===typeof window?"server://singlefetch/":window.location.origin):t;return"/"===e.pathname?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}r.Component;function Bt(t){let{error:e,isOutsideRemixApp:n}=t;console.error(e);let i,o=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(F(e))return r.createElement(Nt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},e.status," ",e.statusText),o);if(e instanceof Error)0;else{let t=null==e?"Unknown Error":"object"===typeof e&&"toString"in e?e.toString():JSON.stringify(e);new Error(t)}return r.createElement(Nt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function Nt(t){let{title:e,renderScripts:n,isOutsideRemixApp:i,children:o}=t,{routeModules:a}=Zt();return a.root?.Layout&&!i?o:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,e)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,n?r.createElement(Yt,null):null)))}function Ft(t){return!t}function $t(){let t=r.useContext(U);return At(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Vt(){let t=r.useContext(Z);return At(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ut=r.createContext(void 0);function Zt(){let t=r.useContext(Ut);return At(t,"You must render this element inside a <HydratedRouter> element"),t}function qt(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ht(t,e,n){if(n&&!Kt)return[t[0]];if(e){let n=t.findIndex((t=>void 0!==e[t.route.id]));return t.slice(0,n+1)}return t}function Wt(t){let{page:e,...n}=t,{router:i}=$t(),o=r.useMemo((()=>g(i.routes,e,i.basename)),[i.routes,e,i.basename]);return o?r.createElement(Xt,{page:e,matches:o,...n}):null}function Gt(t){let{manifest:e,routeModules:n}=Zt(),[i,o]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(t,e,n){return Dt((await Promise.all(t.map((async t=>{let r=e.routes[t.route.id];if(r){let t=await Mt(r,n);return t.links?t.links():[]}return[]})))).flat(1).filter(It).filter((t=>"stylesheet"===t.rel||"preload"===t.rel)).map((t=>"stylesheet"===t.rel?{...t,rel:"prefetch",as:"style"}:{...t,rel:"prefetch"})))}(t,e,n).then((t=>{r||o(t)})),()=>{r=!0}}),[t,e,n]),i}function Xt(t){let{page:e,matches:n,...i}=t,o=Q(),{manifest:a,routeModules:s}=Zt(),{loaderData:l,matches:c}=Vt(),u=r.useMemo((()=>zt(e,n,c,a,o,"data")),[e,n,c,a,o]),h=r.useMemo((()=>zt(e,n,c,a,o,"assets")),[e,n,c,a,o]),d=r.useMemo((()=>{if(e===o.pathname+o.search+o.hash)return[];let t=new Set,r=!1;if(n.forEach((e=>{let n=a.routes[e.route.id];n&&n.hasLoader&&(!u.some((t=>t.route.id===e.route.id))&&e.route.id in l&&s[e.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:t.add(e.route.id))})),0===t.size)return[];let i=Rt(e);return r&&t.size>0&&i.searchParams.set("_routes",n.filter((e=>t.has(e.route.id))).map((t=>t.route.id)).join(",")),[i.pathname+i.search]}),[l,o,a,u,n,e,s]),p=r.useMemo((()=>function(t,e){return Lt(t.map((t=>{let n=e.routes[t.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(h,a)),[h,a]),f=Gt(h);return r.createElement(r.Fragment,null,d.map((t=>r.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...i}))),p.map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,...i}))),f.map((t=>{let{key:e,link:n}=t;return r.createElement("link",{key:e,...n})})))}Ut.displayName="FrameworkContext";var Kt=!1;function Yt(t){let{manifest:e,serverHandoffString:n,isSpaMode:i,renderMeta:o}=Zt(),{router:a,static:s,staticContext:l}=$t(),{matches:c}=Vt(),u=Ft(i);o&&(o.didRenderScripts=!0);let h=Ht(c,null,i);r.useEffect((()=>{0}),[]);let d=r.useMemo((()=>{let i=l?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",o=s?`${e.hmr?.runtime?`import ${JSON.stringify(e.hmr.runtime)};`:""}${u?"":`import ${JSON.stringify(e.url)}`};\n${h.map(((t,n)=>`import * as route${n} from ${JSON.stringify(e.routes[t.route.id].module)};`)).join("\n")}\n  ${u?`window.__reactRouterManifest = ${JSON.stringify(function(t,e){let n=new Set(e.state.matches.map((t=>t.route.id))),r=e.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((t=>{let r=g(e.routes,t,e.basename);r&&r.forEach((t=>n.add(t.route.id)))}));let o=[...n].reduce(((e,n)=>Object.assign(e,{[n]:t.routes[n]})),{});return{...t,routes:o}}(e,a),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((t,e)=>`${JSON.stringify(t.route.id)}:route${e}`)).join(",")}};\n\nimport(${JSON.stringify(e.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:jt(i),type:void 0}),r.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:jt(o),type:"module",async:!0}))}),[]),p=h.map((t=>{let n=e.routes[t.route.id];return n?(n.imports||[]).concat([n.module]):[]})).flat(1),f=Kt?[]:e.entry.imports.concat(p);return Kt?null:r.createElement(r.Fragment,null,u?null:r.createElement("link",{rel:"modulepreload",href:e.url,crossOrigin:t.crossOrigin}),r.createElement("link",{rel:"modulepreload",href:e.entry.module,crossOrigin:t.crossOrigin}),function(t){return[...new Set(t)]}(f).map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,crossOrigin:t.crossOrigin}))),d)}function Jt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{e.forEach((e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}var Qt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Qt&&(window.__reactRouterVersion="7.1.5")}catch(RC){}function te(t){let{basename:e,children:n,window:i}=t,o=r.useRef();null==o.current&&(o.current=l({window:i,v5Compat:!0}));let a=o.current,[s,c]=r.useState({action:a.action,location:a.location}),u=r.useCallback((t=>{r.startTransition((()=>c(t)))}),[c]);return r.useLayoutEffect((()=>a.listen(u)),[a,u]),r.createElement(_t,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a})}var ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ne=r.forwardRef((function(t,e){let n,{onClick:i,discover:o="render",prefetch:a="none",relative:s,reloadDocument:l,replace:h,state:d,target:f,to:m,preventScrollReset:g,viewTransition:y,...v}=t,{basename:_}=r.useContext(G),b="string"===typeof m&&ee.test(m),x=!1;if("string"===typeof m&&b&&(n=m,Qt))try{let t=new URL(window.location.href),e=m.startsWith("//")?new URL(t.protocol+m):new URL(m),n=O(e.pathname,_);e.origin===t.origin&&null!=n?m=n+e.search+e.hash:x=!0}catch(RC){u(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=function(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(J(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(G),{hash:o,pathname:a,search:s}=rt(t,{relative:e}),l=a;return"/"!==n&&(l="/"===a?n:j([n,a])),i.createHref({pathname:l,search:s,hash:o})}(m,{relative:s}),[S,k,P]=function(t,e){let n=r.useContext(Ut),[i,o]=r.useState(!1),[a,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=e,p=r.useRef(null);r.useEffect((()=>{if("render"===t&&s(!0),"viewport"===t){let t=new IntersectionObserver((t=>{t.forEach((t=>{s(t.isIntersecting)}))}),{threshold:.5});return p.current&&t.observe(p.current),()=>{t.disconnect()}}}),[t]),r.useEffect((()=>{if(i){let t=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(t)}}}),[i]);let f=()=>{o(!0)},m=()=>{o(!1),s(!1)};return n?"intent"!==t?[a,p,{}]:[a,p,{onFocus:qt(l,f),onBlur:qt(c,m),onMouseEnter:qt(u,f),onMouseLeave:qt(h,m),onTouchStart:qt(d,f)}]:[!1,p,{}]}(a,v),T=function(t){let{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=nt(),c=Q(),u=rt(t,{relative:a});return r.useCallback((r=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(r,e)){r.preventDefault();let e=void 0!==n?n:p(c)===p(u);l(t,{replace:e,state:i,preventScrollReset:o,relative:a,viewTransition:s})}}),[c,l,u,n,i,e,t,o,a,s])}(m,{replace:h,state:d,target:f,preventScrollReset:g,relative:s,viewTransition:y});let E=r.createElement("a",{...v,...P,href:n||w,onClick:x||l?i:function(t){i&&i(t),t.defaultPrevented||T(t)},ref:Jt(e,k),target:f,"data-discover":b||"render"!==o?void 0:"true"});return S&&!b?r.createElement(r.Fragment,null,E,r.createElement(Wt,{page:w})):E}));ne.displayName="Link";var re=r.forwardRef((function(t,e){let{"aria-current":n="page",caseSensitive:i=!1,className:o="",end:a=!1,style:s,to:l,viewTransition:u,children:h,...d}=t,p=rt(l,{relative:d.relative}),f=Q(),m=r.useContext(Z),{navigator:g,basename:y}=r.useContext(G),v=null!=m&&function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(q);c(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ae("useViewTransitionState"),o=rt(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=O(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=O(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=A(o.pathname,s)||null!=A(o.pathname,a)}(p)&&!0===u,_=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,b=f.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(b=b.toLowerCase(),x=x?x.toLowerCase():null,_=_.toLowerCase()),x&&y&&(x=O(x,y)||x);const w="/"!==_&&_.endsWith("/")?_.length-1:_.length;let S,k=b===_||!a&&b.startsWith(_)&&"/"===b.charAt(w),P=null!=x&&(x===_||!a&&x.startsWith(_)&&"/"===x.charAt(_.length)),T={isActive:k,isPending:P,isTransitioning:v},E=k?n:void 0;S="function"===typeof o?o(T):[o,k?"active":null,P?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof s?s(T):s;return r.createElement(ne,{...d,"aria-current":E,className:S,ref:e,style:C,to:l,viewTransition:u},"function"===typeof h?h(T):h)}));re.displayName="NavLink";var ie=r.forwardRef(((t,e)=>{let{discover:n="render",fetcherKey:i,navigate:o,reloadDocument:a,replace:s,state:l,method:u=wt,action:h,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:g,...y}=t,v=ce(),_=function(t){let{relative:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(G),i=r.useContext(K);c(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...rt(t||".",{relative:e})},s=Q();if(null==t){a.search=s.search;let t=new URLSearchParams(a.search),e=t.getAll("index");if(e.some((t=>""===t))){t.delete("index"),e.filter((t=>t)).forEach((e=>t.append("index",e)));let n=t.toString();a.search=n?`?${n}`:""}}t&&"."!==t||!o.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:j([n,a.pathname]));return p(a)}(h,{relative:f}),b="get"===u.toLowerCase()?"get":"post",x="string"===typeof h&&ee.test(h);return r.createElement("form",{ref:e,method:b,action:_,onSubmit:a?d:t=>{if(d&&d(t),t.defaultPrevented)return;t.preventDefault();let e=t.nativeEvent.submitter,n=e?.getAttribute("formmethod")||u;v(e||t.currentTarget,{fetcherKey:i,method:n,navigate:o,replace:s,state:l,relative:f,preventScrollReset:m,viewTransition:g})},...y,"data-discover":x||"render"!==n?void 0:"true"})}));function oe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ae(t){let e=r.useContext(U);return c(e,oe(t)),e}ie.displayName="Form";var se=0,le=()=>`__${String(++se)}__`;function ce(){let{router:t}=ae("useSubmit"),{basename:e}=r.useContext(G),n=pt("useRouteId");return r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:a,encType:s,formData:l,body:c}=Ct(r,e);if(!1===i.navigate){let e=i.fetcherKey||le();await t.fetch(e,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[t,e,n])}new TextEncoder;n(7950);const ue=(0,r.createContext)(null);function he(){const t=(0,r.use)(ue);if(null==t)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function de(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function pe(t,e){return null==e?function(e,n){const i=(0,r.useRef)(void 0);return i.current||(i.current=t(e,n)),i}:function(n,i){const o=(0,r.useRef)(void 0);o.current||(o.current=t(n,i));const a=(0,r.useRef)(n),{instance:s}=o.current;return(0,r.useEffect)((function(){a.current!==n&&(e(s,n,a.current),a.current=n)}),[s,n,e]),o}}function fe(t,e){const n=(0,r.useRef)(void 0);(0,r.useEffect)((function(){return null!=e&&t.instance.on(e),n.current=e,function(){null!=n.current&&t.instance.off(n.current),n.current=null}}),[t,e])}function me(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function ge(t,e){(0,r.useEffect)((function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}}),[e,t])}function ye(t){return function(e){const n=he(),i=t(me(e,n),n);return function(t,e){const n=(0,r.useRef)(e);(0,r.useEffect)((function(){e!==n.current&&null!=t.attributionControl&&(null!=n.current&&t.attributionControl.removeAttribution(n.current),null!=e&&t.attributionControl.addAttribution(e)),n.current=e}),[t,e])}(n.map,e.attribution),fe(i.current,e.eventHandlers),ge(i.current,n),i}}function ve(t){return function(e){const n=he(),i=t(me(e,n),n);return fe(i.current,e.eventHandlers),ge(i.current,n),function(t,e){const n=(0,r.useRef)(void 0);(0,r.useEffect)((function(){if(e.pathOptions!==n.current){const r=e.pathOptions??{};t.instance.setStyle(r),n.current=r}}),[t,e])}(i.current,e),i}}function _e(t,e){return function(t){function e(e,n){const{instance:i}=t(e).current;return(0,r.useImperativeHandle)(n,(()=>i)),null}return(0,r.forwardRef)(e)}(ye(pe(t,e)))}function be(t,e,n){const{opacity:r,zIndex:i}=e;null!=r&&r!==n.opacity&&t.setOpacity(r),null!=i&&i!==n.zIndex&&t.setZIndex(i)}var xe=n(228),we=(n(247),n(579));class Se extends r.Component{render(){const{className:t,children:e,...n}=this.props;return(0,we.jsx)("div",{className:void 0===t?"row":`row ${t}`,...n,children:e})}}class ke extends r.Component{render(){const{className:t,children:e,...n}=this.props;return(0,we.jsx)("div",{className:void 0===t?"column":`column ${t}`,...n,children:e})}}class Pe extends r.Component{render(){const{className:t,children:e,...n}=this.props;return(0,we.jsx)("div",{className:void 0===t?"grid":`grid ${t}`,...n,children:e})}}const Te=_e((function(t,e){let{url:n,attribution:r,...i}=t;return de((0,xe.maplibreGL)({style:n,attribution:r,noWrap:!0},me(i,e)),e)}),(function(t,e,n){be(t,e,n);const{url:r,attribution:i}=e;null!=r&&r!==n.url&&t.getMaplibreMap().setStyle(r),null!=i&&i!==n.attribution&&(t.options.attribution=i)}));function Ee(){const t=Q();return(0,r.useEffect)((()=>{const e=document.querySelector(`#mainNav [data-href="${t.pathname}"]`);return e.classList.add("currentSubPage"),()=>e.classList.remove("currentSubPage")}),[]),(0,we.jsx)(ke,{id:"home",children:"hello"})}function Ce(t,e){let{bounds:n,boundsOptions:i,center:o,children:a,className:s,id:l,placeholder:c,style:u,whenReady:h,zoom:d,...p}=t;const[f]=(0,r.useState)({className:s,id:l,style:u}),[m,g]=(0,r.useState)(null),y=(0,r.useRef)(void 0);(0,r.useImperativeHandle)(e,(()=>m?.map??null),[m]);const v=(0,r.useCallback)((t=>{if(null!==t&&!y.current){const e=new xe.Map(t,p);y.current=e,null!=o&&null!=d?e.setView(o,d):null!=n&&e.fitBounds(n,i),null!=h&&e.whenReady(h),g(function(t){return Object.freeze({__version:1,map:t})}(e))}}),[]);(0,r.useEffect)((()=>()=>{m?.map.remove()}),[m]);const _=m?r.createElement(ue,{value:m},a):c??null;return r.createElement("div",{...f,ref:v},_)}const Ae=(0,r.forwardRef)(Ce),Me="fbae11ae-6586-4372-b60c-90c181f2f668",Oe=[{attribution:'&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> &copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',URL:`https://tiles.stadiamaps.com/styles/outdoors.json?api_key=${Me}`},{attribution:'&copy; CNES, Distribution Airbus DS, \xa9 Airbus DS, \xa9 PlanetObserver (Contains Copernicus Data) | &copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> &copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',URL:`https://tiles.stadiamaps.com/tiles/alidade_satellite/{z}/{x}/{y}{r}.png?api_key=${Me}`}],Ie=Object.create(null);Ie.open="0",Ie.close="1",Ie.ping="2",Ie.pong="3",Ie.message="4",Ie.upgrade="5",Ie.noop="6";const ze=Object.create(null);Object.keys(Ie).forEach((t=>{ze[Ie[t]]=t}));const Le={type:"error",data:"parser error"},De="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),je="function"===typeof ArrayBuffer,Re=t=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Be=(t,e,n)=>{let{type:r,data:i}=t;return De&&i instanceof Blob?e?n(i):Ne(i,n):je&&(i instanceof ArrayBuffer||Re(i))?e?n(i):Ne(new Blob([i]),n):n(Ie[r]+(i||""))},Ne=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(t)};function Fe(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let $e;const Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ue="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)Ue[Ve.charCodeAt(n)]=n;const Ze="function"===typeof ArrayBuffer,qe=(t,e)=>{if("string"!==typeof t)return{type:"message",data:We(t,e)};const n=t.charAt(0);if("b"===n)return{type:"message",data:He(t.substring(1),e)};return ze[n]?t.length>1?{type:ze[n],data:t.substring(1)}:{type:ze[n]}:Le},He=(t,e)=>{if(Ze){const n=(t=>{let e,n,r,i,o,a=.75*t.length,s=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);const c=new ArrayBuffer(a),u=new Uint8Array(c);for(e=0;e<s;e+=4)n=Ue[t.charCodeAt(e)],r=Ue[t.charCodeAt(e+1)],i=Ue[t.charCodeAt(e+2)],o=Ue[t.charCodeAt(e+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c})(t);return We(n,e)}return{base64:!0,data:t}},We=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,Ge=String.fromCharCode(30);function Xe(){return new TransformStream({transform(t,e){!function(t,e){De&&t.data instanceof Blob?t.data.arrayBuffer().then(Fe).then(e):je&&(t.data instanceof ArrayBuffer||Re(t.data))?e(Fe(t.data)):Be(t,!1,(t=>{$e||($e=new TextEncoder),e($e.encode(t))}))}(t,(n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const t=new DataView(i.buffer);t.setUint8(0,126),t.setUint16(1,r)}else{i=new Uint8Array(9);const t=new DataView(i.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(r))}t.data&&"string"!==typeof t.data&&(i[0]|=128),e.enqueue(i),e.enqueue(n)}))}})}let Ke;function Ye(t){return t.reduce(((t,e)=>t+e.length),0)}function Je(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function Qe(t){if(t)return function(t){for(var e in Qe.prototype)t[e]=Qe.prototype[e];return t}(t)}Qe.prototype.on=Qe.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Qe.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},Qe.prototype.off=Qe.prototype.removeListener=Qe.prototype.removeAllListeners=Qe.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},Qe.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},Qe.prototype.emitReserved=Qe.prototype.emit,Qe.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Qe.prototype.hasListeners=function(t){return!!this.listeners(t).length};const tn="function"===typeof Promise&&"function"===typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),en="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function nn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{})}const rn=en.setTimeout,on=en.clearTimeout;function an(t,e){e.useNativeTimers?(t.setTimeoutFn=rn.bind(en),t.clearTimeoutFn=on.bind(en)):(t.setTimeoutFn=en.setTimeout.bind(en),t.clearTimeoutFn=en.clearTimeout.bind(en))}function sn(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class ln extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class cn extends Qe{constructor(t){super(),this.writable=!1,an(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,n){return super.emitReserved("error",new ln(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=qe(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=function(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}(t);return e.length?"?"+e:""}}class un extends cn{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let t=0;this._polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const n=t.split(Ge),r=[];for(let i=0;i<n.length;i++){const t=qe(n[i],e);if(r.push(t),"error"===t.type)break}return r})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach(((t,o)=>{Be(t,!1,(t=>{r[o]=t,++i===n&&e(r.join(Ge))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=sn()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}}let hn=!1;try{hn="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(BC){}const dn=hn;function pn(){}class fn extends un{constructor(t){if(super(t),"undefined"!==typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!==typeof location&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}class mn extends Qe{constructor(t,e,n){super(),this.createRequest=t,an(this,n),this._opts=n,this._method=n.method||"GET",this._uri=e,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var t;const e=nn(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(e);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let t in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(t)&&n.setRequestHeader(t,this._opts.extraHeaders[t])}}catch(RC){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(RC){}try{n.setRequestHeader("Accept","*/*")}catch(RC){}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var t;3===n.readyState&&(null===(t=this._opts.cookieJar)||void 0===t||t.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(RC){return void this.setTimeoutFn((()=>{this._onError(RC)}),0)}"undefined"!==typeof document&&(this._index=mn.requestsCount++,mn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=pn,t)try{this._xhr.abort()}catch(RC){}"undefined"!==typeof document&&delete mn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(mn.requestsCount=0,mn.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",gn);else if("function"===typeof addEventListener){addEventListener("onpagehide"in en?"pagehide":"unload",gn,!1)}function gn(){for(let t in mn.requests)mn.requests.hasOwnProperty(t)&&mn.requests[t].abort()}const yn=function(){const t=vn({xdomain:!1});return t&&null!==t.responseType}();function vn(t){const e=t.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!e||dn))return new XMLHttpRequest}catch(RC){}if(!e)try{return new(en[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(RC){}}const _n="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class bn extends cn{get name(){return"websocket"}doOpen(){const t=this.uri(),e=this.opts.protocols,n=_n?{}:nn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,n)}catch(BC){return this.emitReserved("error",BC)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;Be(n,this.supportsBinary,(t=>{try{this.doWrite(n,t)}catch(RC){}r&&tn((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=sn()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}const xn=en.WebSocket||en.MozWebSocket;const wn={websocket:class extends bn{createSocket(t,e,n){return _n?new xn(t,e,n):e?new xn(t,e):new xn(t)}doWrite(t,e){this.ws.send(e)}},webtransport:class extends cn{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(BC){return this.emitReserved("error",BC)}this._transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((t=>{const e=function(t,e){Ke||(Ke=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(a,s){for(n.push(a);;){if(0===r){if(Ye(n)<1)break;const t=Je(n,1);o=128===(128&t[0]),i=127&t[0],r=i<126?3:126===i?1:2}else if(1===r){if(Ye(n)<2)break;const t=Je(n,2);i=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),r=3}else if(2===r){if(Ye(n)<8)break;const t=Je(n,8),e=new DataView(t.buffer,t.byteOffset,t.length),o=e.getUint32(0);if(o>Math.pow(2,21)-1){s.enqueue(Le);break}i=o*Math.pow(2,32)+e.getUint32(4),r=3}else{if(Ye(n)<i)break;const t=Je(n,i);s.enqueue(qe(o?t:Ke.decode(t),e)),r=0}if(0===i||i>t){s.enqueue(Le);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),r=Xe();r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then((t=>{let{done:e,value:n}=t;e||(this.onPacket(n),i())})).catch((t=>{}))};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then((()=>this.onOpen()))}))}))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;this._writer.write(n).then((()=>{r&&tn((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var t;null===(t=this._transport)||void 0===t||t.close()}},polling:class extends fn{constructor(t){super(t);const e=t&&t.forceBase64;this.supportsBinary=yn&&!e}request(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{xd:this.xd},this.opts),new mn(vn,this.uri(),t)}}},Sn=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,kn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Pn(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=Sn.exec(t||""),o={},a=14;for(;a--;)o[kn[a]]=i[a]||"";return-1!=n&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");"/"!=e.slice(0,1)&&0!==e.length||r.splice(0,1);"/"==e.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,r){e&&(n[e]=r)})),n}(0,o.query),o}const Tn="function"===typeof addEventListener&&"function"===typeof removeEventListener,En=[];Tn&&addEventListener("offline",(()=>{En.forEach((t=>t()))}),!1);class Cn extends Qe{constructor(t,e){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"===typeof t&&(e=t,t=null),t){const n=Pn(t);e.hostname=n.host,e.secure="https"===n.protocol||"wss"===n.protocol,e.port=n.port,n.query&&(e.query=n.query)}else e.host&&(e.hostname=Pn(e.host).host);an(this,e),this.secure=null!=e.secure?e.secure:"undefined"!==typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach((t=>{const e=t.prototype.name;this.transports.push(e),this._transportsByName[e]=t})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let t=n[r].split("=");e[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}return e}(this.opts.query)),Tn&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},En.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const t=this.opts.rememberUpgrade&&Cn.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(t);e.open(),this.setTransport(e)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(t=>this._onClose("transport close",t)))}onOpen(){this.readyState="open",Cn.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+="string"===typeof(e=r)?function(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}var e;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,tn((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),t}write(t,e,n){return this._sendPacket("message",t,e,n),this}send(t,e,n){return this._sendPacket("message",t,e,n),this}_sendPacket(t,e,n,r){if("function"===typeof e&&(r=e,e=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:t,data:e,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}_onError(t){if(Cn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Tn&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const t=En.indexOf(this._offlineEventListener);-1!==t&&En.splice(t,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}}}Cn.protocol=4;class An extends Cn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),n=!1;Cn.priorWebsocketSuccess=!1;const r=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Cn.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function i(){n||(n=!0,c(),e.close(),e=null)}const o=t=>{const n=new Error("probe error: "+t);n.transport=e.name,i(),this.emitReserved("upgradeError",n)};function a(){o("transport closed")}function s(){o("socket closed")}function l(t){e&&t.name!==e.name&&i()}const c=()=>{e.removeListener("open",r),e.removeListener("error",o),e.removeListener("close",a),this.off("close",s),this.off("upgrading",l)};e.once("open",r),e.once("error",o),e.once("close",a),this.once("close",s),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{n||e.open()}),200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const e=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}class Mn extends An{constructor(t){const e="object"===typeof t?t:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!e.transports||e.transports&&"string"===typeof e.transports[0])&&(e.transports=(e.transports||["polling","websocket","webtransport"]).map((t=>wn[t])).filter((t=>!!t))),super(t,e)}}const On="function"===typeof ArrayBuffer,In=Object.prototype.toString,zn="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===In.call(Blob),Ln="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===In.call(File);function Dn(t){return On&&(t instanceof ArrayBuffer||(t=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||zn&&t instanceof Blob||Ln&&t instanceof File}function jn(t,e){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(jn(t[e]))return!0;return!1}if(Dn(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return jn(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&jn(t[n]))return!0;return!1}function Rn(t){const e=[],n=t.data,r=t;return r.data=Bn(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Bn(t,e){if(!t)return t;if(Dn(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Bn(t[r],e);return n}if("object"===typeof t&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Bn(t[r],e));return n}return t}function Nn(t,e){return t.data=Fn(t.data,e),delete t.attachments,t}function Fn(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"===typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Fn(t[n],e);else if("object"===typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Fn(t[n],e));return t}const $n=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Vn=5;var Un;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(Un||(Un={}));class Zn{constructor(t){this.replacer=t}encode(t){return t.type!==Un.EVENT&&t.type!==Un.ACK||!jn(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===Un.EVENT?Un.BINARY_EVENT:Un.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==Un.BINARY_EVENT&&t.type!==Un.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=Rn(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}function qn(t){return"[object Object]"===Object.prototype.toString.call(t)}class Hn extends Qe{constructor(t){super(),this.reviver=t}add(t){let e;if("string"===typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===Un.BINARY_EVENT;n||e.type===Un.BINARY_ACK?(e.type=n?Un.EVENT:Un.ACK,this.reconstructor=new Wn(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!Dn(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===Un[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Un.BINARY_EVENT||n.type===Un.BINARY_ACK){const r=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const i=t.substring(r,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===t.charAt(e+1)){const r=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}n.nsp=t.substring(r,e)}else n.nsp="/";const r=t.charAt(e+1);if(""!==r&&Number(r)==r){const r=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){const r=this.tryParse(t.substr(e));if(!Hn.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(RC){return!1}}static isPayloadValid(t,e){switch(t){case Un.CONNECT:return qn(e);case Un.DISCONNECT:return void 0===e;case Un.CONNECT_ERROR:return"string"===typeof e||qn(e);case Un.EVENT:case Un.BINARY_EVENT:return Array.isArray(e)&&("number"===typeof e[0]||"string"===typeof e[0]&&-1===$n.indexOf(e[0]));case Un.ACK:case Un.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Wn{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=Nn(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Gn(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Xn=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Kn extends Qe{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Gn(t,"open",this.onopen.bind(this)),Gn(t,"packet",this.onpacket.bind(this)),Gn(t,"error",this.onerror.bind(this)),Gn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this}emit(t){var e,n,r;if(Xn.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(o.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(o),this;const s={type:Un.EVENT,data:o,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"===typeof o[o.length-1]){const t=this.ids++,e=o.pop();this._registerAckCallback(t,e),s.id=t}const l=null===(n=null===(e=this.io.engine)||void 0===e?void 0:e.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,e){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[t]=e);const o=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),i),a=function(){r.io.clearTimeoutFn(o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.apply(r,n)};a.withError=!0,this.acks[t]=a}emitWithAck(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new Promise(((e,r)=>{const i=(t,n)=>t?r(t):e(n);i.withError=!0,n.push(i),this.emit(t,...n)}))}_addToQueue(t){var e=this;let n;"function"===typeof t[t.length-1]&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((function(t){if(r!==e._queue[0])return;if(null!==t)r.tryCount>e._opts.retries&&(e._queue.shift(),n&&n(t));else if(e._queue.shift(),n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];n(null,...o)}return r.pending=!1,e._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Un.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((t=>{if(!this.sendBuffer.some((e=>String(e.id)===t))){const e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}}))}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Un.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Un.EVENT:case Un.BINARY_EVENT:this.onevent(t);break;case Un.ACK:case Un.BINARY_ACK:this.onack(t);break;case Un.DISCONNECT:this.ondisconnect();break;case Un.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"===typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e.packet({type:Un.ACK,id:t,data:i})}}}onack(t){const e=this.acks[t.id];"function"===typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Un.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function Yn(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Yn.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Yn.prototype.reset=function(){this.attempts=0},Yn.prototype.setMin=function(t){this.ms=t},Yn.prototype.setMax=function(t){this.max=t},Yn.prototype.setJitter=function(t){this.jitter=t};class Jn extends Qe{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,an(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Yn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||t;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Mn(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Gn(e,"open",(function(){n.onopen(),t&&t()})),i=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},o=Gn(e,"error",i);if(!1!==this._timeout){const t=this._timeout,n=this.setTimeoutFn((()=>{r(),i(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Gn(t,"ping",this.onping.bind(this)),Gn(t,"data",this.ondata.bind(this)),Gn(t,"error",this.onerror.bind(this)),Gn(t,"close",this.onclose.bind(this)),Gn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(RC){this.onclose("parse error",RC)}}ondecoded(t){tn((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Kn(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const n of e){if(this.nsps[n].active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Qn={};function tr(t,e){"object"===typeof t&&(e=t,t=void 0);const n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=t;n=n||"undefined"!==typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"===typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t="undefined"!==typeof n?n.protocol+"//"+t:"https://"+t),r=Pn(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(t,(e=e||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=Qn[i]&&o in Qn[i].nsps;let s;return e.forceNew||e["force new connection"]||!1===e.multiplex||a?s=new Jn(r,e):(Qn[i]||(Qn[i]=new Jn(r,e)),s=Qn[i]),n.query&&!e.query&&(e.query=n.queryKey),s.socket(n.path,e)}Object.assign(tr,{Manager:Jn,Socket:Kn,io:tr,connect:tr});const er=tr("http://localhost:5000",{autoConnect:!1,reconnectionAttempts:2});function nr(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nr(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}const rr=function(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nr(t))&&(r&&(r+=" "),r+=e);return r};function ir(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if("components"===i||"slots"===i)n[i]={...t[i],...n[i]};else if("componentsProps"===i||"slotProps"===i){const r=t[i],o=e[i];if(o)if(r){n[i]={...o};for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)){const e=t;n[i][e]=ir(r[e],o[e])}}else n[i]=o;else n[i]=r||{}}else void 0===n[i]&&(n[i]=t[i])}return n}function or(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in t){const o=t[i];let a="",s=!0;for(let t=0;t<o.length;t+=1){const r=o[t];r&&(a+=(!0===s?"":" ")+e(r),s=!1,n&&n[r]&&(a+=" "+n[r]))}r[i]=a}return r}function ar(t){const e=new URL(`https://mui.com/production-error/?code=${t}`);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((t=>e.searchParams.append("args[]",t))),`Minified MUI error #${t}; visit ${e} for the full message.`}const sr=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(e,Math.min(t,n))};function lr(t){return sr(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function cr(t){if(t.type)return t;if("#"===t.charAt(0))return cr(function(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&1===n[0].length&&(n=n.map((t=>t+t))),n?`rgb${4===n.length?"a":""}(${n.map(((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3)).join(", ")})`:""}(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ar(9,t));let r,i=t.substring(e+1,t.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(ar(10,r))}else i=i.split(",");return i=i.map((t=>parseFloat(t))),{type:n,values:i,colorSpace:r}}const ur=(t,e)=>{try{return(t=>{const e=cr(t);return e.values.slice(0,3).map(((t,n)=>e.type.includes("hsl")&&0!==n?`${t}%`:t)).join(" ")})(t)}catch(n){return t}};function hr(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map(((t,e)=>e<3?parseInt(t,10):t)):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=e.includes("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${e}(${r})`}function dr(t){t=cr(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),a=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+n/30)%12;return i-o*Math.max(Math.min(e-3,9-e,1),-1)};let s="rgb";const l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===t.type&&(s+="a",l.push(e[3])),hr({type:s,values:l})}function pr(t){let e="hsl"===(t=cr(t)).type||"hsla"===t.type?cr(dr(t)).values:t.values;return e=e.map((e=>("color"!==t.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4))),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function fr(t,e){return t=cr(t),e=lr(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]=`/${e}`:t.values[3]=e,hr(t)}function mr(t,e,n){try{return fr(t,e)}catch(r){return t}}function gr(t,e){if(t=cr(t),e=lr(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return hr(t)}function yr(t,e,n){try{return gr(t,e)}catch(r){return t}}function vr(t,e){if(t=cr(t),e=lr(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return hr(t)}function _r(t,e,n){try{return vr(t,e)}catch(r){return t}}function br(t,e,n){try{return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return pr(t)>.5?gr(t,e):vr(t,e)}(t,e)}catch(r){return t}}let xr=0;const wr={...i}.useId;const Sr=function(t){if(void 0!==wr){const e=wr();return t??e}return function(t){const[e,n]=r.useState(t),i=t||e;return r.useEffect((()=>{null==e&&(xr+=1,n(`mui-${xr}`))}),[e]),i}(t)};const kr=function(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t},Pr=t=>kr(t)&&"classes"!==t;function Tr(){return Tr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tr.apply(null,arguments)}var Er=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(RC){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){var e;return null==(e=t.parentNode)?void 0:e.removeChild(t)})),this.tags=[],this.ctr=0},t}(),Cr=Math.abs,Ar=String.fromCharCode,Mr=Object.assign;function Or(t){return t.trim()}function Ir(t,e,n){return t.replace(e,n)}function zr(t,e){return t.indexOf(e)}function Lr(t,e){return 0|t.charCodeAt(e)}function Dr(t,e,n){return t.slice(e,n)}function jr(t){return t.length}function Rr(t){return t.length}function Br(t,e){return e.push(t),t}var Nr=1,Fr=1,$r=0,Vr=0,Ur=0,Zr="";function qr(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Nr,column:Fr,length:a,return:""}}function Hr(t,e){return Mr(qr("",null,null,"",null,null,0),t,{length:-t.length},e)}function Wr(){return Ur=Vr>0?Lr(Zr,--Vr):0,Fr--,10===Ur&&(Fr=1,Nr--),Ur}function Gr(){return Ur=Vr<$r?Lr(Zr,Vr++):0,Fr++,10===Ur&&(Fr=1,Nr++),Ur}function Xr(){return Lr(Zr,Vr)}function Kr(){return Vr}function Yr(t,e){return Dr(Zr,t,e)}function Jr(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Qr(t){return Nr=Fr=1,$r=jr(Zr=t),Vr=0,[]}function ti(t){return Zr="",t}function ei(t){return Or(Yr(Vr-1,ii(91===t?t+2:40===t?t+1:t)))}function ni(t){for(;(Ur=Xr())&&Ur<33;)Gr();return Jr(t)>2||Jr(Ur)>3?"":" "}function ri(t,e){for(;--e&&Gr()&&!(Ur<48||Ur>102||Ur>57&&Ur<65||Ur>70&&Ur<97););return Yr(t,Kr()+(e<6&&32==Xr()&&32==Gr()))}function ii(t){for(;Gr();)switch(Ur){case t:return Vr;case 34:case 39:34!==t&&39!==t&&ii(Ur);break;case 40:41===t&&ii(t);break;case 92:Gr()}return Vr}function oi(t,e){for(;Gr()&&t+Ur!==57&&(t+Ur!==84||47!==Xr()););return"/*"+Yr(e,Vr-1)+"*"+Ar(47===t?t:Gr())}function ai(t){for(;!Jr(Xr());)Gr();return Yr(t,Vr)}var si="-ms-",li="-moz-",ci="-webkit-",ui="comm",hi="rule",di="decl",pi="@keyframes";function fi(t,e){for(var n="",r=Rr(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function mi(t,e,n,r){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case di:return t.return=t.return||t.value;case ui:return"";case pi:return t.return=t.value+"{"+fi(t.children,r)+"}";case hi:t.value=t.props.join(",")}return jr(n=fi(t.children,r))?t.return=t.value+"{"+n+"}":""}function gi(t){return ti(yi("",null,null,null,[""],t=Qr(t),0,[0],t))}function yi(t,e,n,r,i,o,a,s,l){for(var c=0,u=0,h=a,d=0,p=0,f=0,m=1,g=1,y=1,v=0,_="",b=i,x=o,w=r,S=_;g;)switch(f=v,v=Gr()){case 40:if(108!=f&&58==Lr(S,h-1)){-1!=zr(S+=Ir(ei(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=ei(v);break;case 9:case 10:case 13:case 32:S+=ni(f);break;case 92:S+=ri(Kr()-1,7);continue;case 47:switch(Xr()){case 42:case 47:Br(_i(oi(Gr(),Kr()),e,n),l);break;default:S+="/"}break;case 123*m:s[c++]=jr(S)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(S=Ir(S,/\f/g,"")),p>0&&jr(S)-h&&Br(p>32?bi(S+";",r,n,h-1):bi(Ir(S," ","")+";",r,n,h-2),l);break;case 59:S+=";";default:if(Br(w=vi(S,e,n,c,u,i,s,_,b=[],x=[],h),o),123===v)if(0===u)yi(S,e,w,w,b,o,h,s,x);else switch(99===d&&110===Lr(S,3)?100:d){case 100:case 108:case 109:case 115:yi(t,w,w,r&&Br(vi(t,w,w,0,0,i,s,_,i,b=[],h),x),i,x,h,s,r?b:x);break;default:yi(S,w,w,w,[""],x,0,s,x)}}c=u=p=0,m=y=1,_=S="",h=a;break;case 58:h=1+jr(S),p=f;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==Wr())continue;switch(S+=Ar(v),v*m){case 38:y=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(jr(S)-1)*y,y=1;break;case 64:45===Xr()&&(S+=ei(Gr())),d=Xr(),u=h=jr(_=S+=ai(Kr())),v++;break;case 45:45===f&&2==jr(S)&&(m=0)}}return o}function vi(t,e,n,r,i,o,a,s,l,c,u){for(var h=i-1,d=0===i?o:[""],p=Rr(d),f=0,m=0,g=0;f<r;++f)for(var y=0,v=Dr(t,h+1,h=Cr(m=a[f])),_=t;y<p;++y)(_=Or(m>0?d[y]+" "+v:Ir(v,/&\f/g,d[y])))&&(l[g++]=_);return qr(t,e,n,0===i?hi:s,l,c,u)}function _i(t,e,n){return qr(t,e,n,ui,Ar(Ur),Dr(t,2,-2),0)}function bi(t,e,n,r){return qr(t,e,n,di,Dr(t,0,r),Dr(t,r+1,-1),r)}var xi=function(t,e,n){for(var r=0,i=0;r=i,i=Xr(),38===r&&12===i&&(e[n]=1),!Jr(i);)Gr();return Yr(t,Vr)},wi=function(t,e){return ti(function(t,e){var n=-1,r=44;do{switch(Jr(r)){case 0:38===r&&12===Xr()&&(e[n]=1),t[n]+=xi(Vr-1,e,n);break;case 2:t[n]+=ei(r);break;case 4:if(44===r){t[++n]=58===Xr()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=Ar(r)}}while(r=Gr());return t}(Qr(t),e))},Si=new WeakMap,ki=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||Si.get(n))&&!r){Si.set(t,!0);for(var i=[],o=wi(e,i),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)t.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},Pi=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function Ti(t,e){switch(function(t,e){return 45^Lr(t,0)?(((e<<2^Lr(t,0))<<2^Lr(t,1))<<2^Lr(t,2))<<2^Lr(t,3):0}(t,e)){case 5103:return ci+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ci+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ci+t+li+t+si+t+t;case 6828:case 4268:return ci+t+si+t+t;case 6165:return ci+t+si+"flex-"+t+t;case 5187:return ci+t+Ir(t,/(\w+).+(:[^]+)/,ci+"box-$1$2"+si+"flex-$1$2")+t;case 5443:return ci+t+si+"flex-item-"+Ir(t,/flex-|-self/,"")+t;case 4675:return ci+t+si+"flex-line-pack"+Ir(t,/align-content|flex-|-self/,"")+t;case 5548:return ci+t+si+Ir(t,"shrink","negative")+t;case 5292:return ci+t+si+Ir(t,"basis","preferred-size")+t;case 6060:return ci+"box-"+Ir(t,"-grow","")+ci+t+si+Ir(t,"grow","positive")+t;case 4554:return ci+Ir(t,/([^-])(transform)/g,"$1"+ci+"$2")+t;case 6187:return Ir(Ir(Ir(t,/(zoom-|grab)/,ci+"$1"),/(image-set)/,ci+"$1"),t,"")+t;case 5495:case 3959:return Ir(t,/(image-set\([^]*)/,ci+"$1$`$1");case 4968:return Ir(Ir(t,/(.+:)(flex-)?(.*)/,ci+"box-pack:$3"+si+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ci+t+t;case 4095:case 3583:case 4068:case 2532:return Ir(t,/(.+)-inline(.+)/,ci+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jr(t)-1-e>6)switch(Lr(t,e+1)){case 109:if(45!==Lr(t,e+4))break;case 102:return Ir(t,/(.+:)(.+)-([^]+)/,"$1"+ci+"$2-$3$1"+li+(108==Lr(t,e+3)?"$3":"$2-$3"))+t;case 115:return~zr(t,"stretch")?Ti(Ir(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==Lr(t,e+1))break;case 6444:switch(Lr(t,jr(t)-3-(~zr(t,"!important")&&10))){case 107:return Ir(t,":",":"+ci)+t;case 101:return Ir(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ci+(45===Lr(t,14)?"inline-":"")+"box$3$1"+ci+"$2$3$1"+si+"$2box$3")+t}break;case 5936:switch(Lr(t,e+11)){case 114:return ci+t+si+Ir(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ci+t+si+Ir(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ci+t+si+Ir(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ci+t+si+t+t}return t}var Ei=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case di:t.return=Ti(t.value,t.length);break;case pi:return fi([Hr(t,{value:Ir(t.value,"@","@"+ci)})],r);case hi:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fi([Hr(t,{props:[Ir(e,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return fi([Hr(t,{props:[Ir(e,/:(plac\w+)/,":"+ci+"input-$1")]}),Hr(t,{props:[Ir(e,/:(plac\w+)/,":-moz-$1")]}),Hr(t,{props:[Ir(e,/:(plac\w+)/,si+"input-$1")]})],r)}return""}))}}],Ci=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var r,i,o=t.stylisPlugins||Ei,a={},s=[];r=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)a[e[n]]=!0;s.push(t)}));var l,c,u=[mi,(c=function(t){l.insert(t)},function(t){t.root||(t=t.return)&&c(t)})],h=function(t){var e=Rr(t);return function(n,r,i,o){for(var a="",s=0;s<e;s++)a+=t[s](n,r,i,o)||"";return a}}([ki,Pi].concat(o,u));i=function(t,e,n,r){l=n,fi(gi(t?t+"{"+e.styles+"}":e.styles),h),r&&(d.inserted[e.name]=!0)};var d={key:e,sheet:new Er({key:e,container:r,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:i};return d.sheet.hydrate(s),d};function Ai(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):n&&(r+=n+" ")})),r}var Mi=function(t,e,n){var r=t.key+"-"+e.name;!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles)},Oi=function(t,e,n){Mi(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next}while(void 0!==i)}};var Ii={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function zi(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}var Li=/[A-Z]|^ms/g,Di=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ji=function(t){return 45===t.charCodeAt(1)},Ri=function(t){return null!=t&&"boolean"!==typeof t},Bi=zi((function(t){return ji(t)?t:t.replace(Li,"-$&").toLowerCase()})),Ni=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(Di,(function(t,e,n){return $i={name:e,styles:n,next:$i},e}))}return 1===Ii[t]||ji(t)||"number"!==typeof e||0===e?e:e+"px"};function Fi(t,e,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return $i={name:i.name,styles:i.styles,next:$i},i.name;var o=n;if(void 0!==o.styles){var a=o.next;if(void 0!==a)for(;void 0!==a;)$i={name:a.name,styles:a.styles,next:$i},a=a.next;return o.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Fi(t,e,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a){var s=a;null!=e&&void 0!==e[s]?r+=o+"{"+e[s]+"}":Ri(s)&&(r+=Bi(o)+":"+Ni(o,s)+";")}else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=e&&void 0!==e[a[0]]){var l=Fi(t,e,a);switch(o){case"animation":case"animationName":r+=Bi(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<a.length;c++)Ri(a[c])&&(r+=Bi(o)+":"+Ni(o,a[c])+";")}return r}(t,e,n);case"function":if(void 0!==t){var s=$i,l=n(t);return $i=s,Fi(t,e,l)}}var c=n;if(null==e)return c;var u=e[c];return void 0!==u?u:c}var $i,Vi=/label:\s*([^\s;{]+)\s*(;|$)/g;function Ui(t,e,n){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";$i=void 0;var o=t[0];null==o||void 0===o.raw?(r=!1,i+=Fi(n,e,o)):i+=o[0];for(var a=1;a<t.length;a++){if(i+=Fi(n,e,t[a]),r)i+=o[a]}Vi.lastIndex=0;for(var s,l="";null!==(s=Vi.exec(i));)l+="-"+s[1];var c=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:$i}}var Zi=!!i.useInsertionEffect&&i.useInsertionEffect,qi=Zi||function(t){return t()},Hi=(Zi||r.useLayoutEffect,r.createContext("undefined"!==typeof HTMLElement?Ci({key:"css"}):null)),Wi=(Hi.Provider,function(t){return(0,r.forwardRef)((function(e,n){var i=(0,r.useContext)(Hi);return t(e,i,n)}))}),Gi=r.createContext({});var Xi={}.hasOwnProperty,Ki="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Yi=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return Mi(e,n,r),qi((function(){return Oi(e,n,r)})),null},Ji=Wi((function(t,e,n){var i=t.css;"string"===typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var o=t[Ki],a=[i],s="";"string"===typeof t.className?s=Ai(e.registered,a,t.className):null!=t.className&&(s=t.className+" ");var l=Ui(a,void 0,r.useContext(Gi));s+=e.key+"-"+l.name;var c={};for(var u in t)Xi.call(t,u)&&"css"!==u&&u!==Ki&&(c[u]=t[u]);return c.className=s,n&&(c.ref=n),r.createElement(r.Fragment,null,r.createElement(Yi,{cache:e,serialized:l,isStringTag:"string"===typeof o}),r.createElement(o,c))})),Qi=Ji,to=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,eo=zi((function(t){return to.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),no=function(t){return"theme"!==t},ro=function(t){return"string"===typeof t&&t.charCodeAt(0)>96?eo:no},io=function(t,e,n){var r;if(e){var i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?function(e){return t.__emotion_forwardProp(e)&&i(e)}:i}return"function"!==typeof r&&n&&(r=t.__emotion_forwardProp),r},oo=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return Mi(e,n,r),qi((function(){return Oi(e,n,r)})),null},ao=function t(e,n){var i,o,a=e.__emotion_real===e,s=a&&e.__emotion_base||e;void 0!==n&&(i=n.label,o=n.target);var l=io(e,n,a),c=l||ro(s),u=!c("as");return function(){var h=arguments,d=a&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{var p=h[0];d.push(p[0]);for(var f=h.length,m=1;m<f;m++)d.push(h[m],p[m])}var g=Wi((function(t,e,n){var i=u&&t.as||s,a="",h=[],p=t;if(null==t.theme){for(var f in p={},t)p[f]=t[f];p.theme=r.useContext(Gi)}"string"===typeof t.className?a=Ai(e.registered,h,t.className):null!=t.className&&(a=t.className+" ");var m=Ui(d.concat(h),e.registered,p);a+=e.key+"-"+m.name,void 0!==o&&(a+=" "+o);var g=u&&void 0===l?ro(i):c,y={};for(var v in t)u&&"as"===v||g(v)&&(y[v]=t[v]);return y.className=a,n&&(y.ref=n),r.createElement(r.Fragment,null,r.createElement(oo,{cache:e,serialized:m,isStringTag:"string"===typeof i}),r.createElement(i,y))}));return g.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=d,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(e,r){return t(e,Tr({},n,r,{shouldForwardProp:io(g,r,!0)})).apply(void 0,d)},g}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){ao[t]=ao(t)}));const so=[];function lo(t){return so[0]=t,Ui(so)}var co=n(191);function uo(t){if("object"!==typeof t||null===t)return!1;const e=Object.getPrototypeOf(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function ho(t){if(r.isValidElement(t)||(0,co.Hy)(t)||!uo(t))return t;const e={};return Object.keys(t).forEach((n=>{e[n]=ho(t[n])})),e}function po(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const i=n.clone?{...t}:t;return uo(t)&&uo(e)&&Object.keys(e).forEach((o=>{r.isValidElement(e[o])||(0,co.Hy)(e[o])?i[o]=e[o]:uo(e[o])&&Object.prototype.hasOwnProperty.call(t,o)&&uo(t[o])?i[o]=po(t[o],e[o],n):n.clone?i[o]=uo(e[o])?ho(e[o]):e[o]:i[o]=e[o]})),i}function fo(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=(t=>{const e=Object.keys(t).map((e=>({key:e,val:t[e]})))||[];return e.sort(((t,e)=>t.val-e.val)),e.reduce(((t,e)=>({...t,[e.key]:e.val})),{})})(e),a=Object.keys(o);function s(t){return`@media (min-width:${"number"===typeof e[t]?e[t]:t}${n})`}function l(t){return`@media (max-width:${("number"===typeof e[t]?e[t]:t)-r/100}${n})`}function c(t,i){const o=a.indexOf(i);return`@media (min-width:${"number"===typeof e[t]?e[t]:t}${n}) and (max-width:${(-1!==o&&"number"===typeof e[a[o]]?e[a[o]]:i)-r/100}${n})`}return{keys:a,values:o,up:s,down:l,between:c,only:function(t){return a.indexOf(t)+1<a.length?c(t,a[a.indexOf(t)+1]):s(t)},not:function(t){const e=a.indexOf(t);return 0===e?s(a[1]):e===a.length-1?l(a[e]):c(t,a[a.indexOf(t)+1]).replace("@media","@media not all and")},unit:n,...i}}const mo={borderRadius:4},go={xs:0,sm:600,md:900,lg:1200,xl:1536},yo={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${go[t]}px)`},vo={containerQueries:t=>({up:e=>{let n="number"===typeof e?e:go[e]||e;return"number"===typeof n&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function _o(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const t=r.breakpoints||yo;return e.reduce(((r,i,o)=>(r[t.up(t.keys[o])]=n(e[o]),r)),{})}if("object"===typeof e){const t=r.breakpoints||yo;return Object.keys(e).reduce(((i,o)=>{if(function(t,e){return"@"===e||e.startsWith("@")&&(t.some((t=>e.startsWith(`@${t}`)))||!!e.match(/^@\d/))}(t.keys,o)){const t=function(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}(r.containerQueries?r:vo,o);t&&(i[t]=n(e[o],o))}else if(Object.keys(t.values||go).includes(o)){i[t.up(o)]=n(e[o],o)}else{const t=o;i[t]=e[t]}return i}),{})}return n(e)}function bo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=t.keys?.reduce(((e,n)=>(e[t.up(n)]={},e)),{});return e||{}}function xo(t,e){return t.reduce(((t,e)=>{const n=t[e];return(!n||0===Object.keys(n).length)&&delete t[e],t}),e)}function wo(t){if("string"!==typeof t)throw new Error(ar(7));return t.charAt(0).toUpperCase()+t.slice(1)}function So(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||"string"!==typeof e)return null;if(t&&t.vars&&n){const n=`vars.${e}`.split(".").reduce(((t,e)=>t&&t[e]?t[e]:null),t);if(null!=n)return n}return e.split(".").reduce(((t,e)=>t&&null!=t[e]?t[e]:null),t)}function ko(t,e,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof t?t(n):Array.isArray(t)?t[n]||i:So(t,n)||i,e&&(r=e(r,i,t)),r}const Po=function(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=t=>{if(null==t[e])return null;const o=t[e],a=So(t.theme,r)||{};return _o(t,o,(t=>{let r=ko(a,i,t);return t===r&&"string"===typeof t&&(r=ko(a,i,`${e}${"default"===t?"":wo(t)}`,t)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[e],o};const To=function(t,e){return e?po(t,e,{clone:!1}):t};const Eo={m:"margin",p:"padding"},Co={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ao={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Mo=function(t){const e={};return n=>(void 0===e[n]&&(e[n]=t(n)),e[n])}((t=>{if(t.length>2){if(!Ao[t])return[t];t=Ao[t]}const[e,n]=t.split(""),r=Eo[e],i=Co[n]||"";return Array.isArray(i)?i.map((t=>r+t)):[r+i]})),Oo=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Io=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],zo=[...Oo,...Io];function Lo(t,e,n,r){const i=So(t,e,!0)??n;return"number"===typeof i||"string"===typeof i?t=>"string"===typeof t?t:"string"===typeof i?`calc(${t} * ${i})`:i*t:Array.isArray(i)?t=>{if("string"===typeof t)return t;const e=Math.abs(t);const n=i[e];return t>=0?n:"number"===typeof n?-n:`-${n}`}:"function"===typeof i?i:()=>{}}function Do(t){return Lo(t,"spacing",8)}function jo(t,e){return"string"===typeof e||null==e?e:t(e)}function Ro(t,e,n,r){if(!e.includes(n))return null;const i=function(t,e){return n=>t.reduce(((t,r)=>(t[r]=jo(e,n),t)),{})}(Mo(n),r);return _o(t,t[n],i)}function Bo(t,e){const n=Do(t.theme);return Object.keys(t).map((r=>Ro(t,e,r,n))).reduce(To,{})}function No(t){return Bo(t,Oo)}function Fo(t){return Bo(t,Io)}function $o(t){return Bo(t,zo)}No.propTypes={},No.filterProps=Oo,Fo.propTypes={},Fo.filterProps=Io,$o.propTypes={},$o.filterProps=zo;function Vo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Do({spacing:t});if(t.mui)return t;const n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((t=>{const n=e(t);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}const Uo=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=e.reduce(((t,e)=>(e.filterProps.forEach((n=>{t[n]=e})),t)),{}),i=t=>Object.keys(t).reduce(((e,n)=>r[n]?To(e,r[n](t)):e),{});return i.propTypes={},i.filterProps=e.reduce(((t,e)=>t.concat(e.filterProps)),[]),i};function Zo(t){return"number"!==typeof t?t:`${t}px solid`}function qo(t,e){return Po({prop:t,themeKey:"borders",transform:e})}const Ho=qo("border",Zo),Wo=qo("borderTop",Zo),Go=qo("borderRight",Zo),Xo=qo("borderBottom",Zo),Ko=qo("borderLeft",Zo),Yo=qo("borderColor"),Jo=qo("borderTopColor"),Qo=qo("borderRightColor"),ta=qo("borderBottomColor"),ea=qo("borderLeftColor"),na=qo("outline",Zo),ra=qo("outlineColor"),ia=t=>{if(void 0!==t.borderRadius&&null!==t.borderRadius){const e=Lo(t.theme,"shape.borderRadius",4),n=t=>({borderRadius:jo(e,t)});return _o(t,t.borderRadius,n)}return null};ia.propTypes={},ia.filterProps=["borderRadius"];Uo(Ho,Wo,Go,Xo,Ko,Yo,Jo,Qo,ta,ea,ia,na,ra);const oa=t=>{if(void 0!==t.gap&&null!==t.gap){const e=Lo(t.theme,"spacing",8),n=t=>({gap:jo(e,t)});return _o(t,t.gap,n)}return null};oa.propTypes={},oa.filterProps=["gap"];const aa=t=>{if(void 0!==t.columnGap&&null!==t.columnGap){const e=Lo(t.theme,"spacing",8),n=t=>({columnGap:jo(e,t)});return _o(t,t.columnGap,n)}return null};aa.propTypes={},aa.filterProps=["columnGap"];const sa=t=>{if(void 0!==t.rowGap&&null!==t.rowGap){const e=Lo(t.theme,"spacing",8),n=t=>({rowGap:jo(e,t)});return _o(t,t.rowGap,n)}return null};sa.propTypes={},sa.filterProps=["rowGap"];Uo(oa,aa,sa,Po({prop:"gridColumn"}),Po({prop:"gridRow"}),Po({prop:"gridAutoFlow"}),Po({prop:"gridAutoColumns"}),Po({prop:"gridAutoRows"}),Po({prop:"gridTemplateColumns"}),Po({prop:"gridTemplateRows"}),Po({prop:"gridTemplateAreas"}),Po({prop:"gridArea"}));function la(t,e){return"grey"===e?e:t}Uo(Po({prop:"color",themeKey:"palette",transform:la}),Po({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:la}),Po({prop:"backgroundColor",themeKey:"palette",transform:la}));function ca(t){return t<=1&&0!==t?100*t+"%":t}const ua=Po({prop:"width",transform:ca}),ha=t=>{if(void 0!==t.maxWidth&&null!==t.maxWidth){const e=e=>{const n=t.theme?.breakpoints?.values?.[e]||go[e];return n?"px"!==t.theme?.breakpoints?.unit?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:ca(e)}};return _o(t,t.maxWidth,e)}return null};ha.filterProps=["maxWidth"];const da=Po({prop:"minWidth",transform:ca}),pa=Po({prop:"height",transform:ca}),fa=Po({prop:"maxHeight",transform:ca}),ma=Po({prop:"minHeight",transform:ca}),ga=(Po({prop:"size",cssProperty:"width",transform:ca}),Po({prop:"size",cssProperty:"height",transform:ca}),Uo(ua,ha,da,pa,fa,ma,Po({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Zo},borderTop:{themeKey:"borders",transform:Zo},borderRight:{themeKey:"borders",transform:Zo},borderBottom:{themeKey:"borders",transform:Zo},borderLeft:{themeKey:"borders",transform:Zo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Zo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ia},color:{themeKey:"palette",transform:la},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:la},backgroundColor:{themeKey:"palette",transform:la},p:{style:Fo},pt:{style:Fo},pr:{style:Fo},pb:{style:Fo},pl:{style:Fo},px:{style:Fo},py:{style:Fo},padding:{style:Fo},paddingTop:{style:Fo},paddingRight:{style:Fo},paddingBottom:{style:Fo},paddingLeft:{style:Fo},paddingX:{style:Fo},paddingY:{style:Fo},paddingInline:{style:Fo},paddingInlineStart:{style:Fo},paddingInlineEnd:{style:Fo},paddingBlock:{style:Fo},paddingBlockStart:{style:Fo},paddingBlockEnd:{style:Fo},m:{style:No},mt:{style:No},mr:{style:No},mb:{style:No},ml:{style:No},mx:{style:No},my:{style:No},margin:{style:No},marginTop:{style:No},marginRight:{style:No},marginBottom:{style:No},marginLeft:{style:No},marginX:{style:No},marginY:{style:No},marginInline:{style:No},marginInlineStart:{style:No},marginInlineEnd:{style:No},marginBlock:{style:No},marginBlockStart:{style:No},marginBlockEnd:{style:No},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:oa},rowGap:{style:sa},columnGap:{style:aa},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ca},maxWidth:{style:ha},minWidth:{transform:ca},height:{transform:ca},maxHeight:{transform:ca},minHeight:{transform:ca},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}),ya=ga;const va=function(){function t(t,e,n,r){const i={[t]:e,theme:n},o=r[t];if(!o)return{[t]:e};const{cssProperty:a=t,themeKey:s,transform:l,style:c}=o;if(null==e)return null;if("typography"===s&&"inherit"===e)return{[t]:e};const u=So(n,s)||{};if(c)return c(i);return _o(i,e,(e=>{let n=ko(u,l,e);return e===n&&"string"===typeof e&&(n=ko(u,l,`${t}${"default"===e?"":wo(e)}`,e)),!1===a?n:{[a]:n}}))}return function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??ya;function a(n){let r=n;if("function"===typeof n)r=n(i);else if("object"!==typeof n)return n;if(!r)return null;const a=bo(i.breakpoints),s=Object.keys(a);let l=a;return Object.keys(r).forEach((n=>{const a=function(t,e){return"function"===typeof t?t(e):t}(r[n],i);if(null!==a&&void 0!==a)if("object"===typeof a)if(o[n])l=To(l,t(n,a,i,o));else{const t=_o({theme:i},a,(t=>({[n]:t})));!function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=e.reduce(((t,e)=>t.concat(Object.keys(e))),[]),i=new Set(r);return e.every((t=>i.size===Object.keys(t).length))}(t,a)?l=To(l,t):l[n]=e({sx:a,theme:i})}else l=To(l,t(n,a,i,o))})),function(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter((t=>t.startsWith("@container"))).sort(((t,e)=>{const n=/min-width:\s*([0-9.]+)/;return+(t.match(n)?.[1]||0)-+(e.match(n)?.[1]||0)}));return n.length?n.reduce(((t,n)=>{const r=e[n];return delete t[n],t[n]=r,t}),{...e}):e}(i,xo(s,l))}return Array.isArray(r)?r.map(a):a(r)}}();va.filterProps=["sx"];const _a=va;function ba(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||"function"!==typeof n.getColorSchemeSelector)return{};let r=n.getColorSchemeSelector(t);return"&"===r?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}const xa=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:e={},palette:n={},spacing:r,shape:i={},...o}=t;let a=po({breakpoints:fo(e),direction:"ltr",components:{},palette:{mode:"light",...n},spacing:Vo(r),shape:{...mo,...i}},o);a=function(t){const e=(t,e)=>t.replace("@media",e?`@container ${e}`:"@container");function n(n,r){n.up=function(){return e(t.breakpoints.up(...arguments),r)},n.down=function(){return e(t.breakpoints.down(...arguments),r)},n.between=function(){return e(t.breakpoints.between(...arguments),r)},n.only=function(){return e(t.breakpoints.only(...arguments),r)},n.not=function(){const n=e(t.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=t=>(n(r,t),r);return n(i),{...t,containerQueries:i}}(a),a.applyStyles=ba;for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];return a=l.reduce(((t,e)=>po(t,e)),a),a.unstable_sxConfig={...ya,...o?.unstable_sxConfig},a.unstable_sx=function(t){return _a({sx:t,theme:this})},a};function wa(t){const{variants:e,...n}=t,r={variants:e,style:lo(n),isProcessed:!0};return r.style===n||e&&e.forEach((t=>{"function"!==typeof t.style&&(t.style=lo(t.style))})),r}const Sa=xa();function ka(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}function Pa(t){return t?(e,n)=>n[t]:null}function Ta(t,e){const n="function"===typeof e?e(t):e;if(Array.isArray(n))return n.flatMap((e=>Ta(t,e)));if(Array.isArray(n?.variants)){let e;if(n.isProcessed)e=n.style;else{const{variants:t,...r}=n;e=r}return Ea(t,n.variants,[e])}return n?.isProcessed?n.style:n}function Ea(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t:for(let i=0;i<e.length;i+=1){const o=e[i];if("function"===typeof o.props){if(n??={...t,...t.ownerState,ownerState:t.ownerState},!o.props(n))continue}else for(const e in o.props)if(t[e]!==o.props[e]&&t.ownerState?.[e]!==o.props[e])continue t;"function"===typeof o.style?(n??={...t,...t.ownerState,ownerState:t.ownerState},r.push(o.style(n))):r.push(o.style)}return r}function Ca(t,e){}function Aa(t){return t?t.charAt(0).toLowerCase()+t.slice(1):t}const Ma={black:"#000",white:"#fff"},Oa={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ia={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},za={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},La={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Da={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ja={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ra={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Ba(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ma.white,default:Ma.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Na=Ba();function Fa(){return{text:{primary:Ma.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ma.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const $a=Fa();function Va(t,e,n,r){const i=r.light||r,o=r.dark||1.5*r;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=vr(t.main,i):"dark"===e&&(t.dark=gr(t.main,o)))}function Ua(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Da[200],light:Da[50],dark:Da[400]}:{main:Da[700],light:Da[400],dark:Da[800]}}(e),a=t.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ia[200],light:Ia[50],dark:Ia[400]}:{main:Ia[500],light:Ia[300],dark:Ia[700]}}(e),s=t.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:za[500],light:za[300],dark:za[700]}:{main:za[700],light:za[400],dark:za[800]}}(e),l=t.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ja[400],light:ja[300],dark:ja[700]}:{main:ja[700],light:ja[500],dark:ja[900]}}(e),c=t.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ra[400],light:Ra[300],dark:Ra[700]}:{main:Ra[800],light:Ra[500],dark:Ra[900]}}(e),u=t.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:La[400],light:La[300],dark:La[700]}:{main:"#ed6c02",light:La[500],dark:La[900]}}(e);function h(t){const e=function(t,e){const n=pr(t),r=pr(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(t,$a.text.primary)>=n?$a.text.primary:Na.text.primary;return e}const d=t=>{let{color:e,name:n,mainShade:i=500,lightShade:o=300,darkShade:a=700}=t;if(e={...e},!e.main&&e[i]&&(e.main=e[i]),!e.hasOwnProperty("main"))throw new Error(ar(11,n?` (${n})`:"",i));if("string"!==typeof e.main)throw new Error(ar(12,n?` (${n})`:"",JSON.stringify(e.main)));return Va(e,"light",o,r),Va(e,"dark",a,r),e.contrastText||(e.contrastText=h(e.main)),e};let p;"light"===e?p=Ba():"dark"===e&&(p=Fa());return po({common:{...Ma},mode:e,primary:d({color:o,name:"primary"}),secondary:d({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:s,name:"error"}),warning:d({color:u,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:c,name:"success"}),grey:Oa,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:r,...p},i)}function Za(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function e(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const o=r[0];return"string"!==typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${o}`:`, var(--${t?`${t}-`:""}${o}${e(...r.slice(1))})`}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return`var(--${t?`${t}-`:""}${n}${e(...i)})`}}function qa(t){const e={};return Object.entries(t).forEach((t=>{const[n,r]=t;"object"===typeof r&&(e[n]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)})),e}const Ha=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=t;e.forEach(((t,o)=>{o===e.length-1?Array.isArray(i)?i[Number(t)]=n:i&&"object"===typeof i&&(i[t]=n):i&&"object"===typeof i&&(i[t]||(i[t]=r.includes(t)?[]:{}),i=i[t])}))};function Wa(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},a={};var s,l;return s=(t,e,s)=>{if(("string"===typeof e||"number"===typeof e)&&(!r||!r(t,e))){const r=`--${n?`${n}-`:""}${t.join("-")}`,l=((t,e)=>"number"===typeof e?["lineHeight","fontWeight","opacity","zIndex"].some((e=>t.includes(e)))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e)(t,e);Object.assign(i,{[r]:l}),Ha(o,t,`var(${r})`,s),Ha(a,t,`var(${r}, ${l})`,s)}},l=t=>"vars"===t[0],function t(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(e).forEach((e=>{let[i,o]=e;(!l||l&&!l([...n,i]))&&void 0!==o&&null!==o&&("object"===typeof o&&Object.keys(o).length>0?t(o,[...n,i],Array.isArray(o)?[...r,i]:r):s([...n,i],o,r))}))}(t),{css:i,vars:o,varsWithDefaults:a}}const Ga=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=g,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:a,defaultColorScheme:s="light",...l}=t,{vars:c,css:u,varsWithDefaults:h}=Wa(l,e);let d=h;const p={},{[s]:f,...m}=o;if(Object.entries(m||{}).forEach((t=>{let[n,r]=t;const{vars:i,css:o,varsWithDefaults:a}=Wa(r,e);d=po(d,a),p[n]={css:o,vars:i}})),f){const{css:t,vars:n,varsWithDefaults:r}=Wa(f,e);d=po(d,r),p[s]={css:t,vars:n}}function g(e,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(r=`[${i}="%s"]`),e){if("media"===r){if(t.defaultColorScheme===e)return":root";const r=o[e]?.palette?.mode||e;return{[`@media (prefers-color-scheme: ${r})`]:{":root":n}}}if(r)return t.defaultColorScheme===e?`:root, ${r.replace("%s",String(e))}`:r.replace("%s",String(e))}return":root"}return{vars:d,generateThemeVars:()=>{let t={...c};return Object.entries(p).forEach((e=>{let[,{vars:n}]=e;t=po(t,n)})),t},generateStyleSheets:()=>{const e=[],i=t.defaultColorScheme||"light";function a(t,n){Object.keys(n).length&&e.push("string"===typeof t?{[t]:{...n}}:t)}a(n(void 0,{...u}),u);const{[i]:s,...l}=p;if(s){const{css:t}=s,e=o[i]?.palette?.mode,l=!r&&e?{colorScheme:e,...t}:{...t};a(n(i,{...l}),l)}return Object.entries(l).forEach((t=>{let[e,{css:i}]=t;const s=o[e]?.palette?.mode,l=!r&&s?{colorScheme:s,...i}:{...i};a(n(e,{...l}),l)})),e}}};function Xa(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Ka(t){return Math.round(1e5*t)/1e5}const Ya={textTransform:"uppercase"},Ja='"Roboto", "Helvetica", "Arial", sans-serif';function Qa(t,e){const{fontFamily:n=Ja,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:s=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...h}="function"===typeof e?e(t):e;const d=r/14,p=u||(t=>t/l*d+"rem"),f=(t,e,r,i,o)=>({fontFamily:n,fontWeight:t,fontSize:p(e),lineHeight:r,...n===Ja?{letterSpacing:`${Ka(i/e)}em`}:{},...o,...c}),m={h1:f(i,96,1.167,-1.5),h2:f(i,60,1.2,-.5),h3:f(o,48,1.167,0),h4:f(o,34,1.235,.25),h5:f(o,24,1.334,0),h6:f(a,20,1.6,.15),subtitle1:f(o,16,1.75,.15),subtitle2:f(a,14,1.57,.1),body1:f(o,16,1.5,.15),body2:f(o,14,1.43,.15),button:f(a,14,1.75,.4,Ya),caption:f(o,12,1.66,.4),overline:f(o,12,2.66,1,Ya),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return po({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:s,...m},h,{clone:!1})}function ts(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const es=["none",ts(0,2,1,-1,0,1,1,0,0,1,3,0),ts(0,3,1,-2,0,2,2,0,0,1,5,0),ts(0,3,3,-2,0,3,4,0,0,1,8,0),ts(0,2,4,-1,0,4,5,0,0,1,10,0),ts(0,3,5,-1,0,5,8,0,0,1,14,0),ts(0,3,5,-1,0,6,10,0,0,1,18,0),ts(0,4,5,-2,0,7,10,1,0,2,16,1),ts(0,5,5,-3,0,8,10,1,0,3,14,2),ts(0,5,6,-3,0,9,12,1,0,3,16,2),ts(0,6,6,-3,0,10,14,1,0,4,18,3),ts(0,6,7,-4,0,11,15,1,0,4,20,3),ts(0,7,8,-4,0,12,17,2,0,5,22,4),ts(0,7,8,-4,0,13,19,2,0,5,24,4),ts(0,7,9,-4,0,14,21,2,0,5,26,4),ts(0,8,9,-5,0,15,22,2,0,6,28,5),ts(0,8,10,-5,0,16,24,2,0,6,30,5),ts(0,8,11,-5,0,17,26,2,0,6,32,5),ts(0,9,11,-5,0,18,28,2,0,7,34,6),ts(0,9,12,-6,0,19,29,2,0,7,36,6),ts(0,10,13,-6,0,20,31,3,0,8,38,7),ts(0,10,13,-6,0,21,33,3,0,8,40,7),ts(0,10,14,-6,0,22,35,3,0,8,42,7),ts(0,11,14,-7,0,23,36,3,0,9,44,8),ts(0,11,15,-7,0,24,38,3,0,9,46,8)],ns={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},rs={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function is(t){return`${Math.round(t)}ms`}function os(t){if(!t)return 0;const e=t/36;return Math.min(Math.round(10*(4+15*e**.25+e/5)),3e3)}function as(t){const e={...ns,...t.easing},n={...rs,...t.duration};return{getAutoHeightDuration:os,create:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=e.easeInOut,delay:a=0,...s}=r;return(Array.isArray(t)?t:[t]).map((t=>`${t} ${"string"===typeof i?i:is(i)} ${o} ${"string"===typeof a?a:is(a)}`)).join(",")},...t,easing:e,duration:n}}const ss={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function ls(){const t={...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return function t(e){const n=Object.entries(e);for(let i=0;i<n.length;i++){const[o,a]=n[i];!uo(r=a)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||o.startsWith("unstable_")?delete e[o]:uo(a)&&(e[o]={...a},t(e[o]))}var r}(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ${JSON.stringify(t,null,2)};\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;`}function cs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:e,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:a={},shape:s,...l}=t;if(t.vars)throw new Error(ar(20));const c=Ua(i),u=xa(t);let h=po(u,{mixins:Xa(u.breakpoints,n),palette:c,shadows:es.slice(),typography:Qa(c,a),transitions:as(o),zIndex:{...ss}});h=po(h,l);for(var d=arguments.length,p=new Array(d>1?d-1:0),f=1;f<d;f++)p[f-1]=arguments[f];return h=p.reduce(((t,e)=>po(t,e)),h),h.unstable_sxConfig={...ya,...l?.unstable_sxConfig},h.unstable_sx=function(t){return _a({sx:t,theme:this})},h.toRuntimeSource=ls,h}const us=cs;const hs=[...Array(25)].map(((t,e)=>{if(0===e)return"none";const n=function(t){let e;return e=t<1?5.11916*t**2:4.5*Math.log(t+1)+2,Math.round(10*e)/1e3}(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`}));function ds(t){return{inputPlaceholder:"dark"===t?.5:.42,inputUnderline:"dark"===t?.7:.42,switchTrackDisabled:"dark"===t?.2:.12,switchTrack:"dark"===t?.3:.38}}function ps(t){return"dark"===t?hs:[]}function fs(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||"palette"===t[0]&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const ms=t=>[...[...Array(25)].map(((e,n)=>`--${t?`${t}-`:""}overlays-${n}`)),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],gs=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if("class"===i&&(o=".%s"),"data"===i&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if("dark"===e){const i={};return ms(t.cssVarPrefix).forEach((t=>{i[t]=n[t],delete n[t]})),"media"===o?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:o?{[o.replace("%s",e)]:i,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...i}}}if(o&&"media"!==o)return`${r}, ${o.replace("%s",String(e))}`}else if(e){if("media"===o)return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function ys(t,e,n){!t[e]&&n&&(t[e]=n)}function vs(t){return"string"===typeof t&&t.startsWith("hsl")?dr(t):t}function _s(t,e){`${e}Channel`in t||(t[`${e}Channel`]=ur(vs(t[e])))}const bs=t=>{try{return t()}catch(e){}};function xs(t,e,n,r){if(!e)return;e=!0===e?{}:e;const i="dark"===r?"dark":"light";if(!n)return void(t[r]=function(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=Ua(e);return{palette:o,opacity:{...ds(o.mode),...n},overlays:r||ps(o.mode),...i}}({...e,palette:{mode:i,...e?.palette}}));const{palette:o,...a}=us({...n,palette:{mode:i,...e?.palette}});return t[r]={...e,palette:o,opacity:{...ds(i),...e?.opacity},overlays:e?.overlays||ps(i)},a}function ws(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:e={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=fs,colorSchemeSelector:a=(e.light&&e.dark?"media":void 0),rootSelector:s=":root",...l}=t,c=Object.keys(e)[0],u=n||(e.light&&"light"!==c?"light":c),h=function(){return Za(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[u]:d,light:p,dark:f,...m}=e,g={...m};let y=d;if(("dark"===u&&!("dark"in e)||"light"===u&&!("light"in e))&&(y=!0),!y)throw new Error(ar(21,u));const v=xs(g,y,l,u);p&&!g.light&&xs(g,p,void 0,"light"),f&&!g.dark&&xs(g,f,void 0,"dark");let _={defaultColorScheme:u,...v,cssVarPrefix:i,colorSchemeSelector:a,rootSelector:s,getCssVar:h,colorSchemes:g,font:{...qa(v.typography),...v.font},spacing:(b=l.spacing,"number"===typeof b?`${b}px`:"string"===typeof b||"function"===typeof b||Array.isArray(b)?b:"8px")};var b;Object.keys(_.colorSchemes).forEach((t=>{const e=_.colorSchemes[t].palette,n=t=>{const n=t.split("-"),r=n[1],i=n[2];return h(t,e[r][i])};if("light"===e.mode&&(ys(e.common,"background","#fff"),ys(e.common,"onBackground","#000")),"dark"===e.mode&&(ys(e.common,"background","#000"),ys(e.common,"onBackground","#fff")),function(t,e){e.forEach((e=>{t[e]||(t[e]={})}))}(e,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),"light"===e.mode){ys(e.Alert,"errorColor",yr(e.error.light,.6)),ys(e.Alert,"infoColor",yr(e.info.light,.6)),ys(e.Alert,"successColor",yr(e.success.light,.6)),ys(e.Alert,"warningColor",yr(e.warning.light,.6)),ys(e.Alert,"errorFilledBg",n("palette-error-main")),ys(e.Alert,"infoFilledBg",n("palette-info-main")),ys(e.Alert,"successFilledBg",n("palette-success-main")),ys(e.Alert,"warningFilledBg",n("palette-warning-main")),ys(e.Alert,"errorFilledColor",bs((()=>e.getContrastText(e.error.main)))),ys(e.Alert,"infoFilledColor",bs((()=>e.getContrastText(e.info.main)))),ys(e.Alert,"successFilledColor",bs((()=>e.getContrastText(e.success.main)))),ys(e.Alert,"warningFilledColor",bs((()=>e.getContrastText(e.warning.main)))),ys(e.Alert,"errorStandardBg",_r(e.error.light,.9)),ys(e.Alert,"infoStandardBg",_r(e.info.light,.9)),ys(e.Alert,"successStandardBg",_r(e.success.light,.9)),ys(e.Alert,"warningStandardBg",_r(e.warning.light,.9)),ys(e.Alert,"errorIconColor",n("palette-error-main")),ys(e.Alert,"infoIconColor",n("palette-info-main")),ys(e.Alert,"successIconColor",n("palette-success-main")),ys(e.Alert,"warningIconColor",n("palette-warning-main")),ys(e.AppBar,"defaultBg",n("palette-grey-100")),ys(e.Avatar,"defaultBg",n("palette-grey-400")),ys(e.Button,"inheritContainedBg",n("palette-grey-300")),ys(e.Button,"inheritContainedHoverBg",n("palette-grey-A100")),ys(e.Chip,"defaultBorder",n("palette-grey-400")),ys(e.Chip,"defaultAvatarColor",n("palette-grey-700")),ys(e.Chip,"defaultIconColor",n("palette-grey-700")),ys(e.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ys(e.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ys(e.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ys(e.LinearProgress,"primaryBg",_r(e.primary.main,.62)),ys(e.LinearProgress,"secondaryBg",_r(e.secondary.main,.62)),ys(e.LinearProgress,"errorBg",_r(e.error.main,.62)),ys(e.LinearProgress,"infoBg",_r(e.info.main,.62)),ys(e.LinearProgress,"successBg",_r(e.success.main,.62)),ys(e.LinearProgress,"warningBg",_r(e.warning.main,.62)),ys(e.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.11)`),ys(e.Slider,"primaryTrack",_r(e.primary.main,.62)),ys(e.Slider,"secondaryTrack",_r(e.secondary.main,.62)),ys(e.Slider,"errorTrack",_r(e.error.main,.62)),ys(e.Slider,"infoTrack",_r(e.info.main,.62)),ys(e.Slider,"successTrack",_r(e.success.main,.62)),ys(e.Slider,"warningTrack",_r(e.warning.main,.62));const t=br(e.background.default,.8);ys(e.SnackbarContent,"bg",t),ys(e.SnackbarContent,"color",bs((()=>e.getContrastText(t)))),ys(e.SpeedDialAction,"fabHoverBg",br(e.background.paper,.15)),ys(e.StepConnector,"border",n("palette-grey-400")),ys(e.StepContent,"border",n("palette-grey-400")),ys(e.Switch,"defaultColor",n("palette-common-white")),ys(e.Switch,"defaultDisabledColor",n("palette-grey-100")),ys(e.Switch,"primaryDisabledColor",_r(e.primary.main,.62)),ys(e.Switch,"secondaryDisabledColor",_r(e.secondary.main,.62)),ys(e.Switch,"errorDisabledColor",_r(e.error.main,.62)),ys(e.Switch,"infoDisabledColor",_r(e.info.main,.62)),ys(e.Switch,"successDisabledColor",_r(e.success.main,.62)),ys(e.Switch,"warningDisabledColor",_r(e.warning.main,.62)),ys(e.TableCell,"border",_r(mr(e.divider,1),.88)),ys(e.Tooltip,"bg",mr(e.grey[700],.92))}if("dark"===e.mode){ys(e.Alert,"errorColor",_r(e.error.light,.6)),ys(e.Alert,"infoColor",_r(e.info.light,.6)),ys(e.Alert,"successColor",_r(e.success.light,.6)),ys(e.Alert,"warningColor",_r(e.warning.light,.6)),ys(e.Alert,"errorFilledBg",n("palette-error-dark")),ys(e.Alert,"infoFilledBg",n("palette-info-dark")),ys(e.Alert,"successFilledBg",n("palette-success-dark")),ys(e.Alert,"warningFilledBg",n("palette-warning-dark")),ys(e.Alert,"errorFilledColor",bs((()=>e.getContrastText(e.error.dark)))),ys(e.Alert,"infoFilledColor",bs((()=>e.getContrastText(e.info.dark)))),ys(e.Alert,"successFilledColor",bs((()=>e.getContrastText(e.success.dark)))),ys(e.Alert,"warningFilledColor",bs((()=>e.getContrastText(e.warning.dark)))),ys(e.Alert,"errorStandardBg",yr(e.error.light,.9)),ys(e.Alert,"infoStandardBg",yr(e.info.light,.9)),ys(e.Alert,"successStandardBg",yr(e.success.light,.9)),ys(e.Alert,"warningStandardBg",yr(e.warning.light,.9)),ys(e.Alert,"errorIconColor",n("palette-error-main")),ys(e.Alert,"infoIconColor",n("palette-info-main")),ys(e.Alert,"successIconColor",n("palette-success-main")),ys(e.Alert,"warningIconColor",n("palette-warning-main")),ys(e.AppBar,"defaultBg",n("palette-grey-900")),ys(e.AppBar,"darkBg",n("palette-background-paper")),ys(e.AppBar,"darkColor",n("palette-text-primary")),ys(e.Avatar,"defaultBg",n("palette-grey-600")),ys(e.Button,"inheritContainedBg",n("palette-grey-800")),ys(e.Button,"inheritContainedHoverBg",n("palette-grey-700")),ys(e.Chip,"defaultBorder",n("palette-grey-700")),ys(e.Chip,"defaultAvatarColor",n("palette-grey-300")),ys(e.Chip,"defaultIconColor",n("palette-grey-300")),ys(e.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ys(e.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ys(e.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ys(e.LinearProgress,"primaryBg",yr(e.primary.main,.5)),ys(e.LinearProgress,"secondaryBg",yr(e.secondary.main,.5)),ys(e.LinearProgress,"errorBg",yr(e.error.main,.5)),ys(e.LinearProgress,"infoBg",yr(e.info.main,.5)),ys(e.LinearProgress,"successBg",yr(e.success.main,.5)),ys(e.LinearProgress,"warningBg",yr(e.warning.main,.5)),ys(e.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.13)`),ys(e.Slider,"primaryTrack",yr(e.primary.main,.5)),ys(e.Slider,"secondaryTrack",yr(e.secondary.main,.5)),ys(e.Slider,"errorTrack",yr(e.error.main,.5)),ys(e.Slider,"infoTrack",yr(e.info.main,.5)),ys(e.Slider,"successTrack",yr(e.success.main,.5)),ys(e.Slider,"warningTrack",yr(e.warning.main,.5));const t=br(e.background.default,.98);ys(e.SnackbarContent,"bg",t),ys(e.SnackbarContent,"color",bs((()=>e.getContrastText(t)))),ys(e.SpeedDialAction,"fabHoverBg",br(e.background.paper,.15)),ys(e.StepConnector,"border",n("palette-grey-600")),ys(e.StepContent,"border",n("palette-grey-600")),ys(e.Switch,"defaultColor",n("palette-grey-300")),ys(e.Switch,"defaultDisabledColor",n("palette-grey-600")),ys(e.Switch,"primaryDisabledColor",yr(e.primary.main,.55)),ys(e.Switch,"secondaryDisabledColor",yr(e.secondary.main,.55)),ys(e.Switch,"errorDisabledColor",yr(e.error.main,.55)),ys(e.Switch,"infoDisabledColor",yr(e.info.main,.55)),ys(e.Switch,"successDisabledColor",yr(e.success.main,.55)),ys(e.Switch,"warningDisabledColor",yr(e.warning.main,.55)),ys(e.TableCell,"border",yr(mr(e.divider,1),.68)),ys(e.Tooltip,"bg",mr(e.grey[700],.92))}_s(e.background,"default"),_s(e.background,"paper"),_s(e.common,"background"),_s(e.common,"onBackground"),_s(e,"divider"),Object.keys(e).forEach((t=>{const n=e[t];"tonalOffset"!==t&&n&&"object"===typeof n&&(n.main&&ys(e[t],"mainChannel",ur(vs(n.main))),n.light&&ys(e[t],"lightChannel",ur(vs(n.light))),n.dark&&ys(e[t],"darkChannel",ur(vs(n.dark))),n.contrastText&&ys(e[t],"contrastTextChannel",ur(vs(n.contrastText))),"text"===t&&(_s(e[t],"primary"),_s(e[t],"secondary")),"action"===t&&(n.active&&_s(e[t],"active"),n.selected&&_s(e[t],"selected")))}))}));for(var x=arguments.length,w=new Array(x>1?x-1:0),S=1;S<x;S++)w[S-1]=arguments[S];_=w.reduce(((t,e)=>po(t,e)),_);const k={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:gs(_)},{vars:P,generateThemeVars:T,generateStyleSheets:E}=Ga(_,k);return _.vars=P,Object.entries(_.colorSchemes[_.defaultColorScheme]).forEach((t=>{let[e,n]=t;_[e]=n})),_.generateThemeVars=T,_.generateStyleSheets=E,_.generateSpacing=function(){return Vo(l.spacing,Do(this))},_.getColorSchemeSelector=function(t){return function(e){return"media"===t?`@media (prefers-color-scheme: ${e})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${e}"] &`:"class"===t?`.${e} &`:"data"===t?`[data-${e}] &`:`${t.replace("%s",e)} &`:"&"}}(a),_.spacing=_.generateSpacing(),_.shouldSkipGeneratingVar=o,_.unstable_sxConfig={...ya,...l?.unstable_sxConfig},_.unstable_sx=function(t){return _a({sx:t,theme:this})},_.toRuntimeSource=ls,_}function Ss(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...!0!==n&&n,palette:Ua({...!0===n?{}:n.palette,mode:e})})}const ks=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:e,cssVariables:n=!1,colorSchemes:r=(e?void 0:{light:!0}),defaultColorScheme:i=e?.mode,...o}=t,a=i||"light",s=r?.[a],l={...r,...e?{[a]:{..."boolean"!==typeof s&&s,palette:e}}:void 0};for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];if(!1===n){if(!("colorSchemes"in t))return us(t,...u);let n=e;"palette"in t||l[a]&&(!0!==l[a]?n=l[a].palette:"dark"===a&&(n={mode:"dark"}));const r=us({...t,palette:n},...u);return r.defaultColorScheme=a,r.colorSchemes=l,"light"===r.palette.mode&&(r.colorSchemes.light={...!0!==l.light&&l.light,palette:r.palette},Ss(r,"dark",l.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark={...!0!==l.dark&&l.dark,palette:r.palette},Ss(r,"light",l.light)),r}return e||"light"in l||"light"!==a||(l.light=!0),ws({...o,colorSchemes:l,defaultColorScheme:a,..."boolean"!==typeof n&&n},...u)}(),Ps=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:e,defaultTheme:n=Sa,rootShouldForwardProp:r=ka,slotShouldForwardProp:i=ka}=t;function o(t){!function(t,e,n){t.theme=function(t){for(const e in t)return!1;return!0}(t.theme)?n:t.theme[e]||t.theme}(t,e,n)}return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}(t,(t=>t.filter((t=>t!==_a))));const{name:n,slot:a,skipVariantsResolver:s,skipSx:l,overridesResolver:c=Pa(Aa(a)),...u}=e,h=void 0!==s?s:a&&"Root"!==a&&"root"!==a||!1,d=l||!1;let p=ka;"Root"===a||"root"===a?p=r:a?p=i:function(t){return"string"===typeof t&&t.charCodeAt(0)>96}(t)&&(p=void 0);const f=function(t,e){return ao(t,e)}(t,{shouldForwardProp:p,label:Ca(n,a),...u}),m=t=>{if("function"===typeof t&&t.__emotion_real!==t)return function(e){return Ta(e,t)};if(uo(t)){const e=wa(t);return e.variants?function(t){return Ta(t,e)}:e.style}return t},g=function(){const e=[];for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const s=i.map(m),l=[];if(e.push(o),n&&c&&l.push((function(t){const e=t.theme,r=e.components?.[n]?.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=Ta(t,r[n]);return c(t,i)})),n&&!h&&l.push((function(t){const e=t.theme,r=e?.components?.[n]?.variants;return r?Ea(t,r):null})),d||l.push(_a),Array.isArray(s[0])){const t=s.shift(),n=new Array(e.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...t,...r],i.raw=[...n,...t.raw,...r],e.unshift(i)}const u=[...e,...s,...l],p=f(...u);return t.muiName&&(p.muiName=t.muiName),p};return f.withConfig&&(g.withConfig=f.withConfig),g}}({themeId:"$$material",defaultTheme:ks,rootShouldForwardProp:Pr}),Ts=Ps,Es={theme:void 0};const Cs=function(t){let e,n;return function(r){let i=e;return void 0!==i&&r.theme===n||(Es.theme=r.theme,i=wa(t(Es)),e=i,n=r.theme),i}},As=Cs,Ms=r.createContext(void 0);function Os(t){let{props:e,name:n}=t;return function(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?ir(i.defaultProps,r):i.styleOverrides||i.variants?r:ir(i,r)}({props:e,name:n,theme:{components:r.useContext(Ms)}})}function Is(t){return Os(t)}function zs(t){try{return t.matches(":focus-visible")}catch(e){0}return!1}const Ls=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.useMemo((()=>e.every((t=>null==t))?null:t=>{e.forEach((e=>{!function(t,e){"function"===typeof t?t(e):t&&(t.current=e)}(e,t)}))}),e)},Ds="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;const js=function(t){const e=r.useRef(t);return Ds((()=>{e.current=t})),r.useRef((function(){return(0,e.current)(...arguments)})).current},Rs={};function Bs(t,e){const n=r.useRef(Rs);return n.current===Rs&&(n.current=t(e)),n}class Ns{static create(){return new Ns}static use(){const t=Bs(Ns.create).current,[e,n]=r.useState(!1);return t.shouldMount=e,t.setShouldMount=n,r.useEffect(t.mountEffect,[e]),t}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let t,e;const n=new Promise(((n,r)=>{t=n,e=r}));return n.resolve=t,n.reject=e,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())};start(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.mount().then((()=>this.ref.current?.start(...e)))}stop(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.mount().then((()=>this.ref.current?.stop(...e)))}pulsate(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.mount().then((()=>this.ref.current?.pulsate(...e)))}}function Fs(t,e){return Fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fs(t,e)}const $s=r.createContext(null);function Vs(t,e){var n=Object.create(null);return t&&r.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)})),n}function Us(t,e,n){return null!=n[e]?n[e]:t.props[e]}function Zs(t,e,n){var i=Vs(t.children),o=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in e){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(e,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,r.isValidElement)(s)){var l=a in e,c=a in i,u=e[a],h=(0,r.isValidElement)(u)&&!u.props.in;!c||l&&!h?c||!l||h?c&&l&&(0,r.isValidElement)(u)&&(o[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:u.props.in,exit:Us(s,"exit",t),enter:Us(s,"enter",t)})):o[a]=(0,r.cloneElement)(s,{in:!1}):o[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:Us(s,"exit",t),enter:Us(s,"enter",t)})}})),o}var qs=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},Hs=function(t){var e,n;function i(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,Fs(e,n);var o=i.prototype;return o.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},o.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(t,e){var n,i,o=e.children,a=e.handleExited;return{children:e.firstRender?(n=t,i=a,Vs(n.children,(function(t){return(0,r.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:Us(t,"appear",n),enter:Us(t,"enter",n),exit:Us(t,"exit",n)})}))):Zs(t,o,a),firstRender:!1}},o.handleExited=function(t,e){var n=Vs(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=Tr({},e.children);return delete n[t.key],{children:n}})))},o.render=function(){var t=this.props,e=t.component,n=t.childFactory,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,["component","childFactory"]),o=this.state.contextValue,a=qs(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===e?r.createElement($s.Provider,{value:o},a):r.createElement($s.Provider,{value:o},r.createElement(e,i,a))},i}(r.Component);Hs.propTypes={},Hs.defaultProps={component:"div",childFactory:function(t){return t}};const Ws=Hs,Gs=[];class Xs{static create(){return new Xs}currentId=null;start(t,e){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,e()}),t)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function Ks(){const t=Bs(Xs.create).current;var e;return e=t.disposeEffect,r.useEffect(e,Gs),t}n(219);var Ys=function(t,e){var n=arguments;if(null==e||!Xi.call(e,"css"))return r.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=Qi,o[1]=function(t,e){var n={};for(var r in e)Xi.call(e,r)&&(n[r]=e[r]);return n[Ki]=t,n}(t,e);for(var a=2;a<i;a++)o[a]=n[a];return r.createElement.apply(null,o)};!function(t){var e;e||(e=t.JSX||(t.JSX={}))}(Ys||(Ys={}));function Js(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ui(e)}function Qs(){var t=Js.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const tl=function(t){const{className:e,classes:n,pulsate:i=!1,rippleX:o,rippleY:a,rippleSize:s,in:l,onExited:c,timeout:u}=t,[h,d]=r.useState(!1),p=rr(e,n.ripple,n.rippleVisible,i&&n.ripplePulsate),f={width:s,height:s,top:-s/2+a,left:-s/2+o},m=rr(n.child,h&&n.childLeaving,i&&n.childPulsate);return l||h||d(!0),r.useEffect((()=>{if(!l&&null!=c){const t=setTimeout(c,u);return()=>{clearTimeout(t)}}}),[c,l,u]),(0,we.jsx)("span",{className:p,style:f,children:(0,we.jsx)("span",{className:m})})},el=t=>t,nl=(()=>{let t=el;return{configure(e){t=e},generate:e=>t(e),reset(){t=el}}})(),rl={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function il(t,e){const n=rl[e];return n?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${n}`:`${nl.generate(t)}-${e}`}function ol(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return e.forEach((e=>{r[e]=il(t,e,n)})),r}const al=ol("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),sl=Qs`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,ll=Qs`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,cl=Qs`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,ul=Ts("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),hl=Ts(tl,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${al.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${sl};
    animation-duration: ${550}ms;
    animation-timing-function: ${t=>{let{theme:e}=t;return e.transitions.easing.easeInOut}};
  }

  &.${al.ripplePulsate} {
    animation-duration: ${t=>{let{theme:e}=t;return e.transitions.duration.shorter}}ms;
  }

  & .${al.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${al.childLeaving} {
    opacity: 0;
    animation-name: ${ll};
    animation-duration: ${550}ms;
    animation-timing-function: ${t=>{let{theme:e}=t;return e.transitions.easing.easeInOut}};
  }

  & .${al.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${cl};
    animation-duration: 2500ms;
    animation-timing-function: ${t=>{let{theme:e}=t;return e.transitions.easing.easeInOut}};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,dl=r.forwardRef((function(t,e){const n=Is({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a,...s}=n,[l,c]=r.useState([]),u=r.useRef(0),h=r.useRef(null);r.useEffect((()=>{h.current&&(h.current(),h.current=null)}),[l]);const d=r.useRef(!1),p=Ks(),f=r.useRef(null),m=r.useRef(null),g=r.useCallback((t=>{const{pulsate:e,rippleX:n,rippleY:r,rippleSize:i,cb:a}=t;c((t=>[...t,(0,we.jsx)(hl,{classes:{ripple:rr(o.ripple,al.ripple),rippleVisible:rr(o.rippleVisible,al.rippleVisible),ripplePulsate:rr(o.ripplePulsate,al.ripplePulsate),child:rr(o.child,al.child),childLeaving:rr(o.childLeaving,al.childLeaving),childPulsate:rr(o.childPulsate,al.childPulsate)},timeout:550,pulsate:e,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,h.current=a}),[o]),y=r.useCallback((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||e.pulsate,fakeElement:a=!1}=e;if("mousedown"===t?.type&&d.current)return void(d.current=!1);"touchstart"===t?.type&&(d.current=!0);const s=a?null:m.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,h;if(o||void 0===t||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:e,clientY:n}=t.touches&&t.touches.length>0?t.touches[0]:t;c=Math.round(e-l.left),u=Math.round(n-l.top)}if(o)h=Math.sqrt((2*l.width**2+l.height**2)/3),h%2===0&&(h+=1);else{const t=2*Math.max(Math.abs((s?s.clientWidth:0)-c),c)+2,e=2*Math.max(Math.abs((s?s.clientHeight:0)-u),u)+2;h=Math.sqrt(t**2+e**2)}t?.touches?null===f.current&&(f.current=()=>{g({pulsate:r,rippleX:c,rippleY:u,rippleSize:h,cb:n})},p.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):g({pulsate:r,rippleX:c,rippleY:u,rippleSize:h,cb:n})}),[i,g,p]),v=r.useCallback((()=>{y({},{pulsate:!0})}),[y]),_=r.useCallback(((t,e)=>{if(p.clear(),"touchend"===t?.type&&f.current)return f.current(),f.current=null,void p.start(0,(()=>{_(t,e)}));f.current=null,c((t=>t.length>0?t.slice(1):t)),h.current=e}),[p]);return r.useImperativeHandle(e,(()=>({pulsate:v,start:y,stop:_})),[v,y,_]),(0,we.jsx)(ul,{className:rr(al.root,o.root,a),ref:m,...s,children:(0,we.jsx)(Ws,{component:null,exit:!0,children:l})})}));function pl(t){return il("MuiButtonBase",t)}const fl=ol("MuiButtonBase",["root","disabled","focusVisible"]),ml=Ts("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${fl.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}});function gl(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return js((i=>(n&&n(i),r||t[e](i),!0)))}const yl=r.forwardRef((function(t,e){const n=Is({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:s,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:h=!1,focusRipple:d=!1,focusVisibleClassName:p,LinkComponent:f="a",onBlur:m,onClick:g,onContextMenu:y,onDragLeave:v,onFocus:_,onFocusVisible:b,onKeyDown:x,onKeyUp:w,onMouseDown:S,onMouseLeave:k,onMouseUp:P,onTouchEnd:T,onTouchMove:E,onTouchStart:C,tabIndex:A=0,TouchRippleProps:M,touchRippleRef:O,type:I,...z}=n,L=r.useRef(null),D=Ns.use(),j=Ls(D.ref,O),[R,B]=r.useState(!1);c&&R&&B(!1),r.useImperativeHandle(i,(()=>({focusVisible:()=>{B(!0),L.current.focus()}})),[]);const N=D.shouldMount&&!u&&!c;r.useEffect((()=>{R&&d&&!u&&D.pulsate()}),[u,d,R,D]);const F=gl(D,"start",S,h),$=gl(D,"stop",y,h),V=gl(D,"stop",v,h),U=gl(D,"stop",P,h),Z=gl(D,"stop",(t=>{R&&t.preventDefault(),k&&k(t)}),h),q=gl(D,"start",C,h),H=gl(D,"stop",T,h),W=gl(D,"stop",E,h),G=gl(D,"stop",(t=>{zs(t.target)||B(!1),m&&m(t)}),!1),X=js((t=>{L.current||(L.current=t.currentTarget),zs(t.target)&&(B(!0),b&&b(t)),_&&_(t)})),K=()=>{const t=L.current;return l&&"button"!==l&&!("A"===t.tagName&&t.href)},Y=js((t=>{d&&!t.repeat&&R&&" "===t.key&&D.stop(t,(()=>{D.start(t)})),t.target===t.currentTarget&&K()&&" "===t.key&&t.preventDefault(),x&&x(t),t.target===t.currentTarget&&K()&&"Enter"===t.key&&!c&&(t.preventDefault(),g&&g(t))})),J=js((t=>{d&&" "===t.key&&R&&!t.defaultPrevented&&D.stop(t,(()=>{D.pulsate(t)})),w&&w(t),g&&t.target===t.currentTarget&&K()&&" "===t.key&&!t.defaultPrevented&&g(t)}));let Q=l;"button"===Q&&(z.href||z.to)&&(Q=f);const tt={};"button"===Q?(tt.type=void 0===I?"button":I,tt.disabled=c):(z.href||z.to||(tt.role="button"),c&&(tt["aria-disabled"]=c));const et=Ls(e,L),nt={...n,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:h,focusRipple:d,tabIndex:A,focusVisible:R},rt=(t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=or({root:["root",e&&"disabled",n&&"focusVisible"]},pl,i);return n&&r&&(o.root+=` ${r}`),o})(nt);return(0,we.jsxs)(ml,{as:Q,className:rr(rt.root,s),ownerState:nt,onBlur:G,onClick:g,onContextMenu:$,onFocus:X,onKeyDown:Y,onKeyUp:J,onMouseDown:F,onMouseLeave:Z,onMouseUp:U,onDragLeave:V,onTouchEnd:H,onTouchMove:W,onTouchStart:q,ref:et,tabIndex:c?-1:A,type:I,...tt,...z,children:[a,N?(0,we.jsx)(dl,{ref:j,center:o,...M}):null]})})),vl=wo;function _l(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e=>{let[,n]=e;return n&&function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(t){return"string"===typeof t.main}(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||"string"!==typeof t[n])return!1;return!0}(n,t)}}function bl(t){return il("MuiCircularProgress",t)}ol("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const xl=44,wl=Qs`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Sl=Qs`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,kl="string"!==typeof wl?Js`
        animation: ${wl} 1.4s linear infinite;
      `:null,Pl="string"!==typeof Sl?Js`
        animation: ${Sl} 1.4s ease-in-out infinite;
      `:null,Tl=Ts("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${vl(n.color)}`]]}})(As((t=>{let{theme:e}=t;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:kl||{animation:`${wl} 1.4s linear infinite`}},...Object.entries(e.palette).filter(_l()).map((t=>{let[n]=t;return{props:{color:n},style:{color:(e.vars||e).palette[n].main}}}))]}}))),El=Ts("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Cl=Ts("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${vl(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(As((t=>{let{theme:e}=t;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:t=>{let{ownerState:e}=t;return"indeterminate"===e.variant&&!e.disableShrink},style:Pl||{animation:`${Sl} 1.4s ease-in-out infinite`}}]}}))),Al=r.forwardRef((function(t,e){const n=Is({props:t,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:a=40,style:s,thickness:l=3.6,value:c=0,variant:u="indeterminate",...h}=n,d={...n,color:i,disableShrink:o,size:a,thickness:l,value:c,variant:u},p=(t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t;return or({root:["root",n,`color${vl(r)}`],svg:["svg"],circle:["circle",`circle${vl(n)}`,i&&"circleDisableShrink"]},bl,e)})(d),f={},m={},g={};if("determinate"===u){const t=2*Math.PI*((xl-l)/2);f.strokeDasharray=t.toFixed(3),g["aria-valuenow"]=Math.round(c),f.strokeDashoffset=`${((100-c)/100*t).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,we.jsx)(Tl,{className:rr(p.root,r),style:{width:a,height:a,...m,...s},ownerState:d,ref:e,role:"progressbar",...g,...h,children:(0,we.jsx)(El,{className:p.svg,ownerState:d,viewBox:"22 22 44 44",children:(0,we.jsx)(Cl,{className:p.circle,style:f,ownerState:d,cx:xl,cy:xl,r:(xl-l)/2,fill:"none",strokeWidth:l})})})})),Ml=Al;function Ol(t){return il("MuiButton",t)}const Il=ol("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const zl=r.createContext({});const Ll=r.createContext(void 0),Dl=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],jl=Ts(yl,{shouldForwardProp:t=>Pr(t)||"classes"===t,name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${vl(n.color)}`],e[`size${vl(n.size)}`],e[`${n.variant}Size${vl(n.size)}`],"inherit"===n.color&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(As((t=>{let{theme:e}=t;const n="light"===e.palette.mode?e.palette.grey[300]:e.palette.grey[800],r="light"===e.palette.mode?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Il.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Il.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Il.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Il.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(_l()).map((t=>{let[n]=t;return{props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.5)`:fr(e.palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette[n].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette[n].main,e.palette.action.hoverOpacity)}}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Il.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Il.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Il.loading}`]:{color:"transparent"}}}]}}))),Rl=Ts("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${vl(n.size)}`]]}})((t=>{let{theme:e}=t;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Dl]}})),Bl=Ts("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${vl(n.size)}`]]}})((t=>{let{theme:e}=t;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Dl]}})),Nl=Ts("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})((t=>{let{theme:e}=t;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}})),Fl=Ts("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),$l=r.forwardRef((function(t,e){const n=r.useContext(zl),i=r.useContext(Ll),o=Is({props:ir(n,t),name:"MuiButton"}),{children:a,color:s="primary",component:l="button",className:c,disabled:u=!1,disableElevation:h=!1,disableFocusRipple:d=!1,endIcon:p,focusVisibleClassName:f,fullWidth:m=!1,id:g,loading:y=null,loadingIndicator:v,loadingPosition:_="center",size:b="medium",startIcon:x,type:w,variant:S="text",...k}=o,P=Sr(g),T=v??(0,we.jsx)(Ml,{"aria-labelledby":P,color:"inherit",size:16}),E={...o,color:s,component:l,disabled:u,disableElevation:h,disableFocusRipple:d,fullWidth:m,loading:y,loadingIndicator:T,loadingPosition:_,size:b,type:w,variant:S},C=(t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,loading:a,loadingPosition:s,classes:l}=t,c=or({root:["root",a&&"loading",o,`${o}${vl(e)}`,`size${vl(i)}`,`${o}Size${vl(i)}`,`color${vl(e)}`,n&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${vl(s)}`],startIcon:["icon","startIcon",`iconSize${vl(i)}`],endIcon:["icon","endIcon",`iconSize${vl(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},Ol,l);return{...l,...c}})(E),A=(x||y&&"start"===_)&&(0,we.jsx)(Rl,{className:C.startIcon,ownerState:E,children:x||(0,we.jsx)(Fl,{className:C.loadingIconPlaceholder,ownerState:E})}),M=(p||y&&"end"===_)&&(0,we.jsx)(Bl,{className:C.endIcon,ownerState:E,children:p||(0,we.jsx)(Fl,{className:C.loadingIconPlaceholder,ownerState:E})}),O=i||"",I="boolean"===typeof y?(0,we.jsx)("span",{className:C.loadingWrapper,style:{display:"contents"},children:y&&(0,we.jsx)(Nl,{className:C.loadingIndicator,ownerState:E,children:T})}):null;return(0,we.jsxs)(jl,{ownerState:E,className:rr(n.className,C.root,c,O),component:l,disabled:u||y,focusRipple:!d,focusVisibleClassName:rr(C.focusVisible,f),ref:e,type:w,id:P,...k,classes:C,children:[A,"end"!==_&&I,a,"end"===_&&I,M]})})),Vl=$l;function Ul(t){return il("MuiSvgIcon",t)}ol("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Zl=Ts("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,"inherit"!==n.color&&e[`color${vl(n.color)}`],e[`fontSize${vl(n.fontSize)}`]]}})(As((t=>{let{theme:e}=t;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:t=>!t.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter((t=>{let[,e]=t;return e&&e.main})).map((t=>{let[n]=t;return{props:{color:n},style:{color:(e.vars??e).palette?.[n]?.main}}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),ql=r.forwardRef((function(t,e){const n=Is({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:h,viewBox:d="0 0 24 24",...p}=n,f=r.isValidElement(i)&&"svg"===i.type,m={...n,color:a,component:s,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:d,hasSvgAsChild:f},g={};u||(g.viewBox=d);const y=(t=>{const{color:e,fontSize:n,classes:r}=t;return or({root:["root","inherit"!==e&&`color${vl(e)}`,`fontSize${vl(n)}`]},Ul,r)})(m);return(0,we.jsxs)(Zl,{as:s,className:rr(y.root,o),focusable:"false",color:c,"aria-hidden":!h||void 0,role:h?"img":void 0,ref:e,...g,...p,...f&&i.props,ownerState:m,children:[f?i.props.children:i,h?(0,we.jsx)("title",{children:h}):null]})}));ql.muiName="SvgIcon";const Hl=ql;function Wl(t,e){function n(n,r){return(0,we.jsx)(Hl,{"data-testid":`${e}Icon`,ref:r,...n,children:t})}return n.muiName=Hl.muiName,r.memo(r.forwardRef(n))}const Gl=Wl((0,we.jsx)("path",{d:"M15.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2M5 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5m0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5m5.8-10 2.4-2.4.8.8c1.06 1.06 2.38 1.78 3.96 2.02.6.09 1.14-.39 1.14-1 0-.49-.37-.91-.85-.99-1.11-.18-2.02-.71-2.75-1.43l-1.9-1.9c-.5-.4-1-.6-1.6-.6s-1.1.2-1.4.6L7.8 8.4c-.4.4-.6.9-.6 1.4 0 .6.2 1.1.6 1.4L11 14v4c0 .55.45 1 1 1s1-.45 1-1v-4.4c0-.52-.2-1.01-.55-1.38zM19 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5m0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5"}),"DirectionsBikeRounded");var Xl=n(9889),Kl=n.n(Xl),Yl=n(620),Jl=n.n(Yl),Ql=n(5268),tc=n.n(Ql),ec=n(3097),nc=n.n(ec),rc=n(9160),ic=n.n(rc),oc=function(t){return 0===t?0:t>0?1:-1},ac=function(t){return Jl()(t)&&t.indexOf("%")===t.length-1},sc=function(t){return ic()(t)&&!tc()(t)},lc=function(t){return sc(t)||Jl()(t)},cc=0,uc=function(t){var e=++cc;return"".concat(t||"").concat(e)},hc=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!sc(t)&&!Jl()(t))return r;if(ac(t)){var o=t.indexOf("%");n=e*parseFloat(t.slice(0,o))/100}else n=+t;return tc()(n)&&(n=r),i&&n>e&&(n=e),n},dc=function(t){if(!t)return null;var e=Object.keys(t);return e&&e.length?t[e[0]]:null},pc=function(t,e){return sc(t)&&sc(e)?function(n){return t+n*(e-t)}:function(){return e}};function fc(t,e,n){return t&&t.length?t.find((function(t){return t&&("function"===typeof e?e(t):nc()(t,e))===n})):null}var mc=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},gc=n(9686),yc=n.n(gc),vc=n(1629),_c=n.n(vc),bc=n(6686),xc=n.n(bc),wc=n(9062);function Sc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function kc(t){return kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(t)}var Pc=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Tc=["points","pathLength"],Ec={svg:["viewBox","children"],polygon:Tc,polyline:Tc},Cc=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ac=function(t,e){if(!t||"function"===typeof t||"boolean"===typeof t)return null;var n=t;if((0,r.isValidElement)(t)&&(n=t.props),!xc()(n))return null;var i={};return Object.keys(n).forEach((function(t){Cc.includes(t)&&(i[t]=e||function(e){return n[t](n,e)})})),i},Mc=function(t,e,n){if(!xc()(t)||"object"!==kc(t))return null;var r=null;return Object.keys(t).forEach((function(i){var o=t[i];Cc.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(t,e,n){return function(r){return t(e,n,r),null}}(o,e,n))})),r},Oc=["children"],Ic=["children"];function zc(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Lc={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Dc=function(t){return"string"===typeof t?t:t?t.displayName||t.name||"Component":""},jc=null,Rc=null,Bc=function t(e){if(e===jc&&Array.isArray(Rc))return Rc;var n=[];return r.Children.forEach(e,(function(e){yc()(e)||((0,wc.isFragment)(e)?n=n.concat(t(e.props.children)):n.push(e))})),Rc=n,jc=e,n};function Nc(t,e){var n=[],r=[];return r=Array.isArray(e)?e.map((function(t){return Dc(t)})):[Dc(e)],Bc(t).forEach((function(t){var e=nc()(t,"type.displayName")||nc()(t,"type.name");-1!==r.indexOf(e)&&n.push(t)})),n}function Fc(t,e){var n=Nc(t,e);return n&&n[0]}var $c=function(t){if(!t||!t.props)return!1;var e=t.props,n=e.width,r=e.height;return!(!sc(n)||n<=0||!sc(r)||r<=0)},Vc=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Uc=function(t){return t&&t.type&&Jl()(t.type)&&Vc.indexOf(t.type)>=0},Zc=function(t,e,n){if(!t||"function"===typeof t||"boolean"===typeof t)return null;var i=t;if((0,r.isValidElement)(t)&&(i=t.props),!xc()(i))return null;var o={};return Object.keys(i).forEach((function(t){var r;(function(t,e,n,r){var i,o=null!==(i=null===Ec||void 0===Ec?void 0:Ec[r])&&void 0!==i?i:[];return!_c()(t)&&(r&&o.includes(e)||Pc.includes(e))||n&&Cc.includes(e)})(null===(r=i)||void 0===r?void 0:r[t],t,e,n)&&(o[t]=i[t])})),o},qc=function t(e,n){if(e===n)return!0;var i=r.Children.count(e);if(i!==r.Children.count(n))return!1;if(0===i)return!0;if(1===i)return Hc(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var o=0;o<i;o++){var a=e[o],s=n[o];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!Hc(a,s))return!1}return!0},Hc=function(t,e){if(yc()(t)&&yc()(e))return!0;if(!yc()(t)&&!yc()(e)){var n=t.props||{},r=n.children,i=zc(n,Oc),o=e.props||{},a=o.children,s=zc(o,Ic);return r&&a?Sc(i,s)&&qc(r,a):!r&&!a&&Sc(i,s)}return!1},Wc=function(t,e){var n=[],r={};return Bc(t).forEach((function(t,i){if(Uc(t))n.push(t);else if(t){var o=Dc(t.type),a=e[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(t,o,i);n.push(c),r[o]=!0}}})),n};function Gc(t){return Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(t)}function Xc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xc(Object(n),!0).forEach((function(e){Yc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yc(t,e,n){return e=function(t){var e=function(t,e){if("object"!=Gc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gc(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Qc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qc(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tu=(0,r.forwardRef)((function(t,e){var n=t.aspect,i=t.initialDimension,o=void 0===i?{width:-1,height:-1}:i,a=t.width,s=void 0===a?"100%":a,l=t.height,c=void 0===l?"100%":l,u=t.minWidth,h=void 0===u?0:u,d=t.minHeight,p=t.maxHeight,f=t.children,m=t.debounce,g=void 0===m?0:m,y=t.id,v=t.className,_=t.onResize,b=t.style,x=void 0===b?{}:b,w=(0,r.useRef)(null),S=(0,r.useRef)();S.current=_,(0,r.useImperativeHandle)(e,(function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})}));var k=Jc((0,r.useState)({containerWidth:o.width,containerHeight:o.height}),2),P=k[0],T=k[1],E=(0,r.useCallback)((function(t,e){T((function(n){var r=Math.round(t),i=Math.round(e);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,r.useEffect)((function(){var t=function(t){var e,n=t[0].contentRect,r=n.width,i=n.height;E(r,i),null===(e=S.current)||void 0===e||e.call(S,r,i)};g>0&&(t=Kl()(t,g,{trailing:!0,leading:!1}));var e=new ResizeObserver(t),n=w.current.getBoundingClientRect(),r=n.width,i=n.height;return E(r,i),e.observe(w.current),function(){e.disconnect()}}),[E,g]);var C=(0,r.useMemo)((function(){var t=P.containerWidth,e=P.containerHeight;if(t<0||e<0)return null;mc(ac(s)||ac(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),mc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=ac(s)?t:s,o=ac(c)?e:c;n&&n>0&&(i?o=i/n:o&&(i=o*n),p&&o>p&&(o=p)),mc(i>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,o,s,c,h,d,n);var a=!Array.isArray(f)&&Dc(f.type).endsWith("Chart");return r.Children.map(f,(function(t){return r.isValidElement(t)?(0,r.cloneElement)(t,Kc({width:i,height:o},a?{style:Kc({height:"100%",width:"100%",maxHeight:o,maxWidth:i},t.props.style)}:{})):t}))}),[n,f,c,p,d,h,P,s]);return r.createElement("div",{id:y?"".concat(y):void 0,className:rr("recharts-responsive-container",v),style:Kc(Kc({},x),{},{width:s,height:c,minWidth:h,minHeight:d,maxHeight:p}),ref:w},C)})),eu=n(6604),nu=n.n(eu),ru=n(7424),iu=n.n(ru),ou="Invariant failed";function au(t,e){if(!t)throw new Error(ou)}var su=["children","width","height","viewBox","className","style","title","desc"];function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lu.apply(this,arguments)}function cu(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uu(t){var e=t.children,n=t.width,i=t.height,o=t.viewBox,a=t.className,s=t.style,l=t.title,c=t.desc,u=cu(t,su),h=o||{width:n,height:i,x:0,y:0},d=rr("recharts-surface",a);return r.createElement("svg",lu({},Zc(u,!0,"svg"),{className:d,width:n,height:i,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),r.createElement("title",null,l),r.createElement("desc",null,c),e)}var hu=["children","className"];function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(this,arguments)}function pu(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var fu=r.forwardRef((function(t,e){var n=t.children,i=t.className,o=pu(t,hu),a=rr("recharts-layer",i);return r.createElement("g",du({className:a},Zc(o,!0),{ref:e}),n)}));function mu(t){return mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(t)}function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gu.apply(this,arguments)}function yu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return vu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vu(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_u(Object(n),!0).forEach((function(e){xu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xu(t,e,n){return e=function(t){var e=function(t,e){if("object"!=mu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mu(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wu(t){return Array.isArray(t)&&lc(t[0])&&lc(t[1])?t.join(" ~ "):t}var Su=function(t){var e=t.separator,n=void 0===e?" : ":e,i=t.contentStyle,o=void 0===i?{}:i,a=t.itemStyle,s=void 0===a?{}:a,l=t.labelStyle,c=void 0===l?{}:l,u=t.payload,h=t.formatter,d=t.itemSorter,p=t.wrapperClassName,f=t.labelClassName,m=t.label,g=t.labelFormatter,y=t.accessibilityLayer,v=void 0!==y&&y,_=bu({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),b=bu({margin:0},c),x=!yc()(m),w=x?m:"",S=rr("recharts-default-tooltip",p),k=rr("recharts-tooltip-label",f);x&&g&&void 0!==u&&null!==u&&(w=g(m,u));var P=v?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",gu({className:S,style:_},P),r.createElement("p",{className:k,style:b},r.isValidElement(w)?w:"".concat(w)),function(){if(u&&u.length){var t=(d?iu()(u,d):u).map((function(t,e){if("none"===t.type)return null;var i=bu({display:"block",paddingTop:4,paddingBottom:4,color:t.color||"#000"},s),o=t.formatter||h||wu,a=t.value,l=t.name,c=a,d=l;if(o&&null!=c&&null!=d){var p=o(a,l,t,e,u);if(Array.isArray(p)){var f=yu(p,2);c=f[0],d=f[1]}else c=p}return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(e),style:i},lc(d)?r.createElement("span",{className:"recharts-tooltip-item-name"},d):null,lc(d)?r.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,r.createElement("span",{className:"recharts-tooltip-item-value"},c),r.createElement("span",{className:"recharts-tooltip-item-unit"},t.unit||""))}));return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},t)}return null}())};function ku(t){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(t)}function Pu(t,e,n){return e=function(t){var e=function(t,e){if("object"!=ku(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ku(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ku(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tu="recharts-tooltip-wrapper",Eu={visibility:"hidden"};function Cu(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return rr(Tu,Pu(Pu(Pu(Pu({},"".concat(Tu,"-right"),sc(n)&&e&&sc(e.x)&&n>=e.x),"".concat(Tu,"-left"),sc(n)&&e&&sc(e.x)&&n<e.x),"".concat(Tu,"-bottom"),sc(r)&&e&&sc(e.y)&&r>=e.y),"".concat(Tu,"-top"),sc(r)&&e&&sc(e.y)&&r<e.y))}function Au(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&sc(o[r]))return o[r];var u=n[r]-s-i,h=n[r]+i;return e[r]?a[r]?u:h:a[r]?u<l[r]?Math.max(h,l[r]):Math.max(u,l[r]):h+s>l[r]+c?Math.max(u,l[r]):Math.max(h,l[r])}function Mu(t){return Mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(t)}function Ou(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Iu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ou(Object(n),!0).forEach((function(e){Bu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ou(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nu(r.key),r)}}function Lu(t,e,n){return e=ju(e),function(t,e){if(e&&("object"===Mu(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Du()?Reflect.construct(e,n||[],ju(t).constructor):e.apply(t,n))}function Du(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Du=function(){return!!t})()}function ju(t){return ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ju(t)}function Ru(t,e){return Ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ru(t,e)}function Bu(t,e,n){return(e=Nu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nu(t){var e=function(t,e){if("object"!=Mu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mu(e)?e:e+""}var Fu=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Bu(t=Lu(this,e,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Bu(t,"handleKeyDown",(function(e){var n,r,i,o;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=t.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ru(t,e)}(e,t),n=e,i=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var t=this.wrapperNode.getBoundingClientRect();(Math.abs(t.width-this.state.lastBoundingBox.width)>1||Math.abs(t.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:t.width,height:t.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var t,e;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(t=this.props.coordinate)||void 0===t?void 0:t.x)===this.state.dismissedAtCoordinate.x&&(null===(e=this.props.coordinate)||void 0===e?void 0:e.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var t=this,e=this.props,n=e.active,i=e.allowEscapeViewBox,o=e.animationDuration,a=e.animationEasing,s=e.children,l=e.coordinate,c=e.hasPayload,u=e.isAnimationActive,h=e.offset,d=e.position,p=e.reverseDirection,f=e.useTranslate3d,m=e.viewBox,g=e.wrapperStyle,y=function(t){var e,n,r=t.allowEscapeViewBox,i=t.coordinate,o=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipBox,c=t.useTranslate3d,u=t.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(t){var e=t.translateX,n=t.translateY;return{transform:t.useTranslate3d?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}({translateX:e=Au({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=Au({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):Eu,cssClasses:Cu({translateX:e,translateY:n,coordinate:i})}}({allowEscapeViewBox:i,coordinate:l,offsetTopLeft:h,position:d,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:f,viewBox:m}),v=y.cssClasses,_=y.cssProperties,b=Iu(Iu({transition:u&&n?"transform ".concat(o,"ms ").concat(a):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return r.createElement("div",{tabIndex:-1,className:v,style:b,ref:function(e){t.wrapperNode=e}},s)}}],i&&zu(n.prototype,i),o&&zu(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent),$u={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(t){return $u[t]},set:function(t,e){if("string"===typeof t)$u[t]=e;else{var n=Object.keys(t);n&&n.length&&n.forEach((function(e){$u[e]=t[e]}))}}},Vu=n(977),Uu=n.n(Vu);function Zu(t,e,n){return!0===e?Uu()(t,n):_c()(e)?Uu()(t,e):t}function qu(t){return qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(t)}function Hu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hu(Object(n),!0).forEach((function(e){Qu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,th(r.key),r)}}function Xu(t,e,n){return e=Yu(e),function(t,e){if(e&&("object"===qu(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ku()?Reflect.construct(e,n||[],Yu(t).constructor):e.apply(t,n))}function Ku(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ku=function(){return!!t})()}function Yu(t){return Yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yu(t)}function Ju(t,e){return Ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ju(t,e)}function Qu(t,e,n){return(e=th(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function th(t){var e=function(t,e){if("object"!=qu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qu(e)?e:e+""}function eh(t){return t.dataKey}var nh=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Xu(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ju(t,e)}(e,t),n=e,i=[{key:"render",value:function(){var t=this,e=this.props,n=e.active,i=e.allowEscapeViewBox,o=e.animationDuration,a=e.animationEasing,s=e.content,l=e.coordinate,c=e.filterNull,u=e.isAnimationActive,h=e.offset,d=e.payload,p=e.payloadUniqBy,f=e.position,m=e.reverseDirection,g=e.useTranslate3d,y=e.viewBox,v=e.wrapperStyle,_=null!==d&&void 0!==d?d:[];c&&_.length&&(_=Zu(d.filter((function(e){return null!=e.value&&(!0!==e.hide||t.props.includeHidden)})),p,eh));var b=_.length>0;return r.createElement(Fu,{allowEscapeViewBox:i,animationDuration:o,animationEasing:a,isAnimationActive:u,active:n,coordinate:l,hasPayload:b,offset:h,position:f,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(t,e){return r.isValidElement(t)?r.cloneElement(t,e):"function"===typeof t?r.createElement(t,e):r.createElement(Su,e)}(s,Wu(Wu({},this.props),{},{payload:_})))}}],i&&Gu(n.prototype,i),o&&Gu(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);Qu(nh,"displayName","Tooltip"),Qu(nh,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!$u.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rh=n(643),ih=n.n(rh);Math.abs,Math.atan2;const oh=Math.cos,ah=(Math.max,Math.min,Math.sin),sh=Math.sqrt,lh=Math.PI,ch=2*lh;const uh={draw(t,e){const n=sh(e/lh);t.moveTo(n,0),t.arc(0,0,n,0,ch)}},hh={draw(t,e){const n=sh(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},dh=sh(1/3),ph=2*dh,fh={draw(t,e){const n=sh(e/ph),r=n*dh;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},mh={draw(t,e){const n=sh(e),r=-n/2;t.rect(r,r,n,n)}},gh=ah(lh/10)/ah(7*lh/10),yh=ah(ch/10)*gh,vh=-oh(ch/10)*gh,_h={draw(t,e){const n=sh(.8908130915292852*e),r=yh*n,i=vh*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const e=ch*o/5,a=oh(e),s=ah(e);t.lineTo(s*n,-a*n),t.lineTo(a*r-s*i,s*r+a*i)}t.closePath()}},bh=sh(3),xh={draw(t,e){const n=-sh(e/(3*bh));t.moveTo(0,2*n),t.lineTo(-bh*n,-n),t.lineTo(bh*n,-n),t.closePath()}},wh=-.5,Sh=sh(3)/2,kh=1/sh(12),Ph=3*(kh/2+1),Th={draw(t,e){const n=sh(e/Ph),r=n/2,i=n*kh,o=r,a=n*kh+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(wh*r-Sh*i,Sh*r+wh*i),t.lineTo(wh*o-Sh*a,Sh*o+wh*a),t.lineTo(wh*s-Sh*l,Sh*s+wh*l),t.lineTo(wh*r+Sh*i,wh*i-Sh*r),t.lineTo(wh*o+Sh*a,wh*a-Sh*o),t.lineTo(wh*s+Sh*l,wh*l-Sh*s),t.closePath()}};function Eh(t){return function(){return t}}const Ch=Math.PI,Ah=2*Ch,Mh=1e-6,Oh=Ah-Mh;function Ih(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class zh{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Ih:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ih;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>Mh)if(Math.abs(u*s-l*c)>Mh&&i){let d=n-o,p=r-a,f=s*s+l*l,m=d*d+p*p,g=Math.sqrt(f),y=Math.sqrt(h),v=i*Math.tan((Ch-Math.acos((f+h-m)/(2*g*y)))/2),_=v/y,b=v/g;Math.abs(_-1)>Mh&&this._append`L${t+_*c},${e+_*u}`,this._append`A${i},${i},0,0,${+(u*d>c*p)},${this._x1=t+b*s},${this._y1=e+b*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Mh||Math.abs(this._y1-c)>Mh)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%Ah+Ah),h>Oh?this._append`A${n},${n},0,1,${u},${t-a},${e-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:h>Mh&&this._append`A${n},${n},0,${+(h>=Ch)},${u},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Lh(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new zh(e)}sh(3),sh(3);function Dh(t){return Dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(t)}var jh=["type","size","sizeType"];function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}function Bh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bh(Object(n),!0).forEach((function(e){Fh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fh(t,e,n){return e=function(t){var e=function(t,e){if("object"!=Dh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Dh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Dh(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $h(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Vh={symbolCircle:uh,symbolCross:hh,symbolDiamond:fh,symbolSquare:mh,symbolStar:_h,symbolTriangle:xh,symbolWye:Th},Uh=Math.PI/180,Zh=function(t){var e=t.type,n=void 0===e?"circle":e,i=t.size,o=void 0===i?64:i,a=t.sizeType,s=void 0===a?"area":a,l=Nh(Nh({},$h(t,jh)),{},{type:n,size:o,sizeType:s}),c=l.className,u=l.cx,h=l.cy,d=Zc(l,!0);return u===+u&&h===+h&&o===+o?r.createElement("path",Rh({},d,{className:rr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(h,")"),d:function(){var t=function(t){var e="symbol".concat(ih()(t));return Vh[e]||uh}(n),e=function(t,e){let n=null,r=Lh(i);function i(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"===typeof t?t:Eh(t||uh),e="function"===typeof e?e:Eh(void 0===e?64:+e),i.type=function(e){return arguments.length?(t="function"===typeof e?e:Eh(e),i):t},i.size=function(t){return arguments.length?(e="function"===typeof t?t:Eh(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i}().type(t).size(function(t,e,n){if("area"===e)return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return.5*t*t/Math.sqrt(3);case"square":return t*t;case"star":var r=18*Uh;return 1.25*t*t*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}}(o,s,n));return e()}()})):null};function qh(t){return qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(t)}function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hh.apply(this,arguments)}function Wh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,td(r.key),r)}}function Xh(t,e,n){return e=Yh(e),function(t,e){if(e&&("object"===qh(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Kh()?Reflect.construct(e,n||[],Yh(t).constructor):e.apply(t,n))}function Kh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Kh=function(){return!!t})()}function Yh(t){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yh(t)}function Jh(t,e){return Jh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jh(t,e)}function Qh(t,e,n){return(e=td(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function td(t){var e=function(t,e){if("object"!=qh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qh(e)?e:e+""}Zh.registerSymbol=function(t,e){Vh["symbol".concat(ih()(t))]=e};var ed=32,nd=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Xh(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jh(t,e)}(e,t),n=e,i=[{key:"renderIcon",value:function(t){var e=this.props.inactiveColor,n=16,i=5.333333333333333,o=10.666666666666666,a=t.inactive?e:t.color;if("plainline"===t.type)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:n,x2:ed,y2:n,className:"recharts-legend-icon"});if("line"===t.type)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(ed,"M").concat(2*o,",").concat(n,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===t.type)return r.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(ed,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(t.legendIcon)){var s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wh(Object(n),!0).forEach((function(e){Qh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return delete s.legendIcon,r.cloneElement(t.legendIcon,s)}return r.createElement(Zh,{fill:a,cx:n,cy:n,size:ed,sizeType:"diameter",type:t.type})}},{key:"renderItems",value:function(){var t=this,e=this.props,n=e.payload,i=e.iconSize,o=e.layout,a=e.formatter,s=e.inactiveColor,l={x:0,y:0,width:ed,height:ed},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(e,n){var o=e.formatter||a,h=rr(Qh(Qh({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",e.inactive));if("none"===e.type)return null;var d=_c()(e.value)?null:e.value;mc(!_c()(e.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=e.inactive?s:e.color;return r.createElement("li",Hh({className:h,style:c,key:"legend-item-".concat(n)},Mc(t.props,e,n)),r.createElement(uu,{width:i,height:i,viewBox:l,style:u},t.renderIcon(e)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},o?o(d,e,n):d))}))}},{key:"render",value:function(){var t=this.props,e=t.payload,n=t.layout,i=t.align;if(!e||!e.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?i:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],i&&Gh(n.prototype,i),o&&Gh(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function rd(t){return rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(t)}Qh(nd,"displayName","Legend"),Qh(nd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var id=["ref"];function od(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ad(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?od(Object(n),!0).forEach((function(e){dd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pd(r.key),r)}}function ld(t,e,n){return e=ud(e),function(t,e){if(e&&("object"===rd(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,cd()?Reflect.construct(e,n||[],ud(t).constructor):e.apply(t,n))}function cd(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(cd=function(){return!!t})()}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ud(t)}function hd(t,e){return hd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hd(t,e)}function dd(t,e,n){return(e=pd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pd(t){var e=function(t,e){if("object"!=rd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rd(e)?e:e+""}function fd(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function md(t){return t.value}var gd=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return dd(t=ld(this,e,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hd(t,e)}(e,t),n=e,i=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var t=this.wrapperNode.getBoundingClientRect();return t.height=this.wrapperNode.offsetHeight,t.width=this.wrapperNode.offsetWidth,t}return null}},{key:"updateBBox",value:function(){var t=this.props.onBBoxUpdate,e=this.getBBox();e?(Math.abs(e.width-this.lastBoundingBox.width)>1||Math.abs(e.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=e.width,this.lastBoundingBox.height=e.height,t&&t(e)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,t&&t(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ad({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(t){var e,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return t&&(void 0!==t.left&&null!==t.left||void 0!==t.right&&null!==t.right)||(e="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),t&&(void 0!==t.top&&null!==t.top||void 0!==t.bottom&&null!==t.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),ad(ad({},e),n)}},{key:"render",value:function(){var t=this,e=this.props,n=e.content,i=e.width,o=e.height,a=e.wrapperStyle,s=e.payloadUniqBy,l=e.payload,c=ad(ad({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return r.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(e){t.wrapperNode=e}},function(t,e){if(r.isValidElement(t))return r.cloneElement(t,e);if("function"===typeof t)return r.createElement(t,e);e.ref;var n=fd(e,id);return r.createElement(nd,n)}(n,ad(ad({},this.props),{},{payload:Zu(l,s,md)})))}}],o=[{key:"getWithHeight",value:function(t,e){var n=ad(ad({},this.defaultProps),t.props).layout;return"vertical"===n&&sc(t.props.height)?{height:t.props.height}:"horizontal"===n?{width:t.props.width||e}:null}}],i&&sd(n.prototype,i),o&&sd(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yd.apply(this,arguments)}dd(gd,"displayName","Legend"),dd(gd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var vd=function(t){var e=t.cx,n=t.cy,i=t.r,o=t.className,a=rr("recharts-dot",o);return e===+e&&n===+n&&i===+i?r.createElement("circle",yd({},Zc(t,!1),Ac(t),{className:a,cx:e,cy:n,r:i})):null},_d=n(5173),bd=n.n(_d),xd=Object.getOwnPropertyNames,wd=Object.getOwnPropertySymbols,Sd=Object.prototype.hasOwnProperty;function kd(t,e){return function(n,r,i){return t(n,r,i)&&e(n,r,i)}}function Pd(t){return function(e,n,r){if(!e||!n||"object"!==typeof e||"object"!==typeof n)return t(e,n,r);var i=r.cache,o=i.get(e),a=i.get(n);if(o&&a)return o===n&&a===e;i.set(e,n),i.set(n,e);var s=t(e,n,r);return i.delete(e),i.delete(n),s}}function Td(t){return xd(t).concat(wd(t))}var Ed=Object.hasOwn||function(t,e){return Sd.call(t,e)};function Cd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Ad=Object.getOwnPropertyDescriptor,Md=Object.keys;function Od(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Id(t,e){return Cd(t.getTime(),e.getTime())}function zd(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Ld(t,e){return t===e}function Dd(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=t.entries(),l=0;(i=s.next())&&!i.done;){for(var c=e.entries(),u=!1,h=0;(o=c.next())&&!o.done;)if(a[h])h++;else{var d=i.value,p=o.value;if(n.equals(d[0],p[0],l,h,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){u=a[h]=!0;break}h++}if(!u)return!1;l++}return!0}var jd=Cd;function Rd(t,e,n){var r=Md(t),i=r.length;if(Md(e).length!==i)return!1;for(;i-- >0;)if(!Zd(t,e,n,r[i]))return!1;return!0}function Bd(t,e,n){var r,i,o,a=Td(t),s=a.length;if(Td(e).length!==s)return!1;for(;s-- >0;){if(!Zd(t,e,n,r=a[s]))return!1;if(i=Ad(t,r),o=Ad(e,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function Nd(t,e){return Cd(t.valueOf(),e.valueOf())}function Fd(t,e){return t.source===e.source&&t.flags===e.flags}function $d(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=t.values();(i=s.next())&&!i.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&n.equals(i.value,o.value,i.value,o.value,t,e,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function Vd(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Ud(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Zd(t,e,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!t.$$typeof&&!e.$$typeof)||Ed(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var qd=Array.isArray,Hd="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Wd=Object.assign,Gd=Object.prototype.toString.call.bind(Object.prototype.toString);var Xd=Kd();Kd({strict:!0}),Kd({circular:!0}),Kd({circular:!0,strict:!0}),Kd({createInternalComparator:function(){return Cd}}),Kd({strict:!0,createInternalComparator:function(){return Cd}}),Kd({circular:!0,createInternalComparator:function(){return Cd}}),Kd({circular:!0,createInternalComparator:function(){return Cd},strict:!0});function Kd(t){void 0===t&&(t={});var e,n=t.circular,r=void 0!==n&&n,i=t.createInternalComparator,o=t.createState,a=t.strict,s=void 0!==a&&a,l=function(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Bd:Od,areDatesEqual:Id,areErrorsEqual:zd,areFunctionsEqual:Ld,areMapsEqual:r?kd(Dd,Bd):Dd,areNumbersEqual:jd,areObjectsEqual:r?Bd:Rd,arePrimitiveWrappersEqual:Nd,areRegExpsEqual:Fd,areSetsEqual:r?kd($d,Bd):$d,areTypedArraysEqual:r?Bd:Vd,areUrlsEqual:Ud};if(n&&(i=Wd({},i,n(i))),e){var o=Pd(i.areArraysEqual),a=Pd(i.areMapsEqual),s=Pd(i.areObjectsEqual),l=Pd(i.areSetsEqual);i=Wd({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(t),c=function(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,h=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(t,p,f){if(t===p)return!0;if(null==t||null==p)return!1;var m=typeof t;if(m!==typeof p)return!1;if("object"!==m)return"number"===m?a(t,p,f):"function"===m&&i(t,p,f);var g=t.constructor;if(g!==p.constructor)return!1;if(g===Object)return s(t,p,f);if(qd(t))return e(t,p,f);if(null!=Hd&&Hd(t))return h(t,p,f);if(g===Date)return n(t,p,f);if(g===RegExp)return c(t,p,f);if(g===Map)return o(t,p,f);if(g===Set)return u(t,p,f);var y=Gd(t);return"[object Date]"===y?n(t,p,f):"[object RegExp]"===y?c(t,p,f):"[object Map]"===y?o(t,p,f):"[object Set]"===y?u(t,p,f):"[object Object]"===y?"function"!==typeof t.then&&"function"!==typeof p.then&&s(t,p,f):"[object URL]"===y?d(t,p,f):"[object Error]"===y?r(t,p,f):"[object Arguments]"===y?s(t,p,f):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(t,p,f)}}(l),u=i?i(c):(e=c,function(t,n,r,i,o,a,s){return e(t,n,s)});return function(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(t,a){var s=r(),l=s.cache,c=void 0===l?e?new WeakMap:void 0:l,u=s.meta;return n(t,a,{cache:c,equals:i,meta:u,strict:o})};if(e)return function(t,e){return n(t,e,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(t,e){return n(t,e,a)}}({circular:r,comparator:c,createState:o,equals:u,strict:s})}function Yd(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>e?(t(i),n=-1):function(t){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(t)}(r)}))}function Jd(t){return Jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(t)}function Qd(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return tp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ep(){var t=function(){return null},e=!1,n=function n(r){if(!e){if(Array.isArray(r)){if(!r.length)return;var i=Qd(r),o=i[0],a=i.slice(1);return"number"===typeof o?void Yd(n.bind(null,a),o):(n(o),void Yd(n.bind(null,a)))}"object"===Jd(r)&&t(r),"function"===typeof r&&r()}};return{stop:function(){e=!0},start:function(t){e=!1,n(t)},subscribe:function(e){return t=e,function(){t=function(){return null}}}}}function np(t){return np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(t)}function rp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ip(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rp(Object(n),!0).forEach((function(e){op(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function op(t,e,n){return e=function(t){var e=function(t,e){if("object"!==np(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==np(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===np(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ap=function(t){return t},sp=function(t,e){return Object.keys(e).reduce((function(n,r){return ip(ip({},n),{},op({},r,t(r,e[r])))}),{})},lp=function(t,e,n){return t.map((function(t){return"".concat((r=t,r.replace(/([A-Z])/g,(function(t){return"-".concat(t.toLowerCase())})))," ").concat(e,"ms ").concat(n);var r})).join(",")};function cp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||hp(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function up(t){return function(t){if(Array.isArray(t))return dp(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||hp(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hp(t,e){if(t){if("string"===typeof t)return dp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dp(t,e):void 0}}function dp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pp=1e-4,fp=function(t,e){return[0,3*t,3*e-6*t,3*t-3*e+1]},mp=function(t,e){return t.map((function(t,n){return t*Math.pow(e,n)})).reduce((function(t,e){return t+e}))},gp=function(t,e){return function(n){var r=fp(t,e);return mp(r,n)}},yp=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],a=e[3];if(1===e.length)switch(e[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=e[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=cp(s[1].split(")")[0].split(",").map((function(t){return parseFloat(t)})),4);r=l[0],i=l[1],o=l[2],a=l[3]}}[r,o,i,a].every((function(t){return"number"===typeof t&&t>=0&&t<=1}));var c,u,h=gp(r,o),d=gp(i,a),p=(c=r,u=o,function(t){var e=fp(c,u),n=[].concat(up(e.map((function(t,e){return t*e})).slice(1)),[0]);return mp(n,t)}),f=function(t){return t>1?1:t<0?0:t},m=function(t){for(var e=t>1?1:t,n=e,r=0;r<8;++r){var i=h(n)-e,o=p(n);if(Math.abs(i-e)<pp||o<pp)return d(n);n=f(n-i/o)}return d(n)};return m.isStepper=!1,m},vp=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yp(r);case"spring":return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stiff,n=void 0===e?100:e,r=t.damping,i=void 0===r?8:r,o=t.dt,a=void 0===o?17:o,s=function(t,e,r){var o=r+(-(t-e)*n-r*i)*a/1e3,s=r*a/1e3+t;return Math.abs(s-e)<pp&&Math.abs(o)<pp?[e,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return yp(r)}return"function"===typeof r?r:null};function _p(t){return _p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(t)}function bp(t){return function(t){if(Array.isArray(t))return Tp(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Pp(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xp(Object(n),!0).forEach((function(e){Sp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sp(t,e,n){return e=function(t){var e=function(t,e){if("object"!==_p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_p(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||Pp(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pp(t,e){if(t){if("string"===typeof t)return Tp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tp(t,e):void 0}}function Tp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ep=function(t,e,n){return t+(e-t)*n},Cp=function(t){return t.from!==t.to},Ap=function t(e,n,r){var i=sp((function(t,n){if(Cp(n)){var r=kp(e(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return wp(wp({},n),{},{from:i,velocity:o})}return n}),n);return r<1?sp((function(t,e){return Cp(e)?wp(wp({},e),{},{velocity:Ep(e.velocity,i[t].velocity,r),from:Ep(e.from,i[t].from,r)}):e}),n):t(e,i,r-1)};const Mp=function(t,e,n,r,i){var o,a,s,l,c=(o=t,a=e,[Object.keys(o),Object.keys(a)].reduce((function(t,e){return t.filter((function(t){return e.includes(t)}))}))),u=c.reduce((function(n,r){return wp(wp({},n),{},Sp({},r,[t[r],e[r]]))}),{}),h=c.reduce((function(n,r){return wp(wp({},n),{},Sp({},r,{from:t[r],velocity:0,to:e[r]}))}),{}),d=-1,p=function(){return null};return p=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;h=Ap(n,h,o),i(wp(wp(wp({},t),e),sp((function(t,e){return e.from}),h))),s=r,Object.values(h).filter(Cp).length&&(d=requestAnimationFrame(p))}:function(o){l||(l=o);var a=(o-l)/r,s=sp((function(t,e){return Ep.apply(void 0,bp(e).concat([n(a)]))}),u);if(i(wp(wp(wp({},t),e),s)),a<1)d=requestAnimationFrame(p);else{var c=sp((function(t,e){return Ep.apply(void 0,bp(e).concat([n(1)]))}),u);i(wp(wp(wp({},t),e),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}};function Op(t){return Op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(t)}var Ip=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zp(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lp(t){return function(t){if(Array.isArray(t))return Dp(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Dp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jp(Object(n),!0).forEach((function(e){Bp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bp(t,e,n){return(e=Fp(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Np(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fp(r.key),r)}}function Fp(t){var e=function(t,e){if("object"!==Op(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Op(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Op(e)?e:String(e)}function $p(t,e){return $p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$p(t,e)}function Vp(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(RC){return!1}}();return function(){var n,r=qp(t);if(e){var i=qp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Up(this,n)}}function Up(t,e){if(e&&("object"===Op(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zp(t)}function Zp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qp(t)}var Hp=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$p(t,e)}(a,t);var e,n,i,o=Vp(a);function a(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,t,e)).props,i=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,h=r.children,d=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(Zp(n)),n.changeStyle=n.changeStyle.bind(Zp(n)),!i||d<=0)return n.state={style:{}},"function"===typeof h&&(n.state={style:c}),Up(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof h)return n.state={style:l},Up(n);n.state={style:s?Bp({},s,l):l}}else n.state={style:{}};return n}return e=a,n=[{key:"componentDidMount",value:function(){var t=this.props,e=t.isActive,n=t.canBegin;this.mounted=!0,e&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.isActive,r=e.canBegin,i=e.attributeName,o=e.shouldReAnimate,a=e.to,s=e.from,l=this.state.style;if(r)if(n){if(!(Xd(t.to,a)&&t.canBegin&&t.isActive)){var c=!t.canBegin||!t.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:t.to;if(this.state&&l){var h={style:i?Bp({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(h)}this.runAnimation(Rp(Rp({},this.props),{},{from:u,begin:0}))}}else{var d={style:i?Bp({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(d)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var t=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}},{key:"handleStyleChange",value:function(t){this.changeStyle(t)}},{key:"changeStyle",value:function(t){this.mounted&&this.setState({style:t})}},{key:"runJSAnimation",value:function(t){var e=this,n=t.from,r=t.to,i=t.duration,o=t.easing,a=t.begin,s=t.onAnimationEnd,l=t.onAnimationStart,c=Mp(n,r,vp(o),i,this.changeStyle);this.manager.start([l,a,function(){e.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(t){var e=this,n=t.steps,r=t.begin,i=t.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(Lp(n.reduce((function(t,r,i){if(0===i)return t;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,h=i>0?n[i-1]:r,d=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(Lp(t),[e.runJSAnimation.bind(e,{from:h.style,to:l,duration:o,easing:s}),o]);var p=lp(d,o,s),f=Rp(Rp(Rp({},h.style),l),{},{transition:p});return[].concat(Lp(t),[f,o,u]).filter(ap)}),[a,Math.max(l,r)])),[t.onAnimationEnd]))}},{key:"runAnimation",value:function(t){this.manager||(this.manager=ep());var e=t.begin,n=t.duration,r=t.attributeName,i=t.to,o=t.easing,a=t.onAnimationStart,s=t.onAnimationEnd,l=t.steps,c=t.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(t);else{var h=r?Bp({},r,i):i,d=lp(Object.keys(h),n,o);u.start([a,e,Rp(Rp({},h),{},{transition:d}),n,s])}else this.runJSAnimation(t)}},{key:"render",value:function(){var t=this.props,e=t.children,n=(t.begin,t.duration),i=(t.attributeName,t.easing,t.isActive),o=(t.steps,t.from,t.to,t.canBegin,t.onAnimationEnd,t.shouldReAnimate,t.onAnimationReStart,zp(t,Ip)),a=r.Children.count(e),s=this.state.style;if("function"===typeof e)return e(s);if(!i||0===a||n<=0)return e;var l=function(t){var e=t.props,n=e.style,i=void 0===n?{}:n,a=e.className;return(0,r.cloneElement)(t,Rp(Rp({},o),{},{style:Rp(Rp({},i),s),className:a}))};return 1===a?l(r.Children.only(e)):r.createElement("div",null,r.Children.map(e,(function(t){return l(t)})))}}],n&&Np(e.prototype,n),i&&Np(e,i),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.PureComponent);Hp.displayName="Animate",Hp.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Hp.propTypes={from:bd().oneOfType([bd().object,bd().string]),to:bd().oneOfType([bd().object,bd().string]),attributeName:bd().string,duration:bd().number,begin:bd().number,easing:bd().oneOfType([bd().string,bd().func]),steps:bd().arrayOf(bd().shape({duration:bd().number.isRequired,style:bd().object.isRequired,easing:bd().oneOfType([bd().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),bd().func]),properties:bd().arrayOf("string"),onAnimationEnd:bd().func})),children:bd().oneOfType([bd().node,bd().func]),isActive:bd().bool,canBegin:bd().bool,onAnimationEnd:bd().func,shouldReAnimate:bd().bool,onAnimationStart:bd().func,onAnimationReStart:bd().func};const Wp=Hp;function Gp(t){return Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(t)}function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xp.apply(this,arguments)}function Kp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Yp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yp(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jp(Object(n),!0).forEach((function(e){tf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tf(t,e,n){return e=function(t){var e=function(t,e){if("object"!=Gp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gp(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ef=function(t,e,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],h=0;h<4;h++)u[h]=i[h]>a?a:i[h];o="M".concat(t,",").concat(e+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(t+l*u[0],",").concat(e)),o+="L ".concat(t+n-l*u[1],",").concat(e),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(t+n,",").concat(e+s*u[1])),o+="L ".concat(t+n,",").concat(e+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(t+n-l*u[2],",").concat(e+r)),o+="L ".concat(t+l*u[3],",").concat(e+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(t,",").concat(e+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var d=Math.min(a,i);o="M ".concat(t,",").concat(e+s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(t+l*d,",").concat(e,"\n            L ").concat(t+n-l*d,",").concat(e,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*d,"\n            L ").concat(t+n,",").concat(e+r-s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(t+n-l*d,",").concat(e+r,"\n            L ").concat(t+l*d,",").concat(e+r,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(t,",").concat(e+r-s*d," Z")}else o="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},nf=function(t,e){if(!t||!e)return!1;var n=t.x,r=t.y,i=e.x,o=e.y,a=e.width,s=e.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+s),h=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=h}return!1},rf={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},of=function(t){var e=Qp(Qp({},rf),t),n=(0,r.useRef)(),i=Kp((0,r.useState)(-1),2),o=i[0],a=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var t=n.current.getTotalLength();t&&a(t)}catch(BC){}}),[]);var s=e.x,l=e.y,c=e.width,u=e.height,h=e.radius,d=e.className,p=e.animationEasing,f=e.animationDuration,m=e.animationBegin,g=e.isAnimationActive,y=e.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=rr("recharts-rectangle",d);return y?r.createElement(Wp,{canBegin:o>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:f,animationEasing:p,isActive:y},(function(t){var i=t.width,a=t.height,s=t.x,l=t.y;return r.createElement(Wp,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:f,isActive:g,easing:p},r.createElement("path",Xp({},Zc(e,!0),{className:v,d:ef(s,l,i,a,h),ref:n})))})):r.createElement("path",Xp({},Zc(e,!0),{className:v,d:ef(s,l,c,u,h)}))};function af(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function sf(t,e){switch(arguments.length){case 0:break;case 1:"function"===typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"===typeof e?this.interpolator(e):this.range(e)}return this}class lf extends Map{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:df;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(cf(this,t))}has(t){return super.has(cf(this,t))}set(t,e){return super.set(uf(this,t),e)}delete(t){return super.delete(hf(this,t))}}Set;function cf(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)?n.get(i):e}function uf(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function hf(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function df(t){return null!==t&&"object"===typeof t?t.valueOf():t}const pf=Symbol("implicit");function ff(){var t=new lf,e=[],n=[],r=pf;function i(i){let o=t.get(i);if(void 0===o){if(r!==pf)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new lf;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return ff(e,n).unknown(r)},af.apply(i,arguments),i}function mf(){var t,e,n=ff().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=a<o,d=h?a:o,p=h?o:a;t=(p-d)/Math.max(1,n-l+2*c),s&&(t=Math.floor(t)),d+=(p-d-t*(n-l))*u,e=t*(1-l),s&&(d=Math.round(d),e=Math.round(e));var f=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(n).map((function(e){return d+t*e}));return i(h?f.reverse():f)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,h()):s},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),h()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return mf(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},af.apply(h(),arguments)}function gf(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return gf(e())},t}function yf(){return gf(mf.apply(null,arguments).paddingInner(1))}function vf(t){return vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(t)}function _f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_f(Object(n),!0).forEach((function(e){xf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xf(t,e,n){return e=function(t){var e=function(t,e){if("object"!=vf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vf(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wf={widthCache:{},cacheCount:0},Sf={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kf="recharts_measurement_span";var Pf=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===t||null===t||$u.isSsr)return{width:0,height:0};var n=function(t){var e=bf({},t);return Object.keys(e).forEach((function(t){e[t]||delete e[t]})),e}(e),r=JSON.stringify({text:t,copyStyle:n});if(wf.widthCache[r])return wf.widthCache[r];try{var i=document.getElementById(kf);i||((i=document.createElement("span")).setAttribute("id",kf),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=bf(bf({},Sf),n);Object.assign(i.style,o),i.textContent="".concat(t);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return wf.widthCache[r]=s,++wf.cacheCount>2e3&&(wf.cacheCount=0,wf.widthCache={}),s}catch(RC){return{width:0,height:0}}};function Tf(t){return Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(t)}function Ef(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Cf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cf(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Af(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mf(r.key),r)}}function Mf(t){var e=function(t,e){if("object"!=Tf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Tf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tf(e)?e:e+""}var Of=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,If=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zf=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Lf=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Df={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},jf=Object.keys(Df),Rf="NaN";var Bf=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),""===n||zf.test(n)||(this.num=NaN,this.unit=""),jf.includes(n)&&(this.num=function(t,e){return t*Df[e]}(e,n),this.unit="px")}return e=t,r=[{key:"parse",value:function(e){var n,r=Ef(null!==(n=Lf.exec(e))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new t(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(e){return this.unit!==e.unit?new t(NaN,""):new t(this.num+e.num,this.unit)}},{key:"subtract",value:function(e){return this.unit!==e.unit?new t(NaN,""):new t(this.num-e.num,this.unit)}},{key:"multiply",value:function(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new t(NaN,""):new t(this.num*e.num,this.unit||e.unit)}},{key:"divide",value:function(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new t(NaN,""):new t(this.num/e.num,this.unit||e.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Af(e.prototype,n),r&&Af(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function Nf(t){if(t.includes(Rf))return Rf;for(var e=t;e.includes("*")||e.includes("/");){var n,r=Ef(null!==(n=Of.exec(e))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=Bf.parse(null!==i&&void 0!==i?i:""),l=Bf.parse(null!==a&&void 0!==a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return Rf;e=e.replace(Of,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,h=Ef(null!==(u=If.exec(e))&&void 0!==u?u:[],4),d=h[1],p=h[2],f=h[3],m=Bf.parse(null!==d&&void 0!==d?d:""),g=Bf.parse(null!==f&&void 0!==f?f:""),y="+"===p?m.add(g):m.subtract(g);if(y.isNaN())return Rf;e=e.replace(If,y.toString())}return e}var Ff=/\(([^()]*)\)/;function $f(t){var e=t.replace(/\s+/g,"");return e=function(t){for(var e=t;e.includes("(");){var n=Ef(Ff.exec(e),2)[1];e=e.replace(Ff,Nf(n))}return e}(e),e=Nf(e)}function Vf(t){var e=function(t){try{return $f(t)}catch(RC){return Rf}}(t.slice(5,-1));return e===Rf?"":e}var Uf=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Zf=["dx","dy","angle","className","breakAll"];function qf(){return qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qf.apply(this,arguments)}function Hf(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Gf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gf(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xf=/[ \f\n\r\t\v\u2028\u2029]+/,Kf=function(t){var e=t.children,n=t.breakAll,r=t.style;try{var i=[];return yc()(e)||(i=n?e.toString().split(""):e.toString().split(Xf)),{wordsWithComputedWidth:i.map((function(t){return{word:t,width:Pf(t,r).width}})),spaceWidth:n?0:Pf("\xa0",r).width}}catch(RC){return null}},Yf=function(t){return[{words:yc()(t)?[]:t.toString().split(Xf)}]},Jf=function(t){var e=t.width,n=t.scaleToFit,r=t.children,i=t.style,o=t.breakAll,a=t.maxLines;if((e||n)&&!$u.isSsr){var s=Kf({breakAll:o,children:r,style:i});return s?function(t,e,n,r,i){var o=t.maxLines,a=t.children,s=t.style,l=t.breakAll,c=sc(o),u=a,h=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(t,e){var o=e.word,a=e.width,s=t[t.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};t.push(l)}return t}),[])},d=h(e);if(!c)return d;for(var p,f=function(t){var e=u.slice(0,t),n=Kf({breakAll:l,style:s,children:e+"\u2026"}).wordsWithComputedWidth,i=h(n),a=i.length>o||function(t){return t.reduce((function(t,e){return t.width>e.width?t:e}))}(i).width>Number(r);return[a,i]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),_=Wf(f(v-1),2),b=_[0],x=_[1],w=Wf(f(v),1)[0];if(b||w||(m=v+1),b&&w&&(g=v-1),!b&&w){p=x;break}y++}return p||d}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,e,n):Yf(r)}return Yf(r)},Qf="#808080",tm=function(t){var e=t.x,n=void 0===e?0:e,i=t.y,o=void 0===i?0:i,a=t.lineHeight,s=void 0===a?"1em":a,l=t.capHeight,c=void 0===l?"0.71em":l,u=t.scaleToFit,h=void 0!==u&&u,d=t.textAnchor,p=void 0===d?"start":d,f=t.verticalAnchor,m=void 0===f?"end":f,g=t.fill,y=void 0===g?Qf:g,v=Hf(t,Uf),_=(0,r.useMemo)((function(){return Jf({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),b=v.dx,x=v.dy,w=v.angle,S=v.className,k=v.breakAll,P=Hf(v,Zf);if(!lc(n)||!lc(o))return null;var T,E=n+(sc(b)?b:0),C=o+(sc(x)?x:0);switch(m){case"start":T=Vf("calc(".concat(c,")"));break;case"middle":T=Vf("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:T=Vf("calc(".concat(_.length-1," * -").concat(s,")"))}var A=[];if(h){var M=_[0].width,O=v.width;A.push("scale(".concat((sc(O)?O/M:1)/M,")"))}return w&&A.push("rotate(".concat(w,", ").concat(E,", ").concat(C,")")),A.length&&(P.transform=A.join(" ")),r.createElement("text",qf({},Zc(P,!0),{x:E,y:C,className:rr("recharts-text",S),textAnchor:p,fill:y.includes("url")?Qf:y}),_.map((function(t,e){var n=t.words.join(k?"":" ");return r.createElement("tspan",{x:E,dy:0===e?T:s,key:"".concat(n,"-").concat(e)},n)})))};const em=Math.sqrt(50),nm=Math.sqrt(10),rm=Math.sqrt(2);function im(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=em?10:o>=nm?5:o>=rm?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?im(t,e,2*n):[s,l,c]}function om(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const r=e<t,[i,o,a]=r?im(e,t,n):im(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function am(t,e,n){return im(t=+t,e=+e,n=+n)[2]}function sm(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?am(e,t,n):am(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function lm(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cm(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function um(t){let e,n,r;function i(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=lm,n=(e,n)=>lm(t(e),n),r=(e,n)=>t(e)-n):(e=t===lm||t===cm?t:hm,n=t,r=t),{left:i,center:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(t,e,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return o>n&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function hm(){return 0}function dm(t){return null===t?NaN:+t}const pm=um(lm),fm=pm.right,mm=(pm.left,um(dm).center,fm);function gm(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ym(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vm(){}var _m=.7,bm=1/_m,xm="\\s*([+-]?\\d+)\\s*",wm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",km=/^#([0-9a-f]{3,8})$/,Pm=new RegExp(`^rgb\\(${xm},${xm},${xm}\\)$`),Tm=new RegExp(`^rgb\\(${Sm},${Sm},${Sm}\\)$`),Em=new RegExp(`^rgba\\(${xm},${xm},${xm},${wm}\\)$`),Cm=new RegExp(`^rgba\\(${Sm},${Sm},${Sm},${wm}\\)$`),Am=new RegExp(`^hsl\\(${wm},${Sm},${Sm}\\)$`),Mm=new RegExp(`^hsla\\(${wm},${Sm},${Sm},${wm}\\)$`),Om={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Im(){return this.rgb().formatHex()}function zm(){return this.rgb().formatRgb()}function Lm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=km.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Dm(e):3===n?new Bm(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?jm(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?jm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Pm.exec(t))?new Bm(e[1],e[2],e[3],1):(e=Tm.exec(t))?new Bm(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Em.exec(t))?jm(e[1],e[2],e[3],e[4]):(e=Cm.exec(t))?jm(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Am.exec(t))?Zm(e[1],e[2]/100,e[3]/100,1):(e=Mm.exec(t))?Zm(e[1],e[2]/100,e[3]/100,e[4]):Om.hasOwnProperty(t)?Dm(Om[t]):"transparent"===t?new Bm(NaN,NaN,NaN,0):null}function Dm(t){return new Bm(t>>16&255,t>>8&255,255&t,1)}function jm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Bm(t,e,n,r)}function Rm(t,e,n,r){return 1===arguments.length?((i=t)instanceof vm||(i=Lm(i)),i?new Bm((i=i.rgb()).r,i.g,i.b,i.opacity):new Bm):new Bm(t,e,n,null==r?1:r);var i}function Bm(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Nm(){return`#${Um(this.r)}${Um(this.g)}${Um(this.b)}`}function Fm(){const t=$m(this.opacity);return`${1===t?"rgb(":"rgba("}${Vm(this.r)}, ${Vm(this.g)}, ${Vm(this.b)}${1===t?")":`, ${t})`}`}function $m(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vm(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Um(t){return((t=Vm(t))<16?"0":"")+t.toString(16)}function Zm(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hm(t,e,n,r)}function qm(t){if(t instanceof Hm)return new Hm(t.h,t.s,t.l,t.opacity);if(t instanceof vm||(t=Lm(t)),!t)return new Hm;if(t instanceof Hm)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Hm(a,s,l,t.opacity)}function Hm(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Wm(t){return(t=(t||0)%360)<0?t+360:t}function Gm(t){return Math.max(0,Math.min(1,t||0))}function Xm(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Km(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}gm(vm,Lm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Im,formatHex:Im,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return qm(this).formatHsl()},formatRgb:zm,toString:zm}),gm(Bm,Rm,ym(vm,{brighter(t){return t=null==t?bm:Math.pow(bm,t),new Bm(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?_m:Math.pow(_m,t),new Bm(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bm(Vm(this.r),Vm(this.g),Vm(this.b),$m(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nm,formatHex:Nm,formatHex8:function(){return`#${Um(this.r)}${Um(this.g)}${Um(this.b)}${Um(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Fm,toString:Fm})),gm(Hm,(function(t,e,n,r){return 1===arguments.length?qm(t):new Hm(t,e,n,null==r?1:r)}),ym(vm,{brighter(t){return t=null==t?bm:Math.pow(bm,t),new Hm(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?_m:Math.pow(_m,t),new Hm(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Bm(Xm(t>=240?t-240:t+120,i,r),Xm(t,i,r),Xm(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Hm(Wm(this.h),Gm(this.s),Gm(this.l),$m(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$m(this.opacity);return`${1===t?"hsl(":"hsla("}${Wm(this.h)}, ${100*Gm(this.s)}%, ${100*Gm(this.l)}%${1===t?")":`, ${t})`}`}}));const Ym=t=>()=>t;function Jm(t,e){return function(n){return t+n*e}}function Qm(t){return 1===(t=+t)?tg:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ym(isNaN(e)?n:e)}}function tg(t,e){var n=e-t;return n?Jm(t,n):Ym(isNaN(t)?e:t)}const eg=function t(e){var n=Qm(e);function r(t,e){var r=n((t=Rm(t)).r,(e=Rm(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=tg(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function ng(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Rm(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}ng((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Km((n-r/e)*e,a,i,o,s)}})),ng((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Km((n-r/e)*e,i,o,a,s)}}));function rg(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=hg(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function ig(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function og(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ag(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=hg(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var sg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lg=new RegExp(sg.source,"g");function cg(t,e){var n,r,i,o=sg.lastIndex=lg.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=sg.exec(t))&&(r=lg.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:og(n,r)})),o=lg.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function ug(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function hg(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Ym(e):("number"===i?og:"string"===i?(n=Lm(e))?(e=n,eg):cg:e instanceof Lm?eg:e instanceof Date?ig:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?rg:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?ag:og:ug))(t,e)}function dg(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function pg(t){return+t}var fg=[0,1];function mg(t){return t}function gg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function yg(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=gg(i,r),o=n(a,o)):(r=gg(r,i),o=n(o,a)),function(t){return o(r(t))}}function vg(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=gg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=mm(t,e,1,r)-1;return o[n](i[n](e))}}function _g(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bg(){var t,e,n,r,i,o,a=fg,s=fg,l=hg,c=mg;function u(){var t=Math.min(a.length,s.length);return c!==mg&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?vg:yg,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),og)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,pg),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=dg,u()},h.clamp=function(t){return arguments.length?(c=!!t||mg,u()):c!==mg},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function xg(){return bg()(mg,mg)}var wg,Sg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kg(t){if(!(e=Sg.exec(t)))throw new Error("invalid format: "+t);var e;return new Pg({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Pg(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Tg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Eg(t){return(t=Tg(Math.abs(t)))?t[1]:NaN}function Cg(t,e){var n=Tg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}kg.prototype=Pg.prototype,Pg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ag={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Cg(100*t,e),r:Cg,s:function(t,e){var n=Tg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(wg=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Tg(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Mg(t){return t}var Og,Ig,zg,Lg=Array.prototype.map,Dg=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function jg(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Mg:(e=Lg.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Mg:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Lg.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"\u2212":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=kg(t)).fill,n=t.align,h=t.sign,d=t.symbol,p=t.zero,f=t.width,m=t.comma,g=t.precision,y=t.trim,v=t.type;"n"===v?(m=!0,v="g"):Ag[v]||(void 0===g&&(g=12),y=!0,v="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var _="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===d?o:/[%p]/.test(v)?l:"",x=Ag[v],w=/[defgprs%]/.test(v);function S(t){var i,o,l,d=_,S=b;if("c"===v)S=x(t)+S,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),g),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0===+t&&"+"!==h&&(k=!1),d=(k?"("===h?h:c:"-"===h||"("===h?"":h)+d,S=("s"===v?Dg[8+wg/3]:"")+S+(k&&"("===h?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){S=(46===l?a+t.slice(i+1):t.slice(i))+S,t=t.slice(0,i);break}}m&&!p&&(t=r(t,1/0));var P=d.length+t.length+S.length,T=P<f?new Array(f-P+1).join(e):"";switch(m&&p&&(t=r(T+t,T.length?f-S.length:1/0),T=""),n){case"<":t=d+t+S+T;break;case"=":t=d+T+t+S;break;case"^":t=T.slice(0,P=T.length>>1)+d+t+S+T.slice(P);break;default:t=T+d+t+S}return s(t)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return t+""},S}return{format:h,formatPrefix:function(t,e){var n=h(((t=kg(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Eg(e)/3))),i=Math.pow(10,-r),o=Dg[8+r/3];return function(t){return n(i*t)+o}}}}function Rg(t,e,n,r){var i,o=sm(t,e,n);switch((r=kg(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Eg(e)/3)))-Eg(Math.abs(t)))}(o,a))||(r.precision=i),zg(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Eg(e)-Eg(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Eg(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Ig(r)}function Bg(t){var e=t.domain;return t.ticks=function(t){var n=e();return om(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Rg(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=am(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Ng(){var t=xg();return t.copy=function(){return _g(t,Ng())},af.apply(t,arguments),Bg(t)}function Fg(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,pg),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Fg(t).unknown(e)},t=arguments.length?Array.from(t,pg):[0,1],Bg(n)}function $g(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Vg(t){return Math.log(t)}function Ug(t){return Math.exp(t)}function Zg(t){return-Math.log(-t)}function qg(t){return-Math.exp(-t)}function Hg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Wg(t){return(e,n)=>-t(-e,n)}function Gg(t){const e=t(Vg,Ug),n=e.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(o),i=function(t){return 10===t?Hg:t===Math.E?Math.exp:e=>Math.pow(t,e)}(o),n()[0]<0?(r=Wg(r),i=Wg(i),t(Zg,qg)):t(Vg,Ug),e}return e.base=function(t){return arguments.length?(o=+t,a()):o},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=t=>{const e=n();let a=e[0],s=e[e.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,h=r(a),d=r(s);const p=null==t?10:+t;let f=[];if(!(o%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(c=1;c<o;++c)if(u=h<0?c/i(-h):c*i(h),!(u<a)){if(u>s)break;f.push(u)}}else for(;h<=d;++h)for(c=o-1;c>=1;--c)if(u=h>0?c/i(-h):c*i(h),!(u<a)){if(u>s)break;f.push(u)}2*f.length<p&&(f=om(a,s,p))}else f=om(h,d,Math.min(d-h,p)).map(i);return l?f.reverse():f},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=kg(n)).precision||(n.trim=!0),n=Ig(n)),t===1/0)return n;const a=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=a?n(t):""}},e.nice=()=>n($g(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function Xg(){const t=Gg(bg()).domain([1,10]);return t.copy=()=>_g(t,Xg()).base(t.base()),af.apply(t,arguments),t}function Kg(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Yg(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Jg(t){var e=1,n=t(Kg(e),Yg(e));return n.constant=function(n){return arguments.length?t(Kg(e=+n),Yg(e)):e},Bg(n)}function Qg(){var t=Jg(bg());return t.copy=function(){return _g(t,Qg()).constant(t.constant())},af.apply(t,arguments)}function ty(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ey(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ny(t){return t<0?-t*t:t*t}function ry(t){var e=t(mg,mg),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(mg,mg):.5===n?t(ey,ny):t(ty(n),ty(1/n)):n},Bg(e)}function iy(){var t=ry(bg());return t.copy=function(){return _g(t,iy()).exponent(t.exponent())},af.apply(t,arguments),t}function oy(){return iy.apply(null,arguments).exponent(.5)}function ay(t){return Math.sign(t)*t*t}function sy(){var t,e=xg(),n=[0,1],r=!1;function i(n){var i=function(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}(e(n));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return e.invert(ay(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain()},i.range=function(t){return arguments.length?(e.range((n=Array.from(t,pg)).map(ay)),i):n.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(e.clamp(t),i):e.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return sy(e.domain(),n).round(r).clamp(e.clamp()).unknown(t)},af.apply(i,arguments),Bg(i)}function ly(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function cy(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function uy(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lm;if(t===lm)return hy;if("function"!==typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function hy(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function dy(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=void 0===i?hy:uy(i);r>n;){if(r-n>600){const o=r-n+1,a=e-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);dy(t,e,Math.max(n,Math.floor(e-a*l/o+c)),Math.min(r,Math.floor(e+(o-a)*l/o+c)),i)}const o=t[e];let a=n,s=r;for(py(t,n,e),i(t[r],o)>0&&py(t,n,r);a<s;){for(py(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}0===i(t[n],o)?py(t,n,s):(++s,py(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function py(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function fy(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),(r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return cy(t);if(e>=1)return ly(t);var r,i=(r-1)*e,o=Math.floor(i),a=ly(dy(t,o).subarray(0,o+1));return a+(cy(t.subarray(o+1))-a)*(i-o)}}function my(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dm;if((r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function gy(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=my(e,t/i);return o}function o(e){return null==e||isNaN(e=+e)?t:n[mm(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(lm),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return gy().domain(e).range(n).unknown(t)},af.apply(o,arguments)}function yy(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return null!=e&&e<=e?o[mm(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return yy().domain([e,n]).range(o).unknown(t)},af.apply(Bg(a),arguments)}function vy(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[mm(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return vy().domain(e).range(n).unknown(t)},af.apply(i,arguments)}Og=jg({thousands:",",grouping:[3],currency:["$",""]}),Ig=Og.format,zg=Og.formatPrefix;const _y=1e3,by=6e4,xy=36e5,wy=864e5,Sy=6048e5,ky=2592e6,Py=31536e6,Ty=new Date,Ey=new Date;function Cy(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=n=>Cy((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(Ty.setTime(+e),Ey.setTime(+r),t(Ty),t(Ey),Math.floor(n(Ty,Ey))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t===0:e=>i.count(0,e)%t===0):i:null)),i}const Ay=Cy((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));Ay.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Cy((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):Ay:null);Ay.range;const My=Cy((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*_y)}),((t,e)=>(e-t)/_y),(t=>t.getUTCSeconds())),Oy=(My.range,Cy((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_y)}),((t,e)=>{t.setTime(+t+e*by)}),((t,e)=>(e-t)/by),(t=>t.getMinutes()))),Iy=(Oy.range,Cy((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*by)}),((t,e)=>(e-t)/by),(t=>t.getUTCMinutes()))),zy=(Iy.range,Cy((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_y-t.getMinutes()*by)}),((t,e)=>{t.setTime(+t+e*xy)}),((t,e)=>(e-t)/xy),(t=>t.getHours()))),Ly=(zy.range,Cy((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*xy)}),((t,e)=>(e-t)/xy),(t=>t.getUTCHours()))),Dy=(Ly.range,Cy((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*by)/wy),(t=>t.getDate()-1))),jy=(Dy.range,Cy((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/wy),(t=>t.getUTCDate()-1))),Ry=(jy.range,Cy((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/wy),(t=>Math.floor(t/wy))));Ry.range;function By(t){return Cy((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*by)/Sy))}const Ny=By(0),Fy=By(1),$y=By(2),Vy=By(3),Uy=By(4),Zy=By(5),qy=By(6);Ny.range,Fy.range,$y.range,Vy.range,Uy.range,Zy.range,qy.range;function Hy(t){return Cy((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/Sy))}const Wy=Hy(0),Gy=Hy(1),Xy=Hy(2),Ky=Hy(3),Yy=Hy(4),Jy=Hy(5),Qy=Hy(6),tv=(Wy.range,Gy.range,Xy.range,Ky.range,Yy.range,Jy.range,Qy.range,Cy((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),ev=(tv.range,Cy((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),nv=(ev.range,Cy((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));nv.every=t=>isFinite(t=Math.floor(t))&&t>0?Cy((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null;nv.range;const rv=Cy((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));rv.every=t=>isFinite(t=Math.floor(t))&&t>0?Cy((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null;rv.range;function iv(t,e,n,r,i,o){const a=[[My,1,_y],[My,5,5e3],[My,15,15e3],[My,30,3e4],[o,1,by],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,xy],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,wy],[r,2,1728e5],[n,1,Sy],[e,1,ky],[e,3,7776e6],[t,1,Py]];function s(e,n,r){const i=Math.abs(n-e)/r,o=um((t=>{let[,,e]=t;return e})).right(a,i);if(o===a.length)return t.every(sm(e/Py,n/Py,r));if(0===o)return Ay.every(Math.max(sm(e,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"===typeof n.range?n:s(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},s]}const[ov,av]=iv(rv,ev,Wy,Ry,Ly,Iy),[sv,lv]=iv(nv,tv,Ny,Dy,zy,Oy);function cv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var dv,pv,fv,mv={"-":"",_:" ",0:"0"},gv=/^\s*\d+/,yv=/^%/,vv=/[\\^$*+?|[\]().{}]/g;function _v(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function bv(t){return t.replace(vv,"\\$&")}function xv(t){return new RegExp("^(?:"+t.map(bv).join("|")+")","i")}function wv(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Sv(t,e,n){var r=gv.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function kv(t,e,n){var r=gv.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Pv(t,e,n){var r=gv.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Tv(t,e,n){var r=gv.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ev(t,e,n){var r=gv.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Cv(t,e,n){var r=gv.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Av(t,e,n){var r=gv.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Mv(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ov(t,e,n){var r=gv.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Iv(t,e,n){var r=gv.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function zv(t,e,n){var r=gv.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Lv(t,e,n){var r=gv.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Dv(t,e,n){var r=gv.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function jv(t,e,n){var r=gv.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Rv(t,e,n){var r=gv.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Bv(t,e,n){var r=gv.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Nv(t,e,n){var r=gv.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Fv(t,e,n){var r=yv.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $v(t,e,n){var r=gv.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Vv(t,e,n){var r=gv.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Uv(t,e){return _v(t.getDate(),e,2)}function Zv(t,e){return _v(t.getHours(),e,2)}function qv(t,e){return _v(t.getHours()%12||12,e,2)}function Hv(t,e){return _v(1+Dy.count(nv(t),t),e,3)}function Wv(t,e){return _v(t.getMilliseconds(),e,3)}function Gv(t,e){return Wv(t,e)+"000"}function Xv(t,e){return _v(t.getMonth()+1,e,2)}function Kv(t,e){return _v(t.getMinutes(),e,2)}function Yv(t,e){return _v(t.getSeconds(),e,2)}function Jv(t){var e=t.getDay();return 0===e?7:e}function Qv(t,e){return _v(Ny.count(nv(t)-1,t),e,2)}function t_(t){var e=t.getDay();return e>=4||0===e?Uy(t):Uy.ceil(t)}function e_(t,e){return t=t_(t),_v(Uy.count(nv(t),t)+(4===nv(t).getDay()),e,2)}function n_(t){return t.getDay()}function r_(t,e){return _v(Fy.count(nv(t)-1,t),e,2)}function i_(t,e){return _v(t.getFullYear()%100,e,2)}function o_(t,e){return _v((t=t_(t)).getFullYear()%100,e,2)}function a_(t,e){return _v(t.getFullYear()%1e4,e,4)}function s_(t,e){var n=t.getDay();return _v((t=n>=4||0===n?Uy(t):Uy.ceil(t)).getFullYear()%1e4,e,4)}function l_(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_v(e/60|0,"0",2)+_v(e%60,"0",2)}function c_(t,e){return _v(t.getUTCDate(),e,2)}function u_(t,e){return _v(t.getUTCHours(),e,2)}function h_(t,e){return _v(t.getUTCHours()%12||12,e,2)}function d_(t,e){return _v(1+jy.count(rv(t),t),e,3)}function p_(t,e){return _v(t.getUTCMilliseconds(),e,3)}function f_(t,e){return p_(t,e)+"000"}function m_(t,e){return _v(t.getUTCMonth()+1,e,2)}function g_(t,e){return _v(t.getUTCMinutes(),e,2)}function y_(t,e){return _v(t.getUTCSeconds(),e,2)}function v_(t){var e=t.getUTCDay();return 0===e?7:e}function __(t,e){return _v(Wy.count(rv(t)-1,t),e,2)}function b_(t){var e=t.getUTCDay();return e>=4||0===e?Yy(t):Yy.ceil(t)}function x_(t,e){return t=b_(t),_v(Yy.count(rv(t),t)+(4===rv(t).getUTCDay()),e,2)}function w_(t){return t.getUTCDay()}function S_(t,e){return _v(Gy.count(rv(t)-1,t),e,2)}function k_(t,e){return _v(t.getUTCFullYear()%100,e,2)}function P_(t,e){return _v((t=b_(t)).getUTCFullYear()%100,e,2)}function T_(t,e){return _v(t.getUTCFullYear()%1e4,e,4)}function E_(t,e){var n=t.getUTCDay();return _v((t=n>=4||0===n?Yy(t):Yy.ceil(t)).getUTCFullYear()%1e4,e,4)}function C_(){return"+0000"}function A_(){return"%"}function M_(t){return+t}function O_(t){return Math.floor(+t/1e3)}function I_(t){return new Date(t)}function z_(t){return t instanceof Date?+t:+new Date(+t)}function L_(t,e,n,r,i,o,a,s,l,c){var u=xg(),h=u.invert,d=u.domain,p=c(".%L"),f=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),_=c("%B"),b=c("%Y");function x(t){return(l(t)<t?p:s(t)<t?f:a(t)<t?m:o(t)<t?g:r(t)<t?i(t)<t?y:v:n(t)<t?_:b)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?d(Array.from(t,z_)):d().map(I_)},u.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?x:c(e)},u.nice=function(t){var n=d();return t&&"function"===typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d($g(n,t)):u},u.copy=function(){return _g(u,L_(t,e,n,r,i,o,a,s,l,c))},u}function D_(){return af.apply(L_(sv,lv,nv,tv,Ny,Dy,zy,Oy,My,pv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function j_(){return af.apply(L_(ov,av,rv,ev,Wy,jy,Ly,Iy,My,fv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function R_(){var t,e,n,r,i,o=0,a=1,s=mg,l=!1;function c(e){return null==e||isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}function u(t){return function(e){var n,r;return arguments.length?([n,r]=e,s=t(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.range=u(hg),c.rangeRound=u(dg),c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),c}}function B_(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function N_(){var t=Bg(R_()(mg));return t.copy=function(){return B_(t,N_())},sf.apply(t,arguments)}function F_(){var t=Gg(R_()).domain([1,10]);return t.copy=function(){return B_(t,F_()).base(t.base())},sf.apply(t,arguments)}function $_(){var t=Jg(R_());return t.copy=function(){return B_(t,$_()).constant(t.constant())},sf.apply(t,arguments)}function V_(){var t=ry(R_());return t.copy=function(){return B_(t,V_()).exponent(t.exponent())},sf.apply(t,arguments)}function U_(){return V_.apply(null,arguments).exponent(.5)}function Z_(){var t=[],e=mg;function n(n){if(null!=n&&!isNaN(n=+n))return e((mm(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(lm),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map(((n,r)=>e(r/(t.length-1))))},n.quantiles=function(e){return Array.from({length:e+1},((n,r)=>fy(t,r/e)))},n.copy=function(){return Z_(e).domain(t)},sf.apply(n,arguments)}function q_(){var t,e,n,r,i,o,a,s=0,l=.5,c=1,u=1,h=mg,d=!1;function p(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(u*t<u*e?r:i),h(d?Math.max(0,Math.min(1,t)):t))}function f(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,h=function(t,e){void 0===e&&(e=t,t=hg);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}(t,[n,r,i]),p):[h(0),h(.5),h(1)]}}return p.domain=function(a){return arguments.length?([s,l,c]=a,t=o(s=+s),e=o(l=+l),n=o(c=+c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,p):[s,l,c]},p.clamp=function(t){return arguments.length?(d=!!t,p):d},p.interpolator=function(t){return arguments.length?(h=t,p):h},p.range=f(hg),p.rangeRound=f(dg),p.unknown=function(t){return arguments.length?(a=t,p):a},function(a){return o=a,t=a(s),e=a(l),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,p}}function H_(){var t=Bg(q_()(mg));return t.copy=function(){return B_(t,H_())},sf.apply(t,arguments)}function W_(){var t=Gg(q_()).domain([.1,1,10]);return t.copy=function(){return B_(t,W_()).base(t.base())},sf.apply(t,arguments)}function G_(){var t=Jg(q_());return t.copy=function(){return B_(t,G_()).constant(t.constant())},sf.apply(t,arguments)}function X_(){var t=ry(q_());return t.copy=function(){return B_(t,X_()).exponent(t.exponent())},sf.apply(t,arguments)}function K_(){return X_.apply(null,arguments).exponent(.5)}function Y_(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(t){dv=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=xv(i),u=wv(i),h=xv(o),d=wv(o),p=xv(a),f=wv(a),m=xv(s),g=wv(s),y=xv(l),v=wv(l),_={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Uv,e:Uv,f:Gv,g:o_,G:s_,H:Zv,I:qv,j:Hv,L:Wv,m:Xv,M:Kv,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:M_,s:O_,S:Yv,u:Jv,U:Qv,V:e_,w:n_,W:r_,x:null,X:null,y:i_,Y:a_,Z:l_,"%":A_},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:c_,e:c_,f:f_,g:P_,G:E_,H:u_,I:h_,j:d_,L:p_,m:m_,M:g_,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:M_,s:O_,S:y_,u:v_,U:__,V:x_,w:w_,W:S_,x:null,X:null,y:k_,Y:T_,Z:C_,"%":A_},x={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:zv,e:zv,f:Nv,g:Av,G:Cv,H:Dv,I:Dv,j:Lv,L:Bv,m:Iv,M:jv,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Ov,Q:$v,s:Vv,S:Rv,u:kv,U:Pv,V:Tv,w:Sv,W:Ev,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:Av,Y:Cv,Z:Mv,"%":Fv};function w(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=mv[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function S(t,e){return function(n){var r,i,o=hv(1900,void 0,1);if(k(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=uv(hv(o.y,0,1))).getUTCDay(),r=i>4||0===i?Gy.ceil(r):Gy(r),r=jy.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=cv(hv(o.y,0,1))).getDay(),r=i>4||0===i?Fy.ceil(r):Fy(r),r=Dy.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?uv(hv(o.y,0,1)).getUTCDay():cv(hv(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,uv(o)):cv(o)}}function k(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in mv?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=w(n,_),_.X=w(r,_),_.c=w(e,_),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),{format:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}}}(t),pv=dv.format,dv.parse,fv=dv.utcFormat,dv.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function J_(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function Q_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function tb(t,e){return t[e]}function eb(t){const e=[];return e.key=t,e}var nb=n(539),rb=n.n(nb),ib=n(6745),ob=n.n(ib),ab=n(3538),sb=n.n(ab),lb=n(9853),cb=n.n(lb),ub=n(8210),hb=n.n(ub);function db(t){return function(t){if(Array.isArray(t))return pb(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pb(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fb=function(t){return t},mb={"@@functional/placeholder":!0},gb=function(t){return t===mb},yb=function(t){return function e(){return 0===arguments.length||1===arguments.length&&gb(arguments.length<=0?void 0:arguments[0])?e:t.apply(void 0,arguments)}},vb=function t(e,n){return 1===e?n:yb((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(t){return t!==mb})).length;return a>=e?n.apply(void 0,i):t(e-a,yb((function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=i.map((function(t){return gb(t)?e.shift():t}));return n.apply(void 0,db(o).concat(e))})))}))},_b=function(t){return vb(t.length,t)},bb=function(t,e){for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},xb=_b((function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map((function(t){return e[t]})).map(t)})),wb=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)return fb;var r=e.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(t,e){return e(t)}),i.apply(void 0,arguments))}},Sb=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},kb=function(t){var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((function(t,n){return t===e[n]}))?n:(e=i,n=t.apply(void 0,i))}};var Pb=_b((function(t,e,n){var r=+t;return r+n*(+e-r)})),Tb=_b((function(t,e,n){var r=e-+t;return(n-t)/(r=r||1/0)})),Eb=_b((function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))}));const Cb={rangeStep:function(t,e,n){for(var r=new(hb())(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(t){return 0===t?1:Math.floor(new(hb())(t).abs().log(10).toNumber())+1},interpolateNumber:Pb,uninterpolateNumber:Tb,uninterpolateTruncation:Eb};function Ab(t){return function(t){if(Array.isArray(t))return Ib(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Ob(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(BC){i=!0,o=BC}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||Ob(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ob(t,e){if(t){if("string"===typeof t)return Ib(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ib(t,e):void 0}}function Ib(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zb(t){var e=Mb(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Lb(t,e,n){if(t.lte(0))return new(hb())(0);var r=Cb.getDigitCount(t.toNumber()),i=new(hb())(10).pow(r),o=t.div(i),a=1!==r?.05:.1,s=new(hb())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return e?s:new(hb())(Math.ceil(s))}function Db(t,e,n){var r=1,i=new(hb())(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new(hb())(10).pow(Cb.getDigitCount(t)-1),i=new(hb())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(hb())(Math.floor(t)))}else 0===t?i=new(hb())(Math.floor((e-1)/2)):n||(i=new(hb())(Math.floor(t)));var a=Math.floor((e-1)/2);return wb(xb((function(t){return i.add(new(hb())(t-a).mul(r)).toNumber()})),bb)(0,e)}function jb(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new(hb())(0),tickMin:new(hb())(0),tickMax:new(hb())(0)};var o,a=Lb(new(hb())(e).sub(t).div(n-1),r,i);o=t<=0&&e>=0?new(hb())(0):(o=new(hb())(t).add(e).div(2)).sub(new(hb())(o).mod(a));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new(hb())(e).sub(o).div(a).toNumber()),c=s+l+1;return c>n?jb(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:a,tickMin:o.sub(new(hb())(s).mul(a)),tickMax:o.add(new(hb())(l).mul(a))})}var Rb=kb((function(t){var e=Mb(t,2),n=e[0],r=e[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=Mb(zb([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(Ab(bb(0,i-1).map((function(){return 1/0})))):[].concat(Ab(bb(0,i-1).map((function(){return-1/0}))),[c]);return n>r?Sb(u):u}if(l===c)return Db(l,i,o);var h=jb(l,c,a,o),d=h.step,p=h.tickMin,f=h.tickMax,m=Cb.rangeStep(p,f.add(new(hb())(.1).mul(d)),d);return n>r?Sb(m):m})),Bb=(kb((function(t){var e=Mb(t,2),n=e[0],r=e[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=Mb(zb([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return Db(l,i,o);var u=Lb(new(hb())(c).sub(l).div(a-1),o,0),h=wb(xb((function(t){return new(hb())(l).add(new(hb())(t).mul(u)).toNumber()})),bb)(0,a).filter((function(t){return t>=l&&t<=c}));return n>r?Sb(h):h})),kb((function(t,e){var n=Mb(t,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Mb(zb([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(e,2),u=Lb(new(hb())(l).sub(s).div(c-1),o,0),h=[].concat(Ab(Cb.rangeStep(new(hb())(s),new(hb())(l).sub(new(hb())(.99).mul(u)),u)),[l]);return r>i?Sb(h):h}))),Nb=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fb(t){return Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fb(t)}function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$b.apply(this,arguments)}function Vb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Ub(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ub(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ub(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zb(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yb(r.key),r)}}function Hb(t,e,n){return e=Gb(e),function(t,e){if(e&&("object"===Fb(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Wb()?Reflect.construct(e,n||[],Gb(t).constructor):e.apply(t,n))}function Wb(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Wb=function(){return!!t})()}function Gb(t){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gb(t)}function Xb(t,e){return Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xb(t,e)}function Kb(t,e,n){return(e=Yb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yb(t){var e=function(t,e){if("object"!=Fb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fb(e)?e:e+""}var Jb=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Hb(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xb(t,e)}(e,t),n=e,i=[{key:"render",value:function(){var t=this.props,e=t.offset,n=t.layout,i=t.width,o=t.dataKey,a=t.data,s=t.dataPointFormatter,l=t.xAxis,c=t.yAxis,u=Zb(t,Nb),h=Zc(u,!1);"x"===this.props.direction&&"number"!==l.type&&au(!1);var d=a.map((function(t){var a=s(t,o),u=a.x,d=a.y,p=a.value,f=a.errorVal;if(!f)return null;var m,g,y=[];if(Array.isArray(f)){var v=Vb(f,2);m=v[0],g=v[1]}else m=g=f;if("vertical"===n){var _=l.scale,b=d+e,x=b+i,w=b-i,S=_(p-m),k=_(p+g);y.push({x1:k,y1:x,x2:k,y2:w}),y.push({x1:S,y1:b,x2:k,y2:b}),y.push({x1:S,y1:x,x2:S,y2:w})}else if("horizontal"===n){var P=c.scale,T=u+e,E=T-i,C=T+i,A=P(p-m),M=P(p+g);y.push({x1:E,y1:M,x2:C,y2:M}),y.push({x1:T,y1:A,x2:T,y2:M}),y.push({x1:E,y1:A,x2:C,y2:A})}return r.createElement(fu,$b({className:"recharts-errorBar",key:"bar-".concat(y.map((function(t){return"".concat(t.x1,"-").concat(t.x2,"-").concat(t.y1,"-").concat(t.y2)})))},h),y.map((function(t){return r.createElement("line",$b({},t,{key:"line-".concat(t.x1,"-").concat(t.x2,"-").concat(t.y1,"-").concat(t.y2)}))})))}));return r.createElement(fu,{className:"recharts-errorBars"},d)}}],i&&qb(n.prototype,i),o&&qb(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function Qb(t){return Qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qb(t)}function tx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ex(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tx(Object(n),!0).forEach((function(e){nx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nx(t,e,n){return e=function(t){var e=function(t,e){if("object"!=Qb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qb(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Kb(Jb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Kb(Jb,"displayName","ErrorBar");var rx=function(t){var e=t.children,n=t.formattedGraphicalItems,r=t.legendWidth,i=t.legendContent,o=Fc(e,gd);if(!o)return null;var a,s=gd.defaultProps,l=void 0!==s?ex(ex({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce((function(t,e){var n=e.item,r=e.props,i=r.sectors||r.data||[];return t.concat(i.map((function(t){return{type:o.props.iconType||n.props.legendType,value:t.name,color:t.fill,payload:t}})))}),[]):(n||[]).map((function(t){var e=t.item,n=e.type.defaultProps,r=void 0!==n?ex(ex({},n),e.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:dx(e),value:o||i,payload:r}})),ex(ex(ex({},l),gd.getWithHeight(o,r)),{},{payload:a,item:o})};function ix(t){return ix="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ix(t)}function ox(t){return function(t){if(Array.isArray(t))return ax(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return ax(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ax(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ax(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sx(Object(n),!0).forEach((function(e){cx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cx(t,e,n){return e=function(t){var e=function(t,e){if("object"!=ix(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ix(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ix(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ux(t,e,n){return yc()(t)||yc()(e)?n:lc(e)?nc()(t,e,n):_c()(e)?e(t):n}function hx(t,e,n,r){var i=sb()(t,(function(t){return ux(t,e)}));if("number"===n){var o=i.filter((function(t){return sc(t)||parseFloat(t)}));return o.length?[ob()(o),rb()(o)]:[1/0,-1/0]}return(r?i.filter((function(t){return!yc()(t)})):i).map((function(t){return lc(t)||t instanceof Date?t:""}))}var dx=function(t){var e,n,r=t.type.displayName,i=null!==(e=t.type)&&void 0!==e&&e.defaultProps?lx(lx({},t.type.defaultProps),t.props):t.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},px=function(t,e,n,r,i){var o=Nc(e.props.children,Jb).filter((function(t){return function(t,e,n){return!!yc()(e)||("horizontal"===t?"yAxis"===e:"vertical"===t||"x"===n?"xAxis"===e:"y"!==n||"yAxis"===e)}(r,i,t.props.direction)}));if(o&&o.length){var a=o.map((function(t){return t.props.dataKey}));return t.reduce((function(t,e){var r=ux(e,n);if(yc()(r))return t;var i=Array.isArray(r)?[ob()(r),rb()(r)]:[r,r],o=a.reduce((function(t,n){var r=ux(e,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,t[0]),Math.max(a,t[1])]}),[1/0,-1/0]);return[Math.min(o[0],t[0]),Math.max(o[1],t[1])]}),[1/0,-1/0])}return null},fx=function(t,e,n,r,i){var o=e.map((function(e){var o=e.props.dataKey;return"number"===n&&o&&px(t,e,o,r)||hx(t,o,n,i)}));if("number"===n)return o.reduce((function(t,e){return[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(t,e){for(var n=0,r=e.length;n<r;n++)a[e[n]]||(a[e[n]]=!0,t.push(e[n]));return t}),[])},mx=function(t,e){return"horizontal"===t&&"xAxis"===e||"vertical"===t&&"yAxis"===e||"centric"===t&&"angleAxis"===e||"radial"===t&&"radiusAxis"===e},gx=function(t,e,n,r){if(r)return t.map((function(t){return t.coordinate}));var i,o,a=t.map((function(t){return t.coordinate===e&&(i=!0),t.coordinate===n&&(o=!0),t.coordinate}));return i||a.push(e),o||a.push(n),a},yx=function(t,e,n){if(!t)return null;var r=t.scale,i=t.duplicateDomain,o=t.type,a=t.range,s="scaleBand"===t.realScaleType?r.bandwidth()/2:2,l=(e||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===t.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*oc(a[0]-a[1])*l:l,e&&(t.ticks||t.niceTicks)?(t.ticks||t.niceTicks).map((function(t){var e=i?i.indexOf(t):t;return{coordinate:r(e)+l,value:t,offset:l}})).filter((function(t){return!tc()(t.coordinate)})):t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map((function(t,e){return{coordinate:r(t)+l,value:t,index:e,offset:l}})):r.ticks&&!n?r.ticks(t.tickCount).map((function(t){return{coordinate:r(t)+l,value:t,offset:l}})):r.domain().map((function(t,e){return{coordinate:r(t)+l,value:i?i[t]:t,index:e,offset:l}}))},vx=new WeakMap,_x=function(t,e){if("function"!==typeof e)return t;vx.has(t)||vx.set(t,new WeakMap);var n=vx.get(t);if(n.has(e))return n.get(e);var r=function(){t.apply(void 0,arguments),e.apply(void 0,arguments)};return n.set(e,r),r},bx=1e-4,xx={sign:function(t){var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,a=0;a<e;++a){var s=tc()(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+s,o=t[a][n][1])}},expand:function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}Y_(t,e)}},none:Y_,silhouette:function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Y_(t,e)}},wiggle:function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=t[e[s]],h=u[a][1]||0,d=(h-(u[a-1][1]||0))/2,p=0;p<s;++p){var f=t[e[p]];d+=(f[a][1]||0)-(f[a-1][1]||0)}l+=h,c+=d*h}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,Y_(t,e)}},positive:function(t){var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var a=tc()(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}}},wx=function(t,e,n){var r=e.map((function(t){return t.props.dataKey})),i=xx[n],o=function(){var t=Eh([]),e=Q_,n=Y_,r=tb;function i(i){var o,a,s=Array.from(t.apply(this,arguments),eb),l=s.length,c=-1;for(const t of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(t,s[o].key,c,i)]).data=t;for(o=0,a=J_(e(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(e){return arguments.length?(t="function"===typeof e?e:Eh(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"===typeof t?t:Eh(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?Q_:"function"===typeof t?t:Eh(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?Y_:t,i):n},i}().keys(r).value((function(t,e){return+ux(t,e,0)})).order(Q_).offset(i);return o(t)};var Sx=function(t){var e=t.axis,n=t.ticks,r=t.offset,i=t.bandSize,o=t.entry,a=t.index;if("category"===e.type)return n[a]?n[a].coordinate+r:null;var s=ux(o,e.dataKey,e.domain[a]);return yc()(s)?null:e.scale(s)-i/2+r},kx=function(t,e,n){return Object.keys(t).reduce((function(r,i){var o=t[i].stackedData.reduce((function(t,r){var i=function(t){return t.reduce((function(t,e){return[ob()(e.concat([t[0]]).filter(sc)),rb()(e.concat([t[1]]).filter(sc))]}),[1/0,-1/0])}(r.slice(e,n+1));return[Math.min(t[0],i[0]),Math.max(t[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(t){return t===1/0||t===-1/0?0:t}))},Px=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ex=function(t,e,n){if(_c()(t))return t(e,n);if(!Array.isArray(t))return e;var r=[];if(sc(t[0]))r[0]=n?t[0]:Math.min(t[0],e[0]);else if(Px.test(t[0])){var i=+Px.exec(t[0])[1];r[0]=e[0]-i}else _c()(t[0])?r[0]=t[0](e[0]):r[0]=e[0];if(sc(t[1]))r[1]=n?t[1]:Math.max(t[1],e[1]);else if(Tx.test(t[1])){var o=+Tx.exec(t[1])[1];r[1]=e[1]+o}else _c()(t[1])?r[1]=t[1](e[1]):r[1]=e[1];return r},Cx=function(t,e,n){if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=iu()(e,(function(t){return t.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Ax=function(t,e,n){return t&&t.length?cb()(t,nc()(n,"type.defaultProps.domain"))?e:t:e},Mx=function(t,e){var n=t.type.defaultProps?lx(lx({},t.type.defaultProps),t.props):t.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return lx(lx({},Zc(t,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:dx(t),value:ux(e,r),type:s,payload:e,chartType:l,hide:c})};function Ox(t){return Ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ox(t)}function Ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ix(Object(n),!0).forEach((function(e){Lx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lx(t,e,n){return e=function(t){var e=function(t,e){if("object"!=Ox(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ox(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ox(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dx=["Webkit","Moz","O","ms"];function jx(t){return jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(t)}function Rx(){return Rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rx.apply(this,arguments)}function Bx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bx(Object(n),!0).forEach((function(e){qx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hx(r.key),r)}}function $x(t,e,n){return e=Ux(e),function(t,e){if(e&&("object"===jx(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Vx()?Reflect.construct(e,n||[],Ux(t).constructor):e.apply(t,n))}function Vx(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vx=function(){return!!t})()}function Ux(t){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ux(t)}function Zx(t,e){return Zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zx(t,e)}function qx(t,e,n){return(e=Hx(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hx(t){var e=function(t,e){if("object"!=jx(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jx(e)?e:e+""}var Wx=function(t){return t.changedTouches&&!!t.changedTouches.length},Gx=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),qx(n=$x(this,e,[t]),"handleDrag",(function(t){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(t):n.state.isSlideMoving&&n.handleSlideDrag(t)})),qx(n,"handleTouchMove",(function(t){null!=t.changedTouches&&t.changedTouches.length>0&&n.handleDrag(t.changedTouches[0])})),qx(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var t=n.props,e=t.endIndex,r=t.onDragEnd,i=t.startIndex;null===r||void 0===r||r({endIndex:e,startIndex:i})})),n.detachDragEndListener()})),qx(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),qx(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),qx(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),qx(n,"handleSlideDragStart",(function(t){var e=Wx(t)?t.changedTouches[0]:t;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:e.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zx(t,e)}(e,t),n=e,i=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=e.getIndexInRange(i,l),h=e.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:h===s?s:h-h%a}}},{key:"getTextOfTick",value:function(t){var e=this.props,n=e.data,r=e.tickFormatter,i=e.dataKey,o=ux(n[t],i,t);return _c()(r)?r(o,t):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(t){var e=this.state,n=e.slideMoveStartX,r=e.startX,i=e.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,h=o.onChange,d=t.pageX-n;d>0?d=Math.min(d,a+s-l-i,a+s-l-r):d<0&&(d=Math.max(d,a-r,a-i));var p=this.getIndex({startX:r+d,endX:i+d});p.startIndex===c&&p.endIndex===u||!h||h(p),this.setState({startX:r+d,endX:i+d,slideMoveStartX:t.pageX})}},{key:"handleTravellerDragStart",value:function(t,e){var n=Wx(e)?e.changedTouches[0]:e;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:t,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(t){var e=this.state,n=e.brushMoveStartX,r=e.movingTravellerId,i=e.endX,o=e.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,h=s.onChange,d=s.gap,p=s.data,f={startX:this.state.startX,endX:this.state.endX},m=t.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),f[r]=a+m;var g=this.getIndex(f),y=g.startIndex,v=g.endIndex;this.setState(qx(qx({},r,a+m),"brushMoveStartX",t.pageX),(function(){h&&function(){var t=p.length-1;return"startX"===r&&(i>o?y%d===0:v%d===0)||i<o&&v===t||"endX"===r&&(i>o?v%d===0:y%d===0)||i>o&&v===t}()&&h(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(t,e){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[e],l=i.indexOf(s);if(-1!==l){var c=l+t;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===e&&u>=a||"endX"===e&&u<=o||this.setState(qx({},e,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var t=this.props,e=t.x,n=t.y,i=t.width,o=t.height,a=t.fill,s=t.stroke;return r.createElement("rect",{stroke:s,fill:a,x:e,y:n,width:i,height:o})}},{key:"renderPanorama",value:function(){var t=this.props,e=t.x,n=t.y,i=t.width,o=t.height,a=t.data,s=t.children,l=t.padding,c=r.Children.only(s);return c?r.cloneElement(c,{x:e,y:n,width:i,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(t,n){var i,o,a=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,h=s.traveller,d=s.ariaLabel,p=s.data,f=s.startIndex,m=s.endIndex,g=Math.max(t,this.props.x),y=Nx(Nx({},Zc(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=d||"Min value: ".concat(null===(i=p[f])||void 0===i?void 0:i.name,", Max value: ").concat(null===(o=p[m])||void 0===o?void 0:o.name);return r.createElement(fu,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(t){["ArrowLeft","ArrowRight"].includes(t.key)&&(t.preventDefault(),t.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===t.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(t,e){var n=this.props,i=n.y,o=n.height,a=n.stroke,s=n.travellerWidth,l=Math.min(t,e)+s,c=Math.max(Math.abs(e-t)-s,0);return r.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:i,width:c,height:o})}},{key:"renderText",value:function(){var t=this.props,e=t.startIndex,n=t.endIndex,i=t.y,o=t.height,a=t.travellerWidth,s=t.stroke,l=this.state,c=l.startX,u=l.endX,h={pointerEvents:"none",fill:s};return r.createElement(fu,{className:"recharts-brush-texts"},r.createElement(tm,Rx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:i+o/2},h),this.getTextOfTick(e)),r.createElement(tm,Rx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+a+5,y:i+o/2},h),this.getTextOfTick(n)))}},{key:"render",value:function(){var t=this.props,e=t.data,n=t.className,i=t.children,o=t.x,a=t.y,s=t.width,l=t.height,c=t.alwaysShowText,u=this.state,h=u.startX,d=u.endX,p=u.isTextActive,f=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!e||!e.length||!sc(o)||!sc(a)||!sc(s)||!sc(l)||s<=0||l<=0)return null;var y=rr("recharts-brush",n),v=1===r.Children.count(i),_=function(t,e){if(!t)return null;var n=t.replace(/(\w)/,(function(t){return t.toUpperCase()})),r=Dx.reduce((function(t,r){return zx(zx({},t),{},Lx({},r+n,e))}),{});return r[t]=e,r}("userSelect","none");return r.createElement(fu,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(h,d),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(d,"endX"),(p||f||m||g||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(t){var e=t.x,n=t.y,i=t.width,o=t.height,a=t.stroke,s=Math.floor(n+o/2)-1;return r.createElement(r.Fragment,null,r.createElement("rect",{x:e,y:n,width:i,height:o,fill:a,stroke:"none"}),r.createElement("line",{x1:e+1,y1:s,x2:e+i-1,y2:s,fill:"none",stroke:"#fff"}),r.createElement("line",{x1:e+1,y1:s+2,x2:e+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return r.isValidElement(t)?r.cloneElement(t,n):_c()(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(t,e){var n=t.data,r=t.width,i=t.x,o=t.travellerWidth,a=t.updateId,s=t.startIndex,l=t.endIndex;if(n!==e.prevData||a!==e.prevUpdateId)return Nx({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(t){var e=t.data,n=t.startIndex,r=t.endIndex,i=t.x,o=t.width,a=t.travellerWidth;if(!e||!e.length)return{};var s=e.length,l=yf().domain(nu()(0,s)).range([i,i+o-a]),c=l.domain().map((function(t){return l(t)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(e.scale&&(r!==e.prevWidth||i!==e.prevX||o!==e.prevTravellerWidth)){e.scale.range([i,i+r-o]);var c=e.scale.domain().map((function(t){return e.scale(t)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:e.scale(t.startIndex),endX:e.scale(t.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(t,e){for(var n=0,r=t.length-1;r-n>1;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i}return e>=t[r]?r:n}}],i&&Fx(n.prototype,i),o&&Fx(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function Xx(t){return Xx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xx(t)}function Kx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kx(Object(n),!0).forEach((function(e){Jx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jx(t,e,n){return e=function(t){var e=function(t,e){if("object"!=Xx(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xx(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}qx(Gx,"displayName","Brush"),qx(Gx,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Qx=Math.PI/180,tw=function(t){return 180*t/Math.PI},ew=function(t,e,n,r){return{x:t+Math.cos(-Qx*r)*n,y:e+Math.sin(-Qx*r)*n}},nw=function(t,e){var n=t.x,r=t.y,i=e.cx,o=e.cy,a=function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:tw(l),angleInRadian:l}},rw=function(t,e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return t+360*Math.min(i,o)},iw=function(t,e){var n=t.x,r=t.y,i=nw({x:n,y:r},e),o=i.radius,a=i.angle,s=e.innerRadius,l=e.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(t){var e=t.startAngle,n=t.endAngle,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-360*o,endAngle:n-360*o}}(e),h=u.startAngle,d=u.endAngle,p=a;if(h<=d){for(;p>d;)p-=360;for(;p<h;)p+=360;c=p>=h&&p<=d}else{for(;p>h;)p-=360;for(;p<d;)p+=360;c=p>=d&&p<=h}return c?Yx(Yx({},e),{},{radius:o,angle:rw(p,e)}):null};function ow(t){return ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ow(t)}var aw=["offset"];function sw(t){return function(t){if(Array.isArray(t))return lw(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lw(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cw(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uw(Object(n),!0).forEach((function(e){dw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dw(t,e,n){return e=function(t){var e=function(t,e){if("object"!=ow(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ow(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ow(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(this,arguments)}var fw=function(t,e,n){var i,o,a=t.position,s=t.viewBox,l=t.offset,c=t.className,u=s,h=u.cx,d=u.cy,p=u.innerRadius,f=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(p+f)/2,_=function(t,e){return oc(e-t)*Math.min(Math.abs(e-t),360)}(m,g),b=_>=0?1:-1;"insideStart"===a?(i=m+b*l,o=y):"insideEnd"===a?(i=g-b*l,o=!y):"end"===a&&(i=g+b*l,o=y),o=_<=0?o:!o;var x=ew(h,d,v,i),w=ew(h,d,v,i+359*(o?1:-1)),S="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),k=yc()(t.id)?uc("recharts-radial-line-"):t.id;return r.createElement("text",pw({},n,{dominantBaseline:"central",className:rr("recharts-radial-bar-label",c)}),r.createElement("defs",null,r.createElement("path",{id:k,d:S})),r.createElement("textPath",{xlinkHref:"#".concat(k)},e))};function mw(t){var e,n=t.offset,i=hw({offset:void 0===n?5:n},cw(t,aw)),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,h=void 0===u?"":u,d=i.textBreakAll;if(!o||yc()(s)&&yc()(l)&&!(0,r.isValidElement)(c)&&!_c()(c))return null;if((0,r.isValidElement)(c))return(0,r.cloneElement)(c,i);if(_c()(c)){if(e=(0,r.createElement)(c,i),(0,r.isValidElement)(e))return e}else e=function(t){var e=t.value,n=t.formatter,r=yc()(t.children)?e:t.children;return _c()(n)?n(r):r}(i);var p=function(t){return"cx"in t&&sc(t.cx)}(o),f=Zc(i,!0);if(p&&("insideStart"===a||"insideEnd"===a||"end"===a))return fw(i,e,f);var m=p?function(t){var e=t.viewBox,n=t.offset,r=t.position,i=e,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=ew(o,a,l+n,c),h=u.x;return{x:h,y:u.y,textAnchor:h>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var d=ew(o,a,(s+l)/2,c);return{x:d.x,y:d.y,textAnchor:"middle",verticalAnchor:"middle"}}(i):function(t){var e=t.viewBox,n=t.parentViewBox,r=t.offset,i=t.position,o=e,a=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,h=u*r,d=u>0?"end":"start",p=u>0?"start":"end",f=l>=0?1:-1,m=f*r,g=f>0?"end":"start",y=f>0?"start":"end";if("top"===i)return hw(hw({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return hw(hw({},{x:a+l/2,y:s+c+h,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var v={x:a-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return hw(hw({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var _={x:a+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return hw(hw({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===i?hw({x:a+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===i?hw({x:a+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===i?hw({x:a+l/2,y:s+h,textAnchor:"middle",verticalAnchor:p},b):"insideBottom"===i?hw({x:a+l/2,y:s+c-h,textAnchor:"middle",verticalAnchor:d},b):"insideTopLeft"===i?hw({x:a+m,y:s+h,textAnchor:y,verticalAnchor:p},b):"insideTopRight"===i?hw({x:a+l-m,y:s+h,textAnchor:g,verticalAnchor:p},b):"insideBottomLeft"===i?hw({x:a+m,y:s+c-h,textAnchor:y,verticalAnchor:d},b):"insideBottomRight"===i?hw({x:a+l-m,y:s+c-h,textAnchor:g,verticalAnchor:d},b):xc()(i)&&(sc(i.x)||ac(i.x))&&(sc(i.y)||ac(i.y))?hw({x:a+hc(i.x,l),y:s+hc(i.y,c),textAnchor:"end",verticalAnchor:"end"},b):hw({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(i);return r.createElement(tm,pw({className:rr("recharts-label",h)},f,m,{breakAll:d}),e)}mw.displayName="Label";var gw=function(t){var e=t.cx,n=t.cy,r=t.angle,i=t.startAngle,o=t.endAngle,a=t.r,s=t.radius,l=t.innerRadius,c=t.outerRadius,u=t.x,h=t.y,d=t.top,p=t.left,f=t.width,m=t.height,g=t.clockWise,y=t.labelViewBox;if(y)return y;if(sc(f)&&sc(m)){if(sc(u)&&sc(h))return{x:u,y:h,width:f,height:m};if(sc(d)&&sc(p))return{x:d,y:p,width:f,height:m}}return sc(u)&&sc(h)?{x:u,y:h,width:0,height:0}:sc(e)&&sc(n)?{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:g}:t.viewBox?t.viewBox:{}};mw.parseViewBox=gw,mw.renderCallByParent=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=gw(t),a=Nc(i,mw).map((function(t,n){return(0,r.cloneElement)(t,{viewBox:e||o,key:"label-".concat(n)})}));if(!n)return a;var s=function(t,e){return t?!0===t?r.createElement(mw,{key:"label-implicit",viewBox:e}):lc(t)?r.createElement(mw,{key:"label-implicit",viewBox:e,value:t}):(0,r.isValidElement)(t)?t.type===mw?(0,r.cloneElement)(t,{key:"label-implicit",viewBox:e}):r.createElement(mw,{key:"label-implicit",content:t,viewBox:e}):_c()(t)?r.createElement(mw,{key:"label-implicit",content:t,viewBox:e}):xc()(t)?r.createElement(mw,pw({viewBox:e},t,{key:"label-implicit"})):null:null}(t.label,e||o);return[s].concat(sw(a))};var yw=function(t,e){var n=t.alwaysShow,r=t.ifOverflow;return n&&(r="extendDomain"),r===e},vw=n(1733),_w=n.n(vw),bw=n(7002),xw=n.n(bw),ww=function(t){return null};ww.displayName="Cell";var Sw=n(4065),kw=n.n(Sw);function Pw(t){return Pw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pw(t)}var Tw=["valueAccessor"],Ew=["data","dataKey","clockWise","id","textBreakAll"];function Cw(t){return function(t){if(Array.isArray(t))return Aw(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aw(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(this,arguments)}function Ow(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Iw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ow(Object(n),!0).forEach((function(e){zw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ow(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zw(t,e,n){return e=function(t){var e=function(t,e){if("object"!=Pw(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Pw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pw(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lw(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Dw=function(t){return Array.isArray(t.value)?kw()(t.value):t.value};function jw(t){var e=t.valueAccessor,n=void 0===e?Dw:e,i=Lw(t,Tw),o=i.data,a=i.dataKey,s=i.clockWise,l=i.id,c=i.textBreakAll,u=Lw(i,Ew);return o&&o.length?r.createElement(fu,{className:"recharts-label-list"},o.map((function(t,e){var i=yc()(a)?n(t,e):ux(t&&t.payload,a),o=yc()(l)?{}:{id:"".concat(l,"-").concat(e)};return r.createElement(mw,Mw({},Zc(t,!0),u,o,{parentViewBox:t.parentViewBox,value:i,textBreakAll:c,viewBox:mw.parseViewBox(yc()(s)?t:Iw(Iw({},t),{},{clockWise:s})),key:"label-".concat(e),index:e}))}))):null}jw.displayName="LabelList",jw.renderCallByParent=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!t.children&&n&&!t.label)return null;var i=Nc(t.children,jw).map((function(t,n){return(0,r.cloneElement)(t,{data:e,key:"labelList-".concat(n)})}));if(!n)return i;var o=function(t,e){return t?!0===t?r.createElement(jw,{key:"labelList-implicit",data:e}):r.isValidElement(t)||_c()(t)?r.createElement(jw,{key:"labelList-implicit",data:e,content:t}):xc()(t)?r.createElement(jw,Mw({data:e},t,{key:"labelList-implicit"})):null:null}(t.label,e);return[o].concat(Cw(i))};var Rw=n(2322),Bw=n.n(Rw),Nw=n(6361),Fw=n.n(Nw);function $w(t){return $w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$w(t)}function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(this,arguments)}function Uw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zw(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qw(Object(n),!0).forEach((function(e){Ww(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ww(t,e,n){return e=function(t){var e=function(t,e){if("object"!=$w(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$w(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gw=function(t,e,n,r,i){var o,a=n-r;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z")},Xw={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kw=function(t){var e=Hw(Hw({},Xw),t),n=(0,r.useRef)(),i=Uw((0,r.useState)(-1),2),o=i[0],a=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var t=n.current.getTotalLength();t&&a(t)}catch(BC){}}),[]);var s=e.x,l=e.y,c=e.upperWidth,u=e.lowerWidth,h=e.height,d=e.className,p=e.animationEasing,f=e.animationDuration,m=e.animationBegin,g=e.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||h!==+h||0===c&&0===u||0===h)return null;var y=rr("recharts-trapezoid",d);return g?r.createElement(Wp,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:h,x:s,y:l},duration:f,animationEasing:p,isActive:g},(function(t){var i=t.upperWidth,a=t.lowerWidth,s=t.height,l=t.x,c=t.y;return r.createElement(Wp,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:f,easing:p},r.createElement("path",Vw({},Zc(e,!0),{className:y,d:Gw(l,c,i,a,s),ref:n})))})):r.createElement("g",null,r.createElement("path",Vw({},Zc(e,!0),{className:y,d:Gw(s,l,c,u,h)})))};function Yw(t){return Yw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yw(t)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(this,arguments)}function Qw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qw(Object(n),!0).forEach((function(e){eS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eS(t,e,n){return e=function(t){var e=function(t,e){if("object"!=Yw(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Yw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yw(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nS=function(t){var e=t.cx,n=t.cy,r=t.radius,i=t.angle,o=t.sign,a=t.isExternal,s=t.cornerRadius,l=t.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/Qx,h=l?i:i+o*u,d=l?i-o*u:i;return{center:ew(e,n,c,h),circleTangency:ew(e,n,r,h),lineTangency:ew(e,n,c*Math.cos(u*Qx),d),theta:u}},rS=function(t){var e=t.cx,n=t.cy,r=t.innerRadius,i=t.outerRadius,o=t.startAngle,a=function(t,e){return oc(e-t)*Math.min(Math.abs(e-t),359.999)}(o,t.endAngle),s=o+a,l=ew(e,n,i,o),c=ew(e,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var h=ew(e,n,r,o),d=ew(e,n,r,s);u+="L ".concat(d.x,",").concat(d.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(h.x,",").concat(h.y," Z")}else u+="L ".concat(e,",").concat(n," Z");return u},iS={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},oS=function(t){var e=tS(tS({},iS),t),n=e.cx,i=e.cy,o=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,h=e.endAngle,d=e.className;if(a<o||u===h)return null;var p,f=rr("recharts-sector",d),m=a-o,g=hc(s,m,0,!0);return p=g>0&&Math.abs(u-h)<360?function(t){var e=t.cx,n=t.cy,r=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,a=t.forceCornerRadius,s=t.cornerIsExternal,l=t.startAngle,c=t.endAngle,u=oc(c-l),h=nS({cx:e,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),d=h.circleTangency,p=h.lineTangency,f=h.theta,m=nS({cx:e,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,_=s?Math.abs(l-c):Math.abs(l-c)-f-v;if(_<0)return a?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):rS({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b="M ".concat(p.x,",").concat(p.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var x=nS({cx:e,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),w=x.circleTangency,S=x.lineTangency,k=x.theta,P=nS({cx:e,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),T=P.circleTangency,E=P.lineTangency,C=P.theta,A=s?Math.abs(l-c):Math.abs(l-c)-k-C;if(A<0&&0===o)return"".concat(b,"L").concat(e,",").concat(n,"Z");b+="L".concat(E.x,",").concat(E.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(T.x,",").concat(T.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(e,",").concat(n,"Z");return b}({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h}):rS({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:h}),r.createElement("path",Jw({},Zc(e,!0),{className:f,d:p,role:"img"}))},aS=["option","shapeType","propTransformer","activeClassName","isActive"];function sS(t){return sS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sS(t)}function lS(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cS(Object(n),!0).forEach((function(e){hS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hS(t,e,n){return e=function(t){var e=function(t,e){if("object"!=sS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sS(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dS(t,e){return uS(uS({},e),t)}function pS(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return r.createElement(of,n);case"trapezoid":return r.createElement(Kw,n);case"sector":return r.createElement(oS,n);case"symbols":if(function(t){return"symbols"===t}(e))return r.createElement(Zh,n);break;default:return null}}function fS(t){var e,n=t.option,i=t.shapeType,o=t.propTransformer,a=void 0===o?dS:o,s=t.activeClassName,l=void 0===s?"recharts-active-shape":s,c=t.isActive,u=lS(t,aS);if((0,r.isValidElement)(n))e=(0,r.cloneElement)(n,uS(uS({},u),function(t){return(0,r.isValidElement)(t)?t.props:t}(n)));else if(_c()(n))e=n(u);else if(Bw()(n)&&!Fw()(n)){var h=a(n,u);e=r.createElement(pS,{shapeType:i,elementProps:h})}else{var d=u;e=r.createElement(pS,{shapeType:i,elementProps:d})}return c?r.createElement(fu,{className:l},e):e}function mS(t,e){return null!=e&&"trapezoids"in t.props}function gS(t,e){return null!=e&&"sectors"in t.props}function yS(t,e){return null!=e&&"points"in t.props}function vS(t,e){var n,r,i=t.x===(null===e||void 0===e||null===(n=e.labelViewBox)||void 0===n?void 0:n.x)||t.x===e.x,o=t.y===(null===e||void 0===e||null===(r=e.labelViewBox)||void 0===r?void 0:r.y)||t.y===e.y;return i&&o}function _S(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function bS(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function xS(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=function(t,e){var n;return mS(t,e)?n="trapezoids":gS(t,e)?n="sectors":yS(t,e)&&(n="points"),n}(n,e),o=function(t,e){var n,r;return mS(t,e)?null===(n=e.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:gS(t,e)?null===(r=e.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:yS(t,e)?e.payload:{}}(n,e),a=r.filter((function(t,r){var a=cb()(o,t),s=n.props[i].filter((function(t){var r=function(t,e){var n;return mS(t,e)?n=vS:gS(t,e)?n=_S:yS(t,e)&&(n=bS),n}(n,e);return r(t,e)})),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l}));return r.indexOf(a[a.length-1])}var wS=["x","y"];function SS(t){return SS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SS(t)}function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(this,arguments)}function PS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function TS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?PS(Object(n),!0).forEach((function(e){ES(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ES(t,e,n){return e=function(t){var e=function(t,e){if("object"!=SS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=SS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==SS(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CS(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function AS(t,e){var n=t.x,r=t.y,i=CS(t,wS),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),h="".concat(e.width||i.width),d=parseInt(h,10);return TS(TS(TS(TS(TS({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function MS(t){return r.createElement(fS,kS({shapeType:"rectangle",propTransformer:AS,activeClassName:"recharts-active-bar"},t))}var OS,IS=["value","background"];function zS(t){return zS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zS(t)}function LS(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DS(){return DS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DS.apply(this,arguments)}function jS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function RS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jS(Object(n),!0).forEach((function(e){US(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function BS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZS(r.key),r)}}function NS(t,e,n){return e=$S(e),function(t,e){if(e&&("object"===zS(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,FS()?Reflect.construct(e,n||[],$S(t).constructor):e.apply(t,n))}function FS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(FS=function(){return!!t})()}function $S(t){return $S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$S(t)}function VS(t,e){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},VS(t,e)}function US(t,e,n){return(e=ZS(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZS(t){var e=function(t,e){if("object"!=zS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zS(e)?e:e+""}var qS=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return US(t=NS(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),US(t,"id",uc("recharts-bar-")),US(t,"handleAnimationEnd",(function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()})),US(t,"handleAnimationStart",(function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()})),t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VS(t,e)}(e,t),n=e,i=[{key:"renderRectanglesStatically",value:function(t){var e=this,n=this.props,i=n.shape,o=n.dataKey,a=n.activeIndex,s=n.activeBar,l=Zc(this.props,!1);return t&&t.map((function(t,n){var c=n===a,u=c?s:i,h=RS(RS(RS({},l),t),{},{isActive:c,option:u,index:n,dataKey:o,onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd});return r.createElement(fu,DS({className:"recharts-bar-rectangle"},Mc(e.props,t,n),{key:"rectangle-".concat(null===t||void 0===t?void 0:t.x,"-").concat(null===t||void 0===t?void 0:t.y,"-").concat(null===t||void 0===t?void 0:t.value)}),r.createElement(MS,h))}))}},{key:"renderRectanglesWithAnimation",value:function(){var t=this,e=this.props,n=e.data,i=e.layout,o=e.isAnimationActive,a=e.animationBegin,s=e.animationDuration,l=e.animationEasing,c=e.animationId,u=this.state.prevData;return r.createElement(Wp,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(e){var o=e.t,a=n.map((function(t,e){var n=u&&u[e];if(n){var r=pc(n.x,t.x),a=pc(n.y,t.y),s=pc(n.width,t.width),l=pc(n.height,t.height);return RS(RS({},t),{},{x:r(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===i){var c=pc(0,t.height)(o);return RS(RS({},t),{},{y:t.y+t.height-c,height:c})}var h=pc(0,t.width)(o);return RS(RS({},t),{},{width:h})}));return r.createElement(fu,null,t.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var t=this.props,e=t.data,n=t.isAnimationActive,r=this.state.prevData;return!(n&&e&&e.length)||r&&cb()(r,e)?this.renderRectanglesStatically(e):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var t=this,e=this.props,n=e.data,i=e.dataKey,o=e.activeIndex,a=Zc(this.props.background,!1);return n.map((function(e,n){e.value;var s=e.background,l=LS(e,IS);if(!s)return null;var c=RS(RS(RS(RS(RS({},l),{},{fill:"#eee"},s),a),Mc(t.props,e,n)),{},{onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd,dataKey:i,index:n,className:"recharts-bar-background-rectangle"});return r.createElement(MS,DS({key:"background-bar-".concat(n),option:t.props.background,isActive:n===o},c))}))}},{key:"renderErrorBar",value:function(t,e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.data,o=n.xAxis,a=n.yAxis,s=n.layout,l=Nc(n.children,Jb);if(!l)return null;var c="vertical"===s?i[0].height/2:i[0].width/2,u=function(t,e){var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:ux(t,e)}},h={clipPath:t?"url(#clipPath-".concat(e,")"):null};return r.createElement(fu,h,l.map((function(t){return r.cloneElement(t,{key:"error-bar-".concat(e,"-").concat(t.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,offset:c,dataPointFormatter:u})})))}},{key:"render",value:function(){var t=this.props,e=t.hide,n=t.data,i=t.className,o=t.xAxis,a=t.yAxis,s=t.left,l=t.top,c=t.width,u=t.height,h=t.isAnimationActive,d=t.background,p=t.id;if(e||!n||!n.length)return null;var f=this.state.isAnimationFinished,m=rr("recharts-bar",i),g=o&&o.allowDataOverflow,y=a&&a.allowDataOverflow,v=g||y,_=yc()(p)?this.id:p;return r.createElement(fu,{className:m},g||y?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(_)},r.createElement("rect",{x:g?s:s-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,r.createElement(fu,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(_,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,_),(!h||f)&&jw.renderCallByParent(this.props,n))}}],o=[{key:"getDerivedStateFromProps",value:function(t,e){return t.animationId!==e.prevAnimationId?{prevAnimationId:t.animationId,curData:t.data,prevData:e.curData}:t.data!==e.curData?{curData:t.data}:null}}],i&&BS(n.prototype,i),o&&BS(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.PureComponent);function HS(t){return HS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HS(t)}function WS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YS(r.key),r)}}function GS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function XS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?GS(Object(n),!0).forEach((function(e){KS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function KS(t,e,n){return(e=YS(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YS(t){var e=function(t,e){if("object"!=HS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=HS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==HS(e)?e:e+""}OS=qS,US(qS,"displayName","Bar"),US(qS,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!$u.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),US(qS,"getComposedData",(function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,h=t.displayedData,d=t.offset,p=function(t,e){if(!t)return null;for(var n=0,r=t.length;n<r;n++)if(t[n].item===e)return t[n].position;return null}(r,n);if(!p)return null;var f=e.layout,m=n.type.defaultProps,g=void 0!==m?RS(RS({},m),n.props):n.props,y=g.dataKey,v=g.children,_=g.minPointSize,b="horizontal"===f?a:o,x=c?b.scale.domain():null,w=function(t){var e=t.numericAxis,n=e.scale.domain();if("number"===e.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:b}),S=Nc(v,ww),k=h.map((function(t,e){var r,h,d,m,g,v;c?r=function(t,e){if(!e||2!==e.length||!sc(e[0])||!sc(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!sc(t[0])||t[0]<n)&&(i[0]=n),(!sc(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+e],x):(r=ux(t,y),Array.isArray(r)||(r=[w,r]));var b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof t)return t;var i="number"===typeof n;return i?t(n,r):(i||au(!1),e)}}(_,OS.defaultProps.minPointSize)(r[1],e);if("horizontal"===f){var k,P=[a.scale(r[0]),a.scale(r[1])],T=P[0],E=P[1];h=Sx({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:t,index:e}),d=null!==(k=null!==E&&void 0!==E?E:T)&&void 0!==k?k:void 0,m=p.size;var C=T-E;if(g=Number.isNaN(C)?0:C,v={x:h,y:a.y,width:m,height:a.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var A=oc(g||b)*(Math.abs(b)-Math.abs(g));d-=A,g+=A}}else{var M=[o.scale(r[0]),o.scale(r[1])],O=M[0],I=M[1];if(h=O,d=Sx({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:t,index:e}),m=I-O,g=p.size,v={x:o.x,y:d,width:o.width,height:g},Math.abs(b)>0&&Math.abs(m)<Math.abs(b))m+=oc(m||b)*(Math.abs(b)-Math.abs(m))}return RS(RS(RS({},t),{},{x:h,y:d,width:m,height:g,value:c?r:r[1],payload:t,background:v},S&&S[e]&&S[e].props),{},{tooltipPayload:[Mx(n,t)],tooltipPosition:{x:h+m/2,y:d+g/2}})}));return RS({data:k,layout:f},d)}));var JS=function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},QS=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scale=e}return e=t,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.bandAware,r=e.position;if(void 0!==t){if(r)switch(r){case"start":default:return this.scale(t);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}},{key:"isInRange",value:function(t){var e=this.range(),n=e[0],r=e[e.length-1];return n<=r?t>=n&&t<=r:t>=r&&t<=n}}],r=[{key:"create",value:function(e){return new t(e)}}],n&&WS(e.prototype,n),r&&WS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();KS(QS,"EPS",1e-4);var tk=function(t){var e=Object.keys(t).reduce((function(e,n){return XS(XS({},e),{},KS({},n,QS.create(t[n])))}),{});return XS(XS({},e),{},{apply:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return _w()(t,(function(t,n){return e[n].apply(t,{bandAware:r,position:i})}))},isInRange:function(t){return xw()(t,(function(t,n){return e[n].isInRange(t)}))}})};function ek(){return ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ek.apply(this,arguments)}function nk(t){return nk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nk(t)}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ik(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rk(Object(n),!0).forEach((function(e){uk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ok(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hk(r.key),r)}}function ak(t,e,n){return e=lk(e),function(t,e){if(e&&("object"===nk(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,sk()?Reflect.construct(e,n||[],lk(t).constructor):e.apply(t,n))}function sk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(sk=function(){return!!t})()}function lk(t){return lk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lk(t)}function ck(t,e){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ck(t,e)}function uk(t,e,n){return(e=hk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hk(t){var e=function(t,e){if("object"!=nk(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nk(e)?e:e+""}var dk=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ak(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ck(t,e)}(e,t),n=e,i=[{key:"render",value:function(){var t=this.props,n=t.x,i=t.y,o=t.r,a=t.alwaysShow,s=t.clipPathId,l=lc(n),c=lc(i);if(mc(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(t){var e=t.x,n=t.y,r=t.xAxis,i=t.yAxis,o=tk({x:r.scale,y:i.scale}),a=o.apply({x:e,y:n},{bandAware:!0});return yw(t,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!u)return null;var h=u.x,d=u.y,p=this.props,f=p.shape,m=p.className,g=ik(ik({clipPath:yw(this.props,"hidden")?"url(#".concat(s,")"):void 0},Zc(this.props,!0)),{},{cx:h,cy:d});return r.createElement(fu,{className:rr("recharts-reference-dot",m)},e.renderDot(f,g),mw.renderCallByParent(this.props,{x:h-o,y:d-o,width:2*o,height:2*o}))}}],i&&ok(n.prototype,i),o&&ok(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);uk(dk,"displayName","ReferenceDot"),uk(dk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),uk(dk,"renderDot",(function(t,e){return r.isValidElement(t)?r.cloneElement(t,e):_c()(t)?t(e):r.createElement(vd,ek({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"}))}));var pk=n(4597),fk=n.n(pk),mk=n(8990),gk=n.n(mk),yk=n(5797),vk=n.n(yk)()((function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}}),(function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}));var _k=(0,r.createContext)(void 0),bk=(0,r.createContext)(void 0),xk=(0,r.createContext)(void 0),wk=(0,r.createContext)({}),Sk=(0,r.createContext)(void 0),kk=(0,r.createContext)(0),Pk=(0,r.createContext)(0),Tk=function(t){var e=t.state,n=e.xAxisMap,i=e.yAxisMap,o=e.offset,a=t.clipPathId,s=t.children,l=t.width,c=t.height,u=vk(o);return r.createElement(_k.Provider,{value:n},r.createElement(bk.Provider,{value:i},r.createElement(wk.Provider,{value:o},r.createElement(xk.Provider,{value:u},r.createElement(Sk.Provider,{value:a},r.createElement(kk.Provider,{value:c},r.createElement(Pk.Provider,{value:l},s)))))))};var Ek=function(t){var e=(0,r.useContext)(_k);null==e&&au(!1);var n=e[t];return null==n&&au(!1),n},Ck=function(t){var e=(0,r.useContext)(bk);null==e&&au(!1);var n=e[t];return null==n&&au(!1),n},Ak=function(){return(0,r.useContext)(Pk)},Mk=function(){return(0,r.useContext)(kk)};function Ok(t){return Ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ok(t)}function Ik(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fk(r.key),r)}}function zk(t,e,n){return e=Dk(e),function(t,e){if(e&&("object"===Ok(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Lk()?Reflect.construct(e,n||[],Dk(t).constructor):e.apply(t,n))}function Lk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Lk=function(){return!!t})()}function Dk(t){return Dk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dk(t)}function jk(t,e){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jk(t,e)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rk(Object(n),!0).forEach((function(e){Nk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nk(t,e,n){return(e=Fk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fk(t){var e=function(t,e){if("object"!=Ok(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ok(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ok(e)?e:e+""}function $k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vk(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uk(){return Uk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uk.apply(this,arguments)}function Zk(t){var e=t.x,n=t.y,i=t.segment,o=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,u=(0,r.useContext)(Sk),h=Ek(o),d=Ck(a),p=(0,r.useContext)(xk);if(!u||!p)return null;mc(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(t,e,n,r,i,o,a,s,l){var c=i.x,u=i.y,h=i.width,d=i.height;if(n){var p=l.y,f=t.y.apply(p,{position:o});if(yw(l,"discard")&&!t.y.isInRange(f))return null;var m=[{x:c+h,y:f},{x:c,y:f}];return"left"===s?m.reverse():m}if(e){var g=l.x,y=t.x.apply(g,{position:o});if(yw(l,"discard")&&!t.x.isInRange(y))return null;var v=[{x:y,y:u+d},{x:y,y:u}];return"top"===a?v.reverse():v}if(r){var _=l.segment.map((function(e){return t.apply(e,{position:o})}));return yw(l,"discard")&&fk()(_,(function(e){return!t.isInRange(e)}))?null:_}return null}(tk({x:h.scale,y:d.scale}),lc(e),lc(n),i&&2===i.length,p,t.position,h.orientation,d.orientation,t);if(!f)return null;var m=$k(f,2),g=m[0],y=g.x,v=g.y,_=m[1],b=_.x,x=_.y,w=Bk(Bk({clipPath:yw(t,"hidden")?"url(#".concat(u,")"):void 0},Zc(t,!0)),{},{x1:y,y1:v,x2:b,y2:x});return r.createElement(fu,{className:rr("recharts-reference-line",l)},function(t,e){return r.isValidElement(t)?r.cloneElement(t,e):_c()(t)?t(e):r.createElement("line",Uk({},e,{className:"recharts-reference-line-line"}))}(s,w),mw.renderCallByParent(t,function(t){var e=t.x1,n=t.y1,r=t.x2,i=t.y2;return JS({x:e,y:n},{x:r,y:i})}({x1:y,y1:v,x2:b,y2:x})))}var qk=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),zk(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jk(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){return r.createElement(Zk,this.props)}}])&&Ik(n.prototype,i),o&&Ik(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function Hk(){return Hk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hk.apply(this,arguments)}function Wk(t){return Wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wk(t)}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gk(Object(n),!0).forEach((function(e){eP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nP(r.key),r)}}function Yk(t,e,n){return e=Qk(e),function(t,e){if(e&&("object"===Wk(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Jk()?Reflect.construct(e,n||[],Qk(t).constructor):e.apply(t,n))}function Jk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Jk=function(){return!!t})()}function Qk(t){return Qk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qk(t)}function tP(t,e){return tP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tP(t,e)}function eP(t,e,n){return(e=nP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nP(t){var e=function(t,e){if("object"!=Wk(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Wk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wk(e)?e:e+""}Nk(qk,"displayName","ReferenceLine"),Nk(qk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var rP=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Yk(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tP(t,e)}(e,t),n=e,i=[{key:"render",value:function(){var t=this.props,n=t.x1,i=t.x2,o=t.y1,a=t.y2,s=t.className,l=t.alwaysShow,c=t.clipPathId;mc(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=lc(n),h=lc(i),d=lc(o),p=lc(a),f=this.props.shape;if(!u&&!h&&!d&&!p&&!f)return null;var m=function(t,e,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var h=tk({x:c.scale,y:u.scale}),d={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(s,{position:"start"}):h.y.rangeMin},p={x:e?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:r?h.y.apply(l,{position:"end"}):h.y.rangeMax};return!yw(i,"discard")||h.isInRange(d)&&h.isInRange(p)?JS(d,p):null}(u,h,d,p,this.props);if(!m&&!f)return null;var g=yw(this.props,"hidden")?"url(#".concat(c,")"):void 0;return r.createElement(fu,{className:rr("recharts-reference-area",s)},e.renderRect(f,Xk(Xk({clipPath:g},Zc(this.props,!0)),m)),mw.renderCallByParent(this.props,m))}}],i&&Kk(n.prototype,i),o&&Kk(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function iP(t){return function(t){if(Array.isArray(t))return oP(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return oP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oP(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}eP(rP,"displayName","ReferenceArea"),eP(rP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),eP(rP,"renderRect",(function(t,e){return r.isValidElement(t)?r.cloneElement(t,e):_c()(t)?t(e):r.createElement(of,Hk({},e,{className:"recharts-reference-area-rect"}))}));var aP=function(t,e,n,r,i){var o=Nc(t,qk),a=Nc(t,dk),s=[].concat(iP(o),iP(a)),l=Nc(t,rP),c="".concat(r,"Id"),u=r[0],h=e;if(s.length&&(h=s.reduce((function(t,e){if(e.props[c]===n&&yw(e.props,"extendDomain")&&sc(e.props[u])){var r=e.props[u];return[Math.min(t[0],r),Math.max(t[1],r)]}return t}),h)),l.length){var d="".concat(u,"1"),p="".concat(u,"2");h=l.reduce((function(t,e){if(e.props[c]===n&&yw(e.props,"extendDomain")&&sc(e.props[d])&&sc(e.props[p])){var r=e.props[d],i=e.props[p];return[Math.min(t[0],r,i),Math.max(t[1],r,i)]}return t}),h)}return i&&i.length&&(h=i.reduce((function(t,e){return sc(e)?[Math.min(t[0],e),Math.max(t[1],e)]:t}),h)),h},sP=n(7283),lP=new(n.n(sP)()),cP="recharts.syncMouseEvents";function uP(t){return uP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uP(t)}function hP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pP(r.key),r)}}function dP(t,e,n){return(e=pP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pP(t){var e=function(t,e){if("object"!=uP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=uP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uP(e)?e:e+""}var fP=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),dP(this,"activeIndex",0),dP(this,"coordinateList",[]),dP(this,"layout","horizontal")},e=[{key:"setDetails",value:function(t){var e,n=t.coordinateList,r=void 0===n?null:n,i=t.container,o=void 0===i?null:i,a=t.layout,s=void 0===a?null:a,l=t.offset,c=void 0===l?null:l,u=t.mouseHandlerCallback,h=void 0===u?null:u;this.coordinateList=null!==(e=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==e?e:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==h&&void 0!==h?h:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(0!==this.coordinateList.length)switch(t.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,e;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(t=window)||void 0===t?void 0:t.scrollX)||0,l=(null===(e=window)||void 0===e?void 0:e.scrollY)||0,c=r+a+s,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],e&&hP(t.prototype,e),n&&hP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function mP(){}function gP(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yP(t){this._context=t}function vP(t){this._context=t}function _P(t){this._context=t}yP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gP(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},vP.prototype={areaStart:mP,areaEnd:mP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gP(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},_P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gP(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};class bP{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function xP(t){this._context=t}function wP(t){this._context=t}function SP(t){return new wP(t)}function kP(t){return t<0?-1:1}function PP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(kP(o)+kP(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function TP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function EP(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function CP(t){this._context=t}function AP(t){this._context=new MP(t)}function MP(t){this._context=t}function OP(t){this._context=t}function IP(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function zP(t,e){this._context=t,this._t=e}function LP(t){return t[0]}function DP(t){return t[1]}function jP(t,e){var n=Eh(!0),r=null,i=SP,o=null,a=Lh(s);function s(s){var l,c,u,h=(s=J_(s)).length,d=!1;for(null==r&&(o=i(u=a())),l=0;l<=h;++l)!(l<h&&n(c=s[l],l,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(c,l,s),+e(c,l,s));if(u)return o=null,u+""||null}return t="function"===typeof t?t:void 0===t?LP:Eh(t),e="function"===typeof e?e:void 0===e?DP:Eh(e),s.x=function(e){return arguments.length?(t="function"===typeof e?e:Eh(+e),s):t},s.y=function(t){return arguments.length?(e="function"===typeof t?t:Eh(+t),s):e},s.defined=function(t){return arguments.length?(n="function"===typeof t?t:Eh(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s}function RP(t,e,n){var r=null,i=Eh(!0),o=null,a=SP,s=null,l=Lh(c);function c(c){var u,h,d,p,f,m=(c=J_(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==o&&(s=a(f=l())),u=0;u<=m;++u){if(!(u<m&&i(p=c[u],u,c))===g)if(g=!g)h=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=h;--d)s.point(y[d],v[d]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+t(p,u,c),v[u]=+e(p,u,c),s.point(r?+r(p,u,c):y[u],n?+n(p,u,c):v[u]))}if(f)return s=null,f+""||null}function u(){return jP().defined(i).curve(a).context(o)}return t="function"===typeof t?t:void 0===t?LP:Eh(+t),e="function"===typeof e?e:Eh(void 0===e?0:+e),n="function"===typeof n?n:void 0===n?DP:Eh(+n),c.x=function(e){return arguments.length?(t="function"===typeof e?e:Eh(+e),r=null,c):t},c.x0=function(e){return arguments.length?(t="function"===typeof e?e:Eh(+e),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:Eh(+t),c):r},c.y=function(t){return arguments.length?(e="function"===typeof t?t:Eh(+t),n=null,c):e},c.y0=function(t){return arguments.length?(e="function"===typeof t?t:Eh(+t),c):e},c.y1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:Eh(+t),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(t){return arguments.length?(i="function"===typeof t?t:Eh(!!t),c):i},c.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),c):o},c}function BP(t){return BP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BP(t)}function NP(){return NP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NP.apply(this,arguments)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?FP(Object(n),!0).forEach((function(e){VP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function VP(t,e,n){return e=function(t){var e=function(t,e){if("object"!=BP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=BP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==BP(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}xP.prototype={areaStart:mP,areaEnd:mP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},wP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},CP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:EP(this,this._t0,TP(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,EP(this,TP(this,n=PP(this,t,e)),n);break;default:EP(this,this._t0,n=PP(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(AP.prototype=Object.create(CP.prototype)).point=function(t,e){CP.prototype.point.call(this,e,t)},MP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},OP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=IP(t),i=IP(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},zP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var UP={curveBasisClosed:function(t){return new vP(t)},curveBasisOpen:function(t){return new _P(t)},curveBasis:function(t){return new yP(t)},curveBumpX:function(t){return new bP(t,!0)},curveBumpY:function(t){return new bP(t,!1)},curveLinearClosed:function(t){return new xP(t)},curveLinear:SP,curveMonotoneX:function(t){return new CP(t)},curveMonotoneY:function(t){return new AP(t)},curveNatural:function(t){return new OP(t)},curveStep:function(t){return new zP(t,.5)},curveStepAfter:function(t){return new zP(t,1)},curveStepBefore:function(t){return new zP(t,0)}},ZP=function(t){return t.x===+t.x&&t.y===+t.y},qP=function(t){return t.x},HP=function(t){return t.y},WP=function(t){var e,n=t.type,r=void 0===n?"linear":n,i=t.points,o=void 0===i?[]:i,a=t.baseLine,s=t.layout,l=t.connectNulls,c=void 0!==l&&l,u=function(t,e){if(_c()(t))return t;var n="curve".concat(ih()(t));return"curveMonotone"!==n&&"curveBump"!==n||!e?UP[n]||SP:UP["".concat(n).concat("vertical"===e?"Y":"X")]}(r,s),h=c?o.filter((function(t){return ZP(t)})):o;if(Array.isArray(a)){var d=c?a.filter((function(t){return ZP(t)})):a,p=h.map((function(t,e){return $P($P({},t),{},{base:d[e]})}));return(e="vertical"===s?RP().y(HP).x1(qP).x0((function(t){return t.base.x})):RP().x(qP).y1(HP).y0((function(t){return t.base.y}))).defined(ZP).curve(u),e(p)}return(e="vertical"===s&&sc(a)?RP().y(HP).x1(qP).x0(a):sc(a)?RP().x(qP).y1(HP).y0(a):jP().x(qP).y(HP)).defined(ZP).curve(u),e(h)},GP=function(t){var e=t.className,n=t.points,i=t.path,o=t.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?WP(t):i;return r.createElement("path",NP({},Zc(t,!1),Ac(t),{className:rr("recharts-curve",e),d:a,ref:o}))};function XP(t){return XP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XP(t)}var KP=["x","y","top","left","width","height","className"];function YP(){return YP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YP.apply(this,arguments)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function QP(t,e,n){return e=function(t){var e=function(t,e){if("object"!=XP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=XP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==XP(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tT(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var eT=function(t,e,n,r,i,o){return"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n)},nT=function(t){var e=t.x,n=void 0===e?0:e,i=t.y,o=void 0===i?0:i,a=t.top,s=void 0===a?0:a,l=t.left,c=void 0===l?0:l,u=t.width,h=void 0===u?0:u,d=t.height,p=void 0===d?0:d,f=t.className,m=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?JP(Object(n),!0).forEach((function(e){QP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({x:n,y:o,top:s,left:c,width:h,height:p},tT(t,KP));return sc(n)&&sc(o)&&sc(h)&&sc(p)&&sc(s)&&sc(c)?r.createElement("path",YP({},Zc(m,!0),{className:rr("recharts-cross",f),d:eT(n,o,h,p,s,c)})):null};function rT(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle;return{points:[ew(e,n,r,i),ew(e,n,r,o)],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function iT(t,e,n){var r,i,o,a;if("horizontal"===t)o=r=e.x,i=n.top,a=n.top+n.height;else if("vertical"===t)a=i=e.y,r=n.left,o=n.left+n.width;else if(null!=e.cx&&null!=e.cy){if("centric"!==t)return rT(e);var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,h=e.angle,d=ew(s,l,c,h),p=ew(s,l,u,h);r=d.x,i=d.y,o=p.x,a=p.y}return[{x:r,y:i},{x:o,y:a}]}function oT(t){return oT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oT(t)}function aT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?aT(Object(n),!0).forEach((function(e){lT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lT(t,e,n){return e=function(t){var e=function(t,e){if("object"!=oT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oT(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cT(t){var e,n,i,o=t.element,a=t.tooltipEventType,s=t.isActive,l=t.activeCoordinate,c=t.activePayload,u=t.offset,h=t.activeTooltipIndex,d=t.tooltipAxisBandSize,p=t.layout,f=t.chartName,m=null!==(e=o.props.cursor)&&void 0!==e?e:null===(n=o.type.defaultProps)||void 0===n?void 0:n.cursor;if(!o||!m||!s||!l||"ScatterChart"!==f&&"axis"!==a)return null;var g=GP;if("ScatterChart"===f)i=l,g=nT;else if("BarChart"===f)i=function(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===t?e.x-i:n.left+.5,y:"horizontal"===t?n.top+.5:e.y-i,width:"horizontal"===t?r:n.width-1,height:"horizontal"===t?n.height-1:r}}(p,l,u,d),g=of;else if("radial"===p){var y=rT(l),v=y.cx,_=y.cy,b=y.radius;i={cx:v,cy:_,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:b,outerRadius:b},g=oS}else i={points:iT(p,l,u)},g=GP;var x=sT(sT(sT(sT({stroke:"#ccc",pointerEvents:"none"},u),i),Zc(m,!1)),{},{payload:c,payloadIndex:h,className:rr("recharts-tooltip-cursor",m.className)});return(0,r.isValidElement)(m)?(0,r.cloneElement)(m,x):(0,r.createElement)(g,x)}var uT=["item"],hT=["children","className","width","height","style","compact","title","desc"];function dT(t){return dT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dT(t)}function pT(){return pT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pT.apply(this,arguments)}function fT(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||wT(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mT(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ET(r.key),r)}}function yT(t,e,n){return e=_T(e),function(t,e){if(e&&("object"===dT(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,vT()?Reflect.construct(e,n||[],_T(t).constructor):e.apply(t,n))}function vT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vT=function(){return!!t})()}function _T(t){return _T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_T(t)}function bT(t,e){return bT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bT(t,e)}function xT(t){return function(t){if(Array.isArray(t))return ST(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||wT(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wT(t,e){if(t){if("string"===typeof t)return ST(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ST(t,e):void 0}}function ST(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function PT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kT(Object(n),!0).forEach((function(e){TT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function TT(t,e,n){return(e=ET(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ET(t){var e=function(t,e){if("object"!=dT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dT(e)?e:e+""}var CT={xAxis:["bottom","top"],yAxis:["left","right"]},AT={width:"100%",height:"100%"},MT={x:0,y:0};function OT(t){return t}var IT=function(t,e){var n=e.graphicalItems,r=e.dataStartIndex,i=e.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce((function(t,e){var n=e.props.data;return n&&n.length?[].concat(xT(t),xT(n)):t}),[]);return o.length>0?o:t&&t.length&&sc(r)&&sc(i)?t.slice(r,i+1):[]};function zT(t){return"number"===t?[0,"auto"]:void 0}var LT=function(t,e,n,r){var i=t.graphicalItems,o=t.tooltipAxis,a=IT(e,t);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:e;(u&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(u=u.slice(t.dataStartIndex,t.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=fc(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(xT(i),[Mx(s,c)]):i}),[])},DT=function(t,e,n,r){var i=r||{x:t.chartX,y:t.chartY},o=function(t,e){return"horizontal"===e?t.x:"vertical"===e?t.y:"centric"===e?t.angle:t.radius}(i,n),a=t.orderedTooltipTicks,s=t.tooltipAxis,l=t.tooltipTicks,c=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(e=null===n||void 0===n?void 0:n.length)&&void 0!==e?e:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,h=l>=a-1?r[0].coordinate:r[l+1].coordinate,d=void 0;if(oc(u-c)!==oc(h-u)){var p=[];if(oc(h-u)===oc(s[1]-s[0])){d=h;var f=u+s[1]-s[0];p[0]=Math.min(f,(f+c)/2),p[1]=Math.max(f,(f+c)/2)}else{d=c;var m=h+s[1]-s[0];p[0]=Math.min(u,(m+u)/2),p[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(d+u)/2),Math.max(u,(d+u)/2)];if(t>g[0]&&t<=g[1]||t>=p[0]&&t<=p[1]){o=r[l].index;break}}else{var y=Math.min(c,h),v=Math.max(c,h);if(t>(y+u)/2&&t<=(v+u)/2){o=r[l].index;break}}}else for(var _=0;_<a;_++)if(0===_&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<a-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===a-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o}(o,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,h=LT(t,e,c,u),d=function(t,e,n,r){var i=e.find((function(t){return t&&t.index===n}));if(i){if("horizontal"===t)return{x:i.coordinate,y:r.y};if("vertical"===t)return{x:r.x,y:i.coordinate};if("centric"===t){var o=i.coordinate,a=r.radius;return PT(PT(PT({},r),ew(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return PT(PT(PT({},r),ew(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return MT}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:h,activeCoordinate:d}}return null},jT=function(t,e){var n=e.axes,r=e.graphicalItems,i=e.axisType,o=e.axisIdKey,a=e.stackGroups,s=e.dataStartIndex,l=e.dataEndIndex,c=t.layout,u=t.children,h=t.stackOffset,d=mx(c,i);return n.reduce((function(e,n){var p,f=void 0!==n.type.defaultProps?PT(PT({},n.type.defaultProps),n.props):n.props,m=f.type,g=f.dataKey,y=f.allowDataOverflow,v=f.allowDuplicatedCategory,_=f.scale,b=f.ticks,x=f.includeHidden,w=f[o];if(e[w])return e;var S,k,P,T=IT(t.data,{graphicalItems:r.filter((function(t){var e;return(o in t.props?t.props[o]:null===(e=t.type.defaultProps)||void 0===e?void 0:e[o])===w})),dataStartIndex:s,dataEndIndex:l}),E=T.length;(function(t,e,n){if("number"===n&&!0===e&&Array.isArray(t)){var r=null===t||void 0===t?void 0:t[0],i=null===t||void 0===t?void 0:t[1];if(r&&i&&sc(r)&&sc(i))return!0}return!1})(f.domain,y,m)&&(S=Ex(f.domain,null,y),!d||"number"!==m&&"auto"===_||(P=hx(T,g,"category")));var C=zT(m);if(!S||0===S.length){var A,M=null!==(A=f.domain)&&void 0!==A?A:C;if(g){if(S=hx(T,g,m),"category"===m&&d){var O=function(t){if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++){if(n[t[r]])return!0;n[t[r]]=!0}return!1}(S);v&&O?(k=S,S=nu()(0,E)):v||(S=Ax(M,S,n).reduce((function(t,e){return t.indexOf(e)>=0?t:[].concat(xT(t),[e])}),[]))}else if("category"===m)S=v?S.filter((function(t){return""!==t&&!yc()(t)})):Ax(M,S,n).reduce((function(t,e){return t.indexOf(e)>=0||""===e||yc()(e)?t:[].concat(xT(t),[e])}),[]);else if("number"===m){var I=function(t,e,n,r,i){var o=e.map((function(e){return px(t,e,n,i,r)})).filter((function(t){return!yc()(t)}));return o&&o.length?o.reduce((function(t,e){return[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}),[1/0,-1/0]):null}(T,r.filter((function(t){var e,n,r=o in t.props?t.props[o]:null===(e=t.type.defaultProps)||void 0===e?void 0:e[o],i="hide"in t.props?t.props.hide:null===(n=t.type.defaultProps)||void 0===n?void 0:n.hide;return r===w&&(x||!i)})),g,i,c);I&&(S=I)}!d||"number"!==m&&"auto"===_||(P=hx(T,g,"category"))}else S=d?nu()(0,E):a&&a[w]&&a[w].hasStack&&"number"===m?"expand"===h?[0,1]:kx(a[w].stackGroups,s,l):fx(T,r.filter((function(t){var e=o in t.props?t.props[o]:t.type.defaultProps[o],n="hide"in t.props?t.props.hide:t.type.defaultProps.hide;return e===w&&(x||!n)})),m,c,!0);if("number"===m)S=aP(u,S,w,i,b),M&&(S=Ex(M,S,y));else if("category"===m&&M){var z=M;S.every((function(t){return z.indexOf(t)>=0}))&&(S=z)}}return PT(PT({},e),{},TT({},w,PT(PT({},f),{},{axisType:i,domain:S,categoricalDomain:P,duplicateDomain:k,originalDomain:null!==(p=f.domain)&&void 0!==p?p:C,isCategorical:d,layout:c})))}),{})},RT=function(t,e){var n=e.axisType,r=void 0===n?"xAxis":n,i=e.AxisComp,o=e.graphicalItems,a=e.stackGroups,s=e.dataStartIndex,l=e.dataEndIndex,c=t.children,u="".concat(r,"Id"),h=Nc(c,i),d={};return h&&h.length?d=jT(t,{axes:h,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(d=function(t,e){var n=e.graphicalItems,r=e.Axis,i=e.axisType,o=e.axisIdKey,a=e.stackGroups,s=e.dataStartIndex,l=e.dataEndIndex,c=t.layout,u=t.children,h=IT(t.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),d=h.length,p=mx(c,i),f=-1;return n.reduce((function(t,e){var m,g=(void 0!==e.type.defaultProps?PT(PT({},e.type.defaultProps),e.props):e.props)[o],y=zT("number");return t[g]?t:(f++,p?m=nu()(0,d):a&&a[g]&&a[g].hasStack?(m=kx(a[g].stackGroups,s,l),m=aP(u,m,g,i)):(m=Ex(y,fx(h,n.filter((function(t){var e,n,r=o in t.props?t.props[o]:null===(e=t.type.defaultProps)||void 0===e?void 0:e[o],i="hide"in t.props?t.props.hide:null===(n=t.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i})),"number",c),r.defaultProps.allowDataOverflow),m=aP(u,m,g,i)),PT(PT({},t),{},TT({},g,PT(PT({axisType:i},r.defaultProps),{},{hide:!0,orientation:nc()(CT,"".concat(i,".").concat(f%2),null),domain:m,originalDomain:y,isCategorical:p,layout:c}))))}),{})}(t,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),d},BT=function(t){var e=t.children,n=t.defaultShowTooltip,r=Fc(e,Gx),i=0,o=0;return t.data&&0!==t.data.length&&(o=t.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},NT=function(t){return"horizontal"===t?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===t?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===t?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},FT=function(t,e){var n=t.props,r=(t.graphicalItems,t.xAxisMap),i=void 0===r?{}:r,o=t.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},h=Fc(c,Gx),d=Fc(c,gd),p=Object.keys(a).reduce((function(t,e){var n=a[e],r=n.orientation;return n.mirror||n.hide?t:PT(PT({},t),{},TT({},r,t[r]+n.width))}),{left:u.left||0,right:u.right||0}),f=Object.keys(i).reduce((function(t,e){var n=i[e],r=n.orientation;return n.mirror||n.hide?t:PT(PT({},t),{},TT({},r,nc()(t,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=PT(PT({},f),p),g=m.bottom;h&&(m.bottom+=h.props.height||Gx.defaultProps.height),d&&e&&(m=function(t,e,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=rx({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,h=c.height,d=l.align,p=l.verticalAlign,f=l.layout;if(("vertical"===f||"horizontal"===f&&"middle"===p)&&"center"!==d&&sc(t[d]))return lx(lx({},t),{},cx({},d,t[d]+(u||0)));if(("horizontal"===f||"vertical"===f&&"center"===d)&&"middle"!==p&&sc(t[p]))return lx(lx({},t),{},cx({},p,t[p]+(h||0)))}return t}(m,0,n,e));var y=s-m.left-m.right,v=l-m.top-m.bottom;return PT(PT({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},$T=function(t,e){return"xAxis"===e?t[e].width:"yAxis"===e?t[e].height:void 0};function VT(t,e,n){if(e<1)return[];if(1===e&&void 0===n)return t;for(var r=[],i=0;i<t.length;i+=e){if(void 0!==n&&!0!==n(t[i]))return;r.push(t[i])}return r}function UT(t,e,n){return function(t){var e=t.width,n=t.height,r=function(t){return(t%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/e),a=i>o&&i<Math.PI-o?n/Math.sin(i):e/Math.cos(i);return Math.abs(a)}({width:t.width+e.width,height:t.height+e.height},n)}function ZT(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function qT(t){return qT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qT(t)}function HT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function WT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?HT(Object(n),!0).forEach((function(e){GT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function GT(t,e,n){return e=function(t){var e=function(t,e){if("object"!=qT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qT(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XT(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(sc(l)||$u.isSsr)return function(t,e){return VT(t,e+1)}(i,"number"===typeof l&&sc(l)?l:0);var d=[],p="top"===s||"bottom"===s?"width":"height",f=u&&"width"===p?Pf(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(t,r){var i=_c()(c)?c(t.value,r):t.value;return"width"===p?UT(Pf(i,{fontSize:e,letterSpacing:n}),f,h):Pf(i,{fontSize:e,letterSpacing:n})[p]},g=i.length>=2?oc(i[1].coordinate-i[0].coordinate):1,y=function(t,e,n){var r="width"===n,i=t.x,o=t.y,a=t.width,s=t.height;return 1===e?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,p);return"equidistantPreserveStart"===l?function(t,e,n,r,i){for(var o,a=(r||[]).slice(),s=e.start,l=e.end,c=0,u=1,h=s,d=function(){var e=null===r||void 0===r?void 0:r[c];if(void 0===e)return{v:VT(r,u)};var o,a=c,d=function(){return void 0===o&&(o=n(e,a)),o},p=e.coordinate,f=0===c||ZT(t,p,d,h,l);f||(c=0,h=s,u+=1),f&&(h=p+t*(d()/2+i),c+=u)};u<=a.length;)if(o=d())return o.v;return[]}(g,y,m,i,a):(d="preserveStart"===l||"preserveStartEnd"===l?function(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var u=r[s-1],h=n(u,s-1),d=t*(u.coordinate+t*h/2-c);a[s-1]=u=WT(WT({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate}),ZT(t,u.tickCoord,(function(){return h}),l,c)&&(c=u.tickCoord-t*(h/2+i),a[s-1]=WT(WT({},u),{},{isShow:!0}))}for(var p=o?s-1:s,f=function(e){var r,o=a[e],s=function(){return void 0===r&&(r=n(o,e)),r};if(0===e){var u=t*(o.coordinate-t*s()/2-l);a[e]=o=WT(WT({},o),{},{tickCoord:u<0?o.coordinate-u*t:o.coordinate})}else a[e]=o=WT(WT({},o),{},{tickCoord:o.coordinate});ZT(t,o.tickCoord,s,l,c)&&(l=o.tickCoord+t*(s()/2+i),a[e]=WT(WT({},o),{},{isShow:!0}))},m=0;m<p;m++)f(m);return a}(g,y,m,i,a,"preserveStartEnd"===l):function(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(e){var r,c=o[e],u=function(){return void 0===r&&(r=n(c,e)),r};if(e===a-1){var h=t*(c.coordinate+t*u()/2-l);o[e]=c=WT(WT({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate})}else o[e]=c=WT(WT({},c),{},{tickCoord:c.coordinate});ZT(t,c.tickCoord,u,s,l)&&(l=c.tickCoord-t*(u()/2+i),o[e]=WT(WT({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(g,y,m,i,a),d.filter((function(t){return t.isShow})))}var KT=["viewBox"],YT=["viewBox"],JT=["ticks"];function QT(t){return QT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QT(t)}function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(this,arguments)}function eE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eE(Object(n),!0).forEach((function(e){cE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rE(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uE(r.key),r)}}function oE(t,e,n){return e=sE(e),function(t,e){if(e&&("object"===QT(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,aE()?Reflect.construct(e,n||[],sE(t).constructor):e.apply(t,n))}function aE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(aE=function(){return!!t})()}function sE(t){return sE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sE(t)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lE(t,e)}function cE(t,e,n){return(e=uE(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uE(t){var e=function(t,e){if("object"!=QT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=QT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==QT(e)?e:e+""}var hE=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=oE(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}(e,t),n=e,i=[{key:"shouldComponentUpdate",value:function(t,e){var n=t.viewBox,r=rE(t,KT),i=this.props,o=i.viewBox,a=rE(i,YT);return!Sc(n,o)||!Sc(r,a)||!Sc(e,this.state)}},{key:"componentDidMount",value:function(){var t=this.layerReference;if(t){var e=t.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];e&&this.setState({fontSize:window.getComputedStyle(e).fontSize,letterSpacing:window.getComputedStyle(e).letterSpacing})}}},{key:"getTickLineCoord",value:function(t){var e,n,r,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,h=s.height,d=s.orientation,p=s.tickSize,f=s.mirror,m=s.tickMargin,g=f?-1:1,y=t.tickSize||p,v=sc(t.tickCoord)?t.tickCoord:t.coordinate;switch(d){case"top":e=n=t.coordinate,a=(r=(i=c+ +!f*h)-g*y)-g*m,o=v;break;case"left":r=i=t.coordinate,o=(e=(n=l+ +!f*u)-g*y)-g*m,a=v;break;case"right":r=i=t.coordinate,o=(e=(n=l+ +f*u)+g*y)+g*m,a=v;break;default:e=n=t.coordinate,a=(r=(i=c+ +f*h)+g*y)+g*m,o=v}return{line:{x1:e,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var t,e=this.props,n=e.orientation,r=e.mirror;switch(n){case"left":t=r?"start":"end";break;case"right":t=r?"end":"start";break;default:t="middle"}return t}},{key:"getTickVerticalAnchor",value:function(){var t=this.props,e=t.orientation,n=t.mirror,r="end";switch(e){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var t=this.props,e=t.x,n=t.y,i=t.width,o=t.height,a=t.orientation,s=t.mirror,l=t.axisLine,c=nE(nE(nE({},Zc(this.props,!1)),Zc(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!s||"bottom"===a&&s);c=nE(nE({},c),{},{x1:e,y1:n+u*o,x2:e+i,y2:n+u*o})}else{var h=+("left"===a&&!s||"right"===a&&s);c=nE(nE({},c),{},{x1:e+h*i,y1:n,x2:e+h*i,y2:n+o})}return r.createElement("line",tE({},c,{className:rr("recharts-cartesian-axis-line",nc()(l,"className"))}))}},{key:"renderTicks",value:function(t,n,i){var o=this,a=this.props,s=a.tickLine,l=a.stroke,c=a.tick,u=a.tickFormatter,h=a.unit,d=XT(nE(nE({},this.props),{},{ticks:t}),n,i),p=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),m=Zc(this.props,!1),g=Zc(c,!1),y=nE(nE({},m),{},{fill:"none"},Zc(s,!1)),v=d.map((function(t,n){var i=o.getTickLineCoord(t),a=i.line,v=i.tick,_=nE(nE(nE(nE({textAnchor:p,verticalAnchor:f},m),{},{stroke:"none",fill:l},g),v),{},{index:n,payload:t,visibleTicksCount:d.length,tickFormatter:u});return r.createElement(fu,tE({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},Mc(o.props,t,n)),s&&r.createElement("line",tE({},y,a,{className:rr("recharts-cartesian-axis-tick-line",nc()(s,"className"))})),c&&e.renderTickItem(c,_,"".concat(_c()(u)?u(t.value,n):t.value).concat(h||"")))}));return r.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var t=this,e=this.props,n=e.axisLine,i=e.width,o=e.height,a=e.ticksGenerator,s=e.className;if(e.hide)return null;var l=this.props,c=l.ticks,u=rE(l,JT),h=c;return _c()(a)&&(h=c&&c.length>0?a(this.props):a(u)),i<=0||o<=0||!h||!h.length?null:r.createElement(fu,{className:rr("recharts-cartesian-axis",s),ref:function(e){t.layerReference=e}},n&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),mw.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(t,e,n){return r.isValidElement(t)?r.cloneElement(t,e):_c()(t)?t(e):r.createElement(tm,tE({},e,{className:"recharts-cartesian-axis-tick-value"}),n)}}],i&&iE(n.prototype,i),o&&iE(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function dE(t){return dE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dE(t)}function pE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_E(r.key),r)}}function fE(t,e,n){return e=gE(e),function(t,e){if(e&&("object"===dE(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mE()?Reflect.construct(e,n||[],gE(t).constructor):e.apply(t,n))}function mE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mE=function(){return!!t})()}function gE(t){return gE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gE(t)}function yE(t,e){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yE(t,e)}function vE(t,e,n){return(e=_E(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _E(t){var e=function(t,e){if("object"!=dE(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dE(e)?e:e+""}function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(this,arguments)}function xE(t){var e=t.xAxisId,n=Ak(),i=Mk(),o=Ek(e);return null==o?null:r.createElement(hE,bE({},o,{className:rr("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(t){return yx(t,!0)}}))}cE(hE,"displayName","CartesianAxis"),cE(hE,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wE=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),fE(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yE(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){return r.createElement(xE,this.props)}}])&&pE(n.prototype,i),o&&pE(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);function SE(t){return SE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SE(t)}function kE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ME(r.key),r)}}function PE(t,e,n){return e=EE(e),function(t,e){if(e&&("object"===SE(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,TE()?Reflect.construct(e,n||[],EE(t).constructor):e.apply(t,n))}function TE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(TE=function(){return!!t})()}function EE(t){return EE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},EE(t)}function CE(t,e){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},CE(t,e)}function AE(t,e,n){return(e=ME(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ME(t){var e=function(t,e){if("object"!=SE(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=SE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==SE(e)?e:e+""}function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(this,arguments)}vE(wE,"displayName","XAxis"),vE(wE,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var IE=function(t){var e=t.yAxisId,n=Ak(),i=Mk(),o=Ck(e);return null==o?null:r.createElement(hE,OE({},o,{className:rr("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(t){return yx(t,!0)}}))},zE=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),PE(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CE(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){return r.createElement(IE,this.props)}}])&&kE(n.prototype,i),o&&kE(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.Component);AE(zE,"displayName","YAxis"),AE(zE,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var LE=function(t){var e=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,o=void 0===i?"axis":i,a=t.validateTooltipEventTypes,s=void 0===a?["axis"]:a,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,d=function(t,e){var n=e.graphicalItems,r=e.stackGroups,i=e.offset,o=e.updateId,a=e.dataStartIndex,s=e.dataEndIndex,c=t.barSize,u=t.layout,h=t.barGap,d=t.barCategoryGap,p=t.maxBarSize,f=NT(u),m=f.numericAxisName,g=f.cateAxisName,y=function(t){return!(!t||!t.length)&&t.some((function(t){var e=Dc(t&&t.type);return e&&e.indexOf("Bar")>=0}))}(n),v=[];return n.forEach((function(n,f){var _=IT(t.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),b=void 0!==n.type.defaultProps?PT(PT({},n.type.defaultProps),n.props):n.props,x=b.dataKey,w=b.maxBarSize,S=b["".concat(m,"Id")],k=b["".concat(g,"Id")],P=l.reduce((function(t,n){var r=e["".concat(n.axisType,"Map")],i=b["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||au(!1);var o=r[i];return PT(PT({},t),{},TT(TT({},n.axisType,o),"".concat(n.axisType,"Ticks"),yx(o)))}),{}),T=P[g],E=P["".concat(g,"Ticks")],C=r&&r[S]&&r[S].hasStack&&function(t,e){var n,r=(null!==(n=t.type)&&void 0!==n&&n.defaultProps?lx(lx({},t.type.defaultProps),t.props):t.props).stackId;if(lc(r)){var i=e[r];if(i){var o=i.items.indexOf(t);return o>=0?i.stackedData[o]:null}}return null}(n,r[S].stackGroups),A=Dc(n.type).indexOf("Bar")>=0,M=Cx(T,E),O=[],I=y&&function(t){var e=t.barSize,n=t.totalSize,r=t.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,u=Object.keys(c),h=0,d=u.length;h<d;h++){var p=c[u[h]],f=p.items,m=p.cateAxisId,g=f.filter((function(t){return Dc(t.type).indexOf("Bar")>=0}));if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?lx(lx({},y),g[0].props):g[0].props,_=v.barSize,b=v[m];o[b]||(o[b]=[]);var x=yc()(_)?e:_;o[b].push({item:g[0],stackList:g.slice(1),barSize:yc()(x)?void 0:hc(x,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:$T(P,g)});if(A){var z,L,D=yc()(w)?p:w,j=null!==(z=null!==(L=Cx(T,E,!0))&&void 0!==L?L:D)&&void 0!==z?z:0;O=function(t){var e=t.barGap,n=t.barCategoryGap,r=t.bandSize,i=t.sizeList,o=void 0===i?[]:i,a=t.maxBarSize,s=o.length;if(s<1)return null;var l,c=hc(e,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var h=!1,d=r/s,p=o.reduce((function(t,e){return t+e.barSize||0}),0);(p+=(s-1)*c)>=r&&(p-=(s-1)*c,c=0),p>=r&&d>0&&(h=!0,p=s*(d*=.9));var f={offset:((r-p)/2|0)-c,size:0};l=o.reduce((function(t,e){var n={item:e.item,position:{offset:f.offset+f.size+c,size:h?d:e.barSize}},r=[].concat(ox(t),[n]);return f=r[r.length-1].position,e.stackList&&e.stackList.length&&e.stackList.forEach((function(t){r.push({item:t,position:f})})),r}),u)}else{var m=hc(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=a===+a?Math.min(g,a):g;l=o.reduce((function(t,e,n){var r=[].concat(ox(t),[{item:e.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return e.stackList&&e.stackList.length&&e.stackList.forEach((function(t){r.push({item:t,position:r[r.length-1].position})})),r}),u)}return l}({barGap:h,barCategoryGap:d,bandSize:j!==M?j:M,sizeList:I[k],maxBarSize:D}),j!==M&&(O=O.map((function(t){return PT(PT({},t),{},{position:PT(PT({},t.position),{},{offset:t.position.offset-j/2})})})))}var R,B,N=n&&n.type&&n.type.getComposedData;N&&v.push({props:PT(PT({},N(PT(PT({},P),{},{displayedData:_,props:t,dataKey:x,item:n,bandSize:M,barPosition:O,offset:i,stackedData:C,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},TT(TT(TT({key:n.key||"item-".concat(f)},m,P[m]),g,P[g]),"animationId",o)),childIndex:(R=n,B=t.children,Bc(B).indexOf(R)),item:n})})),v},p=function(t,r){var i=t.props,o=t.dataStartIndex,a=t.dataEndIndex,s=t.updateId;if(!$c({props:i}))return null;var c=i.children,h=i.layout,p=i.stackOffset,f=i.data,m=i.reverseStackOrder,g=NT(h),y=g.numericAxisName,v=g.cateAxisName,_=Nc(c,n),b=function(t,e,n,r,i,o){if(!t)return null;var a=(o?e.reverse():e).reduce((function(t,e){var i,o=null!==(i=e.type)&&void 0!==i&&i.defaultProps?lx(lx({},e.type.defaultProps),e.props):e.props,a=o.stackId;if(o.hide)return t;var s=o[n],l=t[s]||{hasStack:!1,stackGroups:{}};if(lc(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(e),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[uc("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[e]};return lx(lx({},t),{},cx({},s,l))}),{});return Object.keys(a).reduce((function(e,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(e,o){var a=s.stackGroups[o];return lx(lx({},e),{},cx({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:wx(t,a.items,i)}))}),{})),lx(lx({},e),{},cx({},o,s))}),{})}(f,_,"".concat(y,"Id"),"".concat(v,"Id"),p,m),x=l.reduce((function(t,e){var n="".concat(e.axisType,"Map");return PT(PT({},t),{},TT({},n,RT(i,PT(PT({},e),{},{graphicalItems:_,stackGroups:e.axisType===y&&b,dataStartIndex:o,dataEndIndex:a}))))}),{}),w=FT(PT(PT({},x),{},{props:i,graphicalItems:_}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(x).forEach((function(t){x[t]=u(i,x[t],w,t.replace("Map",""),e)}));var S=function(t){var e=dc(t),n=yx(e,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:iu()(n,(function(t){return t.coordinate})),tooltipAxis:e,tooltipAxisBandSize:Cx(e,n)}}(x["".concat(v,"Map")]),k=d(i,PT(PT({},x),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:_,stackGroups:b,offset:w}));return PT(PT({formattedGraphicalItems:k,graphicalItems:_,offset:w,stackGroups:b},S),x)},f=function(t){function n(t){var i,o,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),TT(a=yT(this,n,[t]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),TT(a,"accessibilityManager",new fP),TT(a,"handleLegendBBoxUpdate",(function(t){if(t){var e=a.state,n=e.dataStartIndex,r=e.dataEndIndex,i=e.updateId;a.setState(PT({legendBBox:t},p({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},PT(PT({},a.state),{},{legendBBox:t}))))}})),TT(a,"handleReceiveSyncEvent",(function(t,e,n){if(a.props.syncId===t){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(e)}})),TT(a,"handleBrushChange",(function(t){var e=t.startIndex,n=t.endIndex;if(e!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return PT({dataStartIndex:e,dataEndIndex:n},p({props:a.props,dataStartIndex:e,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:e,dataEndIndex:n})}})),TT(a,"handleMouseEnter",(function(t){var e=a.getMouseInfo(t);if(e){var n=PT(PT({},e),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;_c()(r)&&r(n,t)}})),TT(a,"triggeredAfterMouseMove",(function(t){var e=a.getMouseInfo(t),n=e?PT(PT({},e),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;_c()(r)&&r(n,t)})),TT(a,"handleItemMouseEnter",(function(t){a.setState((function(){return{isTooltipActive:!0,activeItem:t,activePayload:t.tooltipPayload,activeCoordinate:t.tooltipPosition||{x:t.cx,y:t.cy}}}))})),TT(a,"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),TT(a,"handleMouseMove",(function(t){t.persist(),a.throttleTriggeredAfterMouseMove(t)})),TT(a,"handleMouseLeave",(function(t){a.throttleTriggeredAfterMouseMove.cancel();var e={isTooltipActive:!1};a.setState(e),a.triggerSyncEvent(e);var n=a.props.onMouseLeave;_c()(n)&&n(e,t)})),TT(a,"handleOuterEvent",(function(t){var e,n=function(t){var e=t&&t.type;return e&&Lc[e]?Lc[e]:null}(t),r=nc()(a.props,"".concat(n));n&&_c()(r)&&r(null!==(e=/.*touch.*/i.test(n)?a.getMouseInfo(t.changedTouches[0]):a.getMouseInfo(t))&&void 0!==e?e:{},t)})),TT(a,"handleClick",(function(t){var e=a.getMouseInfo(t);if(e){var n=PT(PT({},e),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;_c()(r)&&r(n,t)}})),TT(a,"handleMouseDown",(function(t){var e=a.props.onMouseDown;_c()(e)&&e(a.getMouseInfo(t),t)})),TT(a,"handleMouseUp",(function(t){var e=a.props.onMouseUp;_c()(e)&&e(a.getMouseInfo(t),t)})),TT(a,"handleTouchMove",(function(t){null!=t.changedTouches&&t.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(t.changedTouches[0])})),TT(a,"handleTouchStart",(function(t){null!=t.changedTouches&&t.changedTouches.length>0&&a.handleMouseDown(t.changedTouches[0])})),TT(a,"handleTouchEnd",(function(t){null!=t.changedTouches&&t.changedTouches.length>0&&a.handleMouseUp(t.changedTouches[0])})),TT(a,"handleDoubleClick",(function(t){var e=a.props.onDoubleClick;_c()(e)&&e(a.getMouseInfo(t),t)})),TT(a,"handleContextMenu",(function(t){var e=a.props.onContextMenu;_c()(e)&&e(a.getMouseInfo(t),t)})),TT(a,"triggerSyncEvent",(function(t){void 0!==a.props.syncId&&lP.emit(cP,a.props.syncId,t,a.eventEmitterSymbol)})),TT(a,"applySyncEvent",(function(t){var e=a.props,n=e.layout,r=e.syncMethod,i=a.state.updateId,o=t.dataStartIndex,s=t.dataEndIndex;if(void 0!==t.dataStartIndex||void 0!==t.dataEndIndex)a.setState(PT({dataStartIndex:o,dataEndIndex:s},p({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==t.activeTooltipIndex){var l=t.chartX,c=t.chartY,u=t.activeTooltipIndex,h=a.state,d=h.offset,f=h.tooltipTicks;if(!d)return;if("function"===typeof r)u=r(f,t);else if("value"===r){u=-1;for(var m=0;m<f.length;m++)if(f[m].value===t.activeLabel){u=m;break}}var g=PT(PT({},d),{},{x:d.left,y:d.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),_=f[u]&&f[u].value,b=LT(a.state,a.props.data,u),x=f[u]?{x:"horizontal"===n?f[u].coordinate:y,y:"horizontal"===n?v:f[u].coordinate}:MT;a.setState(PT(PT({},t),{},{activeLabel:_,activeCoordinate:x,activePayload:b,activeTooltipIndex:u}))}else a.setState(t)})),TT(a,"renderCursor",(function(t){var n,i=a.state,o=i.isTooltipActive,s=i.activeCoordinate,l=i.activePayload,c=i.offset,u=i.activeTooltipIndex,h=i.tooltipAxisBandSize,d=a.getTooltipEventType(),p=null!==(n=t.props.active)&&void 0!==n?n:o,f=a.props.layout,m=t.key||"_recharts-cursor";return r.createElement(cT,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:e,element:t,isActive:p,layout:f,offset:c,tooltipAxisBandSize:h,tooltipEventType:d})})),TT(a,"renderPolarAxis",(function(t,e,n){var i=nc()(t,"type.axisType"),o=nc()(a.state,"".concat(i,"Map")),s=t.type.defaultProps,l=void 0!==s?PT(PT({},s),t.props):t.props,c=o&&o[l["".concat(i,"Id")]];return(0,r.cloneElement)(t,PT(PT({},c),{},{className:rr(i,c.className),key:t.key||"".concat(e,"-").concat(n),ticks:yx(c,!0)}))})),TT(a,"renderPolarGrid",(function(t){var e=t.props,n=e.radialLines,i=e.polarAngles,o=e.polarRadius,s=a.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=dc(l),h=dc(c),d=h.cx,p=h.cy,f=h.innerRadius,m=h.outerRadius;return(0,r.cloneElement)(t,{polarAngles:Array.isArray(i)?i:yx(h,!0).map((function(t){return t.coordinate})),polarRadius:Array.isArray(o)?o:yx(u,!0).map((function(t){return t.coordinate})),cx:d,cy:p,innerRadius:f,outerRadius:m,key:t.key||"polar-grid",radialLines:n})})),TT(a,"renderLegend",(function(){var t=a.state.formattedGraphicalItems,e=a.props,n=e.children,i=e.width,o=e.height,s=a.props.margin||{},l=i-(s.left||0)-(s.right||0),u=rx({children:n,formattedGraphicalItems:t,legendWidth:l,legendContent:c});if(!u)return null;var h=u.item,d=mT(u,uT);return(0,r.cloneElement)(h,PT(PT({},d),{},{chartWidth:i,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),TT(a,"renderTooltip",(function(){var t,e=a.props,n=e.children,i=e.accessibilityLayer,o=Fc(n,nh);if(!o)return null;var s=a.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,h=s.activeLabel,d=s.offset,p=null!==(t=o.props.active)&&void 0!==t?t:l;return(0,r.cloneElement)(o,{viewBox:PT(PT({},d),{},{x:d.left,y:d.top}),active:p,label:h,payload:p?u:[],coordinate:c,accessibilityLayer:i})})),TT(a,"renderBrush",(function(t){var e=a.props,n=e.margin,i=e.data,o=a.state,s=o.offset,l=o.dataStartIndex,c=o.dataEndIndex,u=o.updateId;return(0,r.cloneElement)(t,{key:t.key||"_recharts-brush",onChange:_x(a.handleBrushChange,t.props.onChange),data:i,x:sc(t.props.x)?t.props.x:s.left,y:sc(t.props.y)?t.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:sc(t.props.width)?t.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),TT(a,"renderReferenceElement",(function(t,e,n){if(!t)return null;var i=a.clipPathId,o=a.state,s=o.xAxisMap,l=o.yAxisMap,c=o.offset,u=t.type.defaultProps||{},h=t.props,d=h.xAxisId,p=void 0===d?u.xAxisId:d,f=h.yAxisId,m=void 0===f?u.yAxisId:f;return(0,r.cloneElement)(t,{key:t.key||"".concat(e,"-").concat(n),xAxis:s[p],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:i})})),TT(a,"renderActivePoints",(function(t){var e=t.item,r=t.activePoint,i=t.basePoint,o=t.childIndex,a=t.isRange,s=[],l=e.props.key,c=void 0!==e.item.type.defaultProps?PT(PT({},e.item.type.defaultProps),e.item.props):e.item.props,u=c.activeDot,h=PT(PT({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:dx(e.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Zc(u,!1)),Ac(u));return s.push(n.renderActiveDot(u,h,"".concat(l,"-activePoint-").concat(o))),i?s.push(n.renderActiveDot(u,PT(PT({},h),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s})),TT(a,"renderGraphicChild",(function(t,e,n){var i=a.filterFormatItem(t,e,n);if(!i)return null;var o=a.getTooltipEventType(),s=a.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,h=s.activeLabel,d=Fc(a.props.children,nh),p=i.props,f=p.points,m=p.isRange,g=p.baseLine,y=void 0!==i.item.type.defaultProps?PT(PT({},i.item.type.defaultProps),i.item.props):i.item.props,v=y.activeDot,_=y.hide,b=y.activeBar,x=y.activeShape,w=Boolean(!_&&l&&d&&(v||b||x)),S={};"axis"!==o&&d&&"click"===d.props.trigger?S={onClick:_x(a.handleItemMouseEnter,t.props.onClick)}:"axis"!==o&&(S={onMouseLeave:_x(a.handleItemMouseLeave,t.props.onMouseLeave),onMouseEnter:_x(a.handleItemMouseEnter,t.props.onMouseEnter)});var k=(0,r.cloneElement)(t,PT(PT({},i.props),S));if(w){if(!(u>=0)){var P,T=(null!==(P=a.getItemByXY(a.state.activeCoordinate))&&void 0!==P?P:{graphicalItem:k}).graphicalItem,E=T.item,C=void 0===E?t:E,A=T.childIndex,M=PT(PT(PT({},i.props),S),{},{activeIndex:A});return[(0,r.cloneElement)(C,M),null,null]}var O,I;if(c.dataKey&&!c.allowDuplicatedCategory){var z="function"===typeof c.dataKey?function(t){return"function"===typeof c.dataKey?c.dataKey(t.payload):null}:"payload.".concat(c.dataKey.toString());O=fc(f,z,h),I=m&&g&&fc(g,z,h)}else O=null===f||void 0===f?void 0:f[u],I=m&&g&&g[u];if(x||b){var L=void 0!==t.props.activeIndex?t.props.activeIndex:u;return[(0,r.cloneElement)(t,PT(PT(PT({},i.props),S),{},{activeIndex:L})),null,null]}if(!yc()(O))return[k].concat(xT(a.renderActivePoints({item:i,activePoint:O,basePoint:I,childIndex:u,isRange:m})))}return m?[k,null,null]:[k,null]})),TT(a,"renderCustomized",(function(t,e,n){return(0,r.cloneElement)(t,PT(PT({key:"recharts-customized-".concat(n)},a.props),a.state))})),TT(a,"renderMap",{CartesianGrid:{handler:OT,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:OT},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:OT},YAxis:{handler:OT},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(i=t.id)&&void 0!==i?i:uc("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=Kl()(a.triggeredAfterMouseMove,null!==(o=t.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bT(t,e)}(n,t),i=n,a=[{key:"componentDidMount",value:function(){var t,e;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(t=this.props.margin.left)&&void 0!==t?t:0,top:null!==(e=this.props.margin.top)&&void 0!==e?e:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var t=this.props,e=t.children,n=t.data,r=t.height,i=t.layout,o=Fc(e,nh);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=LT(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,h="horizontal"===i?{x:c,y:u}:{y:c,x:u},d=this.state.formattedGraphicalItems.find((function(t){return"Scatter"===t.item.type.name}));d&&(h=PT(PT({},h),d.props.points[a].tooltipPosition),l=d.props.points[a].tooltipPayload);var p={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:h};this.setState(p),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(t,e){return this.props.accessibilityLayer?(this.state.tooltipTicks!==e.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==t.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==t.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(t){qc([Fc(t.children,nh)],[Fc(this.props.children,nh)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var t=Fc(this.props.children,nh);if(t&&"boolean"===typeof t.props.shared){var e=t.props.shared?"axis":"item";return s.indexOf(e)>=0?e:o}return o}},{key:"getMouseInfo",value:function(t){if(!this.container)return null;var e,n=this.container,r=n.getBoundingClientRect(),i={top:(e=r).top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(t.pageX-i.left),chartY:Math.round(t.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&u){var h=dc(c).scale,d=dc(u).scale,p=h&&h.invert?h.invert(o.chartX):null,f=d&&d.invert?d.invert(o.chartY):null;return PT(PT({},o),{},{xValue:p,yValue:f})}var m=DT(this.state,this.props.data,this.props.layout,s);return m?PT(PT({},o),m):null}},{key:"inRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=t/n,o=e/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=dc(l);return iw({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var t=this.props.children,e=this.getTooltipEventType(),n=Fc(t,nh),r={};return n&&"axis"===e&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),PT(PT({},Ac(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){lP.on(cP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){lP.removeListener(cP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(t,e,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===t||a.props.key===t.key||e===Dc(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var t=this.clipPathId,e=this.state.offset,n=e.left,i=e.top,o=e.height,a=e.width;return r.createElement("defs",null,r.createElement("clipPath",{id:t},r.createElement("rect",{x:n,y:i,height:o,width:a})))}},{key:"getXScales",value:function(){var t=this.state.xAxisMap;return t?Object.entries(t).reduce((function(t,e){var n=fT(e,2),r=n[0],i=n[1];return PT(PT({},t),{},TT({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var t=this.state.yAxisMap;return t?Object.entries(t).reduce((function(t,e){var n=fT(e,2),r=n[0],i=n[1];return PT(PT({},t),{},TT({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(t){var e;return null===(e=this.state.xAxisMap)||void 0===e||null===(e=e[t])||void 0===e?void 0:e.scale}},{key:"getYScaleByAxisId",value:function(t){var e;return null===(e=this.state.yAxisMap)||void 0===e||null===(e=e[t])||void 0===e?void 0:e.scale}},{key:"getItemByXY",value:function(t){var e=this.state,n=e.formattedGraphicalItems,r=e.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?PT(PT({},l.type.defaultProps),l.props):l.props,u=Dc(l.type);if("Bar"===u){var h=(s.data||[]).find((function(e){return nf(t,e)}));if(h)return{graphicalItem:a,payload:h}}else if("RadialBar"===u){var d=(s.data||[]).find((function(e){return iw(t,e)}));if(d)return{graphicalItem:a,payload:d}}else if(mS(a,r)||gS(a,r)||yS(a,r)){var p=xS({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),f=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:PT(PT({},a),{},{childIndex:f}),payload:yS(a,r)?c.data[p]:a.props.data[p]}}}return null}},{key:"render",value:function(){var t=this;if(!$c(this))return null;var e,n,i=this.props,o=i.children,a=i.className,s=i.width,l=i.height,c=i.style,u=i.compact,h=i.title,d=i.desc,p=mT(i,hT),f=Zc(p,!1);if(u)return r.createElement(Tk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement(uu,pT({},f,{width:s,height:l,title:h,desc:d}),this.renderClipPath(),Wc(o,this.renderMap)));this.props.accessibilityLayer&&(f.tabIndex=null!==(e=this.props.tabIndex)&&void 0!==e?e:0,f.role=null!==(n=this.props.role)&&void 0!==n?n:"application",f.onKeyDown=function(e){t.accessibilityManager.keyboardEvent(e)},f.onFocus=function(){t.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return r.createElement(Tk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement("div",pT({className:rr("recharts-wrapper",a),style:PT({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(e){t.container=e}}),r.createElement(uu,pT({},f,{width:s,height:l,title:h,desc:d,style:AT}),this.renderClipPath(),Wc(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&gT(i.prototype,a),l&&gT(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a,l}(r.Component);TT(f,"displayName",e),TT(f,"defaultProps",PT({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),TT(f,"getDerivedStateFromProps",(function(t,e){var n=t.dataKey,r=t.data,i=t.children,o=t.width,a=t.height,s=t.layout,l=t.stackOffset,c=t.margin,u=e.dataStartIndex,h=e.dataEndIndex;if(void 0===e.updateId){var d=BT(t);return PT(PT(PT({},d),{},{updateId:0},p(PT(PT({props:t},d),{},{updateId:0}),e)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==e.prevDataKey||r!==e.prevData||o!==e.prevWidth||a!==e.prevHeight||s!==e.prevLayout||l!==e.prevStackOffset||!Sc(c,e.prevMargin)){var f=BT(t),m={chartX:e.chartX,chartY:e.chartY,isTooltipActive:e.isTooltipActive},g=PT(PT({},DT(e,r,s)),{},{updateId:e.updateId+1}),y=PT(PT(PT({},f),m),g);return PT(PT(PT({},y),p(PT({props:t},y),e)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!qc(i,e.prevChildren)){var v,_,b,x,w=Fc(i,Gx),S=w&&null!==(v=null===(_=w.props)||void 0===_?void 0:_.startIndex)&&void 0!==v?v:u,k=w&&null!==(b=null===(x=w.props)||void 0===x?void 0:x.endIndex)&&void 0!==b?b:h,P=S!==u||k!==h,T=!yc()(r)&&!P?e.updateId:e.updateId+1;return PT(PT({updateId:T},p(PT(PT({props:t},e),{},{updateId:T,dataStartIndex:S,dataEndIndex:k}),e)),{},{prevChildren:i,dataStartIndex:S,dataEndIndex:k})}return null})),TT(f,"renderActiveDot",(function(t,e,n){var i;return i=(0,r.isValidElement)(t)?(0,r.cloneElement)(t,e):_c()(t)?t(e):r.createElement(vd,e),r.createElement(fu,{className:"recharts-active-dot",key:n},i)}));var m=(0,r.forwardRef)((function(t,e){return r.createElement(f,pT({},t,{ref:e}))}));return m.displayName=f.displayName,m}({chartName:"BarChart",GraphicalChild:qS,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:wE},{axisType:"yAxis",AxisComp:zE}],formatAxisMap:function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Fc(c,qS);return u.reduce((function(a,s){var c,u,p,f,m,g=n[s],y=g.orientation,v=g.domain,_=g.padding,b=void 0===_?{}:_,x=g.mirror,w=g.reversed,S="".concat(y).concat(x?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var k=v[1]-v[0],P=1/0,T=g.categoricalDomain.sort();if(T.forEach((function(t,e){e>0&&(P=Math.min((t||0)-(T[e-1]||0),P))})),Number.isFinite(P)){var E=P/k,C="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=E*C/2),"no-gap"===g.padding){var A=hc(t.barCategoryGap,E*C),M=E*C/2;c=M-A-(M-A)/C*A}}}u="xAxis"===i?[r.left+(b.left||0)+(c||0),r.left+r.width-(b.right||0)-(c||0)]:"yAxis"===i?"horizontal"===l?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(c||0),r.top+r.height-(b.bottom||0)-(c||0)]:g.range,w&&(u=[u[1],u[0]]);var O=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:mf(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:Ng(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:yf(),realScaleType:"point"}:"category"===o?{scale:mf(),realScaleType:"band"}:{scale:Ng(),realScaleType:"linear"};if(Jl()(i)){var l="scale".concat(ih()(i));return{scale:(e[l]||yf)(),realScaleType:e[l]?l:"point"}}return _c()(i)?{scale:i}:{scale:yf(),realScaleType:"point"}}(g,o,d),I=O.scale,z=O.realScaleType;I.domain(v).range(u),function(t){var e=t.domain();if(e&&!(e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-bx,o=Math.max(r[0],r[1])+bx,a=t(e[0]),s=t(e[n-1]);(a<i||a>o||s<i||s>o)&&t.domain([e[0],e[n-1]])}}(I);var L=function(t,e){var n=e.realScaleType,r=e.type,i=e.tickCount,o=e.originalDomain,a=e.allowDecimals,s=n||e.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=t.domain();if(!l.length)return null;var c=Rb(l,i,a);return t.domain([ob()(c),rb()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=t.domain();return{niceTicks:Bb(u,i,a)}}return null}(I,XS(XS({},g),{},{realScaleType:z}));"xAxis"===i?(m="top"===y&&!x||"bottom"===y&&x,p=r.left,f=h[S]-m*g.height):"yAxis"===i&&(m="left"===y&&!x||"right"===y&&x,p=h[S]-m*g.width,f=r.top);var D=XS(XS(XS({},g),L),{},{realScaleType:z,x:p,y:f,scale:I,width:"xAxis"===i?r.width:g.width,height:"yAxis"===i?r.height:g.height});return D.bandSize=Cx(D,L),g.hide||"xAxis"!==i?g.hide||(h[S]+=(m?-1:1)*D.width):h[S]+=(m?-1:1)*D.height,XS(XS({},a),{},KS({},s,D))}),{})}}),DE=["x1","y1","x2","y2","key"],jE=["offset"];function RE(t){return RE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RE(t)}function BE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function NE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?BE(Object(n),!0).forEach((function(e){FE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function FE(t,e,n){return e=function(t){var e=function(t,e){if("object"!=RE(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=RE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==RE(e)?e:e+""}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(this,arguments)}function VE(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var UE=function(t){var e=t.fill;if(!e||"none"===e)return null;var n=t.fillOpacity,i=t.x,o=t.y,a=t.width,s=t.height,l=t.ry;return r.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ZE(t,e){var n;if(r.isValidElement(t))n=r.cloneElement(t,e);else if(_c()(t))n=t(e);else{var i=e.x1,o=e.y1,a=e.x2,s=e.y2,l=e.key,c=VE(e,DE),u=Zc(c,!1),h=(u.offset,VE(u,jE));n=r.createElement("line",$E({},h,{x1:i,y1:o,x2:a,y2:s,fill:"none",key:l}))}return n}function qE(t){var e=t.x,n=t.width,i=t.horizontal,o=void 0===i||i,a=t.horizontalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=NE(NE({},t),{},{x1:e,y1:r,x2:e+n,y2:r,key:"line-".concat(i),index:i});return ZE(o,a)}));return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function HE(t){var e=t.y,n=t.height,i=t.vertical,o=void 0===i||i,a=t.verticalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=NE(NE({},t),{},{x1:r,y1:e,x2:r,y2:e+n,key:"line-".concat(i),index:i});return ZE(o,a)}));return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function WE(t){var e=t.horizontalFill,n=t.fillOpacity,i=t.x,o=t.y,a=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal;if(!(void 0===c||c)||!e||!e.length)return null;var u=l.map((function(t){return Math.round(t+o-o)})).sort((function(t,e){return t-e}));o!==u[0]&&u.unshift(0);var h=u.map((function(t,l){var c=!u[l+1]?o+s-t:u[l+1]-t;if(c<=0)return null;var h=l%e.length;return r.createElement("rect",{key:"react-".concat(l),y:t,x:i,height:c,width:a,stroke:"none",fill:e[h],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function GE(t){var e=t.vertical,n=void 0===e||e,i=t.verticalFill,o=t.fillOpacity,a=t.x,s=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!i||!i.length)return null;var h=u.map((function(t){return Math.round(t+a-a)})).sort((function(t,e){return t-e}));a!==h[0]&&h.unshift(0);var d=h.map((function(t,e){var n=!h[e+1]?a+l-t:h[e+1]-t;if(n<=0)return null;var u=e%i.length;return r.createElement("rect",{key:"react-".concat(e),x:t,y:s,width:n,height:c,stroke:"none",fill:i[u],fillOpacity:o,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var XE=function(t,e){var n=t.xAxis,r=t.width,i=t.height,o=t.offset;return gx(XT(NE(NE(NE({},hE.defaultProps),n),{},{ticks:yx(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},KE=function(t,e){var n=t.yAxis,r=t.width,i=t.height,o=t.offset;return gx(XT(NE(NE(NE({},hE.defaultProps),n),{},{ticks:yx(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},YE={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function JE(t){var e,n,i,o,a,s,l=Ak(),c=Mk(),u=(0,r.useContext)(wk),h=NE(NE({},t),{},{stroke:null!==(e=t.stroke)&&void 0!==e?e:YE.stroke,fill:null!==(n=t.fill)&&void 0!==n?n:YE.fill,horizontal:null!==(i=t.horizontal)&&void 0!==i?i:YE.horizontal,horizontalFill:null!==(o=t.horizontalFill)&&void 0!==o?o:YE.horizontalFill,vertical:null!==(a=t.vertical)&&void 0!==a?a:YE.vertical,verticalFill:null!==(s=t.verticalFill)&&void 0!==s?s:YE.verticalFill,x:sc(t.x)?t.x:u.left,y:sc(t.y)?t.y:u.top,width:sc(t.width)?t.width:u.width,height:sc(t.height)?t.height:u.height}),d=h.x,p=h.y,f=h.width,m=h.height,g=h.syncWithTicks,y=h.horizontalValues,v=h.verticalValues,_=function(){var t=(0,r.useContext)(_k);return dc(t)}(),b=function(){var t=(0,r.useContext)(bk);return gk()(t,(function(t){return xw()(t.domain,Number.isFinite)}))||dc(t)}();if(!sc(f)||f<=0||!sc(m)||m<=0||!sc(d)||d!==+d||!sc(p)||p!==+p)return null;var x=h.verticalCoordinatesGenerator||XE,w=h.horizontalCoordinatesGenerator||KE,S=h.horizontalPoints,k=h.verticalPoints;if((!S||!S.length)&&_c()(w)){var P=y&&y.length,T=w({yAxis:b?NE(NE({},b),{},{ticks:P?y:b.ticks}):void 0,width:l,height:c,offset:u},!!P||g);mc(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(RE(T),"]")),Array.isArray(T)&&(S=T)}if((!k||!k.length)&&_c()(x)){var E=v&&v.length,C=x({xAxis:_?NE(NE({},_),{},{ticks:E?v:_.ticks}):void 0,width:l,height:c,offset:u},!!E||g);mc(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(RE(C),"]")),Array.isArray(C)&&(k=C)}return r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(UE,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),r.createElement(qE,$E({},h,{offset:u,horizontalPoints:S,xAxis:_,yAxis:b})),r.createElement(HE,$E({},h,{offset:u,verticalPoints:k,xAxis:_,yAxis:b})),r.createElement(WE,$E({},h,{horizontalPoints:S})),r.createElement(GE,$E({},h,{verticalPoints:k})))}function QE(){const t=Q(),e=nt(),[n,i]=(0,r.useState)(),[o,a]=(0,r.useState)(),[s,l]=(0,r.useState)();return(0,r.useEffect)((()=>{const e=document.querySelector(`#mainNav [data-href="${t.pathname}"]`);return e.classList.add("currentSubPage"),er.on("TakeBikeStatus",(t=>{const e=[];for(const n in t){const r=parseInt(n.split("").pop());e.push((0,we.jsxs)(Se,{style:{"--legendColor":`var(--${t[n]})`},children:[(0,we.jsx)(Gl,{}),(0,we.jsxs)("span",{children:["E-Bike ",r]})]},r))}i(e)})),er.on("TakeDailyUsage",(t=>a(t))),er.on("TakeWeeklyUsage",(t=>l(t))),er.emit("WantBikeStatus"),er.emit("WantDailyUsage"),er.emit("WantWeeklyUsage"),()=>e.classList.remove("currentSubPage")}),[]),(0,we.jsxs)(Pe,{id:"bikeOverview",children:[(0,we.jsx)(ke,{className:"span4 title",children:"Overview"}),(0,we.jsxs)(ke,{className:"span1 bikeStatus",children:[(0,we.jsx)("span",{className:"title",children:"Bike Status"}),(0,we.jsxs)(Se,{className:"holder",children:[(0,we.jsxs)(ke,{className:"legend",children:[(0,we.jsx)("span",{style:{"--legendColor":"var(--green)"},children:"Available"}),(0,we.jsx)("span",{style:{"--legendColor":"var(--yellow)"},children:"Reserved"}),(0,we.jsx)("span",{style:{"--legendColor":"var(--red)"},children:"In Use"})]}),(0,we.jsx)(ke,{className:"bikes",children:n})]})]}),(0,we.jsx)(Se,{className:"span3"}),(0,we.jsx)(Se,{className:"span4 mapButton",children:(0,we.jsxs)(Vl,{onClick:()=>e("/e-bikes/tracking"),children:[(0,we.jsx)(Ae,{className:"map",center:[10.9029,76.8995],zoom:17,zoomControl:!1,scrollWheelZoom:!1,attributionControl:!1,children:(0,we.jsx)(Te,{attribution:Oe[0].attribution,url:Oe[0].URL})}),(0,we.jsx)("span",{className:"text",children:(0,we.jsx)("span",{className:"actualText",children:"Live Tracking"})})]})}),(0,we.jsxs)(ke,{className:"span2 graph",children:[(0,we.jsx)("span",{children:"Daily Usage"}),(0,we.jsx)(tu,{height:"100%",width:"100%",children:(0,we.jsxs)(LE,{data:o,layout:"vertical",children:[(0,we.jsx)(JE,{strokeDasharray:"3",stroke:"rgba(255, 255, 255, 0.5)"}),(0,we.jsx)(wE,{fontSize:12,type:"number",dataKey:"value",stroke:"rgba(255, 255, 255, 0.75)"}),(0,we.jsx)(zE,{style:{width:"fit-content"},fontSize:12,type:"category",dataKey:"category",stroke:"rgba(255, 255, 255, 0.75)"}),(0,we.jsx)(qS,{dataKey:"value",fill:"currentcolor",className:"bar1",barSize:10})]})})]}),(0,we.jsxs)(ke,{className:"span2 graph",children:[(0,we.jsx)("span",{children:"Weekly Usage"}),(0,we.jsx)(tu,{height:"100%",width:"100%",children:(0,we.jsxs)(LE,{data:s,layout:"vertical",children:[(0,we.jsx)(JE,{strokeDasharray:"3",stroke:"rgba(255, 255, 255, 0.5)"}),(0,we.jsx)(wE,{fontSize:12,type:"number",dataKey:"value",stroke:"rgba(255, 255, 255, 0.75)"}),(0,we.jsx)(zE,{style:{width:"fit-content"},fontSize:12,type:"category",dataKey:"category",stroke:"rgba(255, 255, 255, 0.75)"}),(0,we.jsx)(qS,{dataKey:"value",fill:"currentcolor",className:"bar2",barSize:10})]})})]})]})}JE.displayName="CartesianGrid";const tC=function(t){function e(e,n){const{instance:i,context:o}=t(e).current;(0,r.useImperativeHandle)(n,(()=>i));const{children:a}=e;return null==a?null:r.createElement(ue,{value:o},a)}return(0,r.forwardRef)(e)}(ve(pe((function(t,e){let{positions:n,...r}=t;const i=new xe.Polyline(n,r);return de(i,(o=e,a={overlayContainer:i},Object.freeze({...o,...a})));var o,a}),(function(t,e,n){e.positions!==n.positions&&t.setLatLngs(e.positions)}))));const eC=_e((function(t,e){let{url:n,...r}=t;return de(new xe.TileLayer(n,me(r,e)),e)}),(function(t,e,n){be(t,e,n);const{url:r}=e;null!=r&&r!==n.url&&t.setUrl(r)}));function nC(t){return il("MuiToggleButton",t)}const rC=ol("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]);const iC=r.createContext({});const oC=r.createContext(void 0);function aC(t,e){return void 0!==e&&void 0!==t&&(Array.isArray(e)?e.includes(t):t===e)}const sC=Ts(yl,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${vl(n.size)}`]]}})(As((t=>{let{theme:e}=t;return{...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${rC.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${rC.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:fr(e.palette.text.primary,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:fr(e.palette.text.primary,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:fr(e.palette.text.primary,e.palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(_l()).map((t=>{let[n]=t;return{props:{color:n},style:{[`&.${rC.selected}`]:{color:(e.vars||e).palette[n].main,backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:fr(e.palette[n].main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:fr(e.palette[n].main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:fr(e.palette[n].main,e.palette.action.selectedOpacity)}}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}}))),lC=r.forwardRef((function(t,e){const{value:n,...i}=r.useContext(iC),o=r.useContext(oC),a=Is({props:ir({...i,selected:aC(t.value,n)},t),name:"MuiToggleButton"}),{children:s,className:l,color:c="standard",disabled:u=!1,disableFocusRipple:h=!1,fullWidth:d=!1,onChange:p,onClick:f,selected:m,size:g="medium",value:y,...v}=a,_={...a,color:c,disabled:u,disableFocusRipple:h,fullWidth:d,size:g},b=(t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:o,color:a}=t;return or({root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${vl(o)}`,a]},nC,e)})(_),x=o||"";return(0,we.jsx)(sC,{className:rr(i.className,b.root,l,x),disabled:u,focusRipple:!h,ref:e,onClick:t=>{f&&(f(t,y),t.defaultPrevented)||p&&p(t,y)},onChange:p,value:y,ownerState:_,"aria-pressed":m,...v,children:s})})),cC=lC,uC=Wl((0,we.jsx)("path",{d:"M2.06 10.06c.51.51 1.32.56 1.87.1 4.67-3.84 11.45-3.84 16.13-.01.56.46 1.38.42 1.89-.09.59-.59.55-1.57-.1-2.1-5.71-4.67-13.97-4.67-19.69 0-.65.52-.7 1.5-.1 2.1m7.76 7.76 1.47 1.47c.39.39 1.02.39 1.41 0l1.47-1.47c.47-.47.37-1.28-.23-1.59-1.22-.63-2.68-.63-3.91 0-.57.31-.68 1.12-.21 1.59m-3.73-3.73c.49.49 1.26.54 1.83.13 2.44-1.73 5.72-1.73 8.16 0 .57.4 1.34.36 1.83-.13l.01-.01c.6-.6.56-1.62-.13-2.11-3.44-2.49-8.13-2.49-11.58 0-.69.5-.73 1.51-.12 2.12"}),"WifiRounded"),hC=Wl((0,we.jsx)("path",{d:"M20.06 10.14c.56.46 1.38.42 1.89-.09.59-.59.55-1.57-.1-2.1-3.59-2.94-8.2-4.03-12.55-3.26l2.59 2.59c2.89-.03 5.8.92 8.17 2.86m-2.27 1.83c-.78-.57-1.63-1-2.52-1.3l2.95 2.95c.24-.58.1-1.27-.43-1.65m-3.84 4.26c-1.22-.63-2.68-.63-3.91 0-.59.31-.7 1.12-.23 1.59l1.47 1.47c.39.39 1.02.39 1.41 0l1.47-1.47c.49-.47.39-1.28-.21-1.59m5.73 1.67L4.12 2.34a.996.996 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L5.05 6.1c-1.01.5-1.99 1.11-2.89 1.85-.65.53-.69 1.51-.1 2.1.51.51 1.32.56 1.87.1 1-.82 2.1-1.46 3.25-1.93l2.23 2.23c-1.13.3-2.21.8-3.19 1.51-.69.5-.73 1.51-.13 2.11l.01.01c.49.49 1.26.54 1.83.13 1.19-.84 2.58-1.26 3.97-1.29l6.37 6.37c.39.39 1.02.39 1.41 0 .39-.37.39-1 0-1.39"}),"WifiOffRounded"),dC=Wl((0,we.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"}),"LockOutlined"),pC=Wl((0,we.jsx)("path",{d:"M12 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6-5h-1V6c0-2.76-2.24-5-5-5-2.28 0-4.27 1.54-4.84 3.75-.14.54.18 1.08.72 1.22.53.14 1.08-.18 1.22-.72C9.44 3.93 10.63 3 12 3c1.65 0 3 1.35 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 11c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-8c0-.55.45-1 1-1h10c.55 0 1 .45 1 1z"}),"LockOpenRounded"),fC=Wl((0,we.jsx)("path",{d:"M9 16.17 5.53 12.7a.996.996 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41a.996.996 0 0 0-1.41 0z"}),"CheckRounded");function mC(){const t=Q(),e=[],n=[];for(let f=0;f<3;f++){const[t,i]=(0,r.useState)(!0);e.push(t),n.push(i)}const[i,o]=(0,r.useState)(),[a,s]=(0,r.useState)(),[l,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)("Map");function d(){const t=[];if(l)for(const n in i){const r=parseInt(n.split("").pop())-1;e[r]&&t.push((0,we.jsx)(tC,{lineCap:"round",lineJoin:"round",weight:3,color:i[n].pathColor,positions:i[n].coordinates},r))}return t}function p(){const t=[];for(const r in i){const i=parseInt(r.split("").pop())-1;t.push((0,we.jsxs)(Se,{className:"bike",children:[(0,we.jsx)(cC,{className:"bikeSelect"+(e[i]?" checked":""),selected:e[i],onChange:()=>n[i]((t=>!t)),disableRipple:!0,children:(0,we.jsx)(fC,{})}),(0,we.jsxs)("span",{children:["E-Bike ",i+1]})]},i))}return t}return(0,r.useEffect)((()=>{const e=document.querySelector(`#mainNav [data-href="${t.pathname}"]`);e.classList.add("currentSubPage"),er.on("TakeTracking",(t=>{o(t);const e=[];for(const n in t){const r=parseInt(n.split("").pop());e.push((0,we.jsxs)(Pe,{className:"parameters",children:[(0,we.jsxs)("span",{children:["E-Bike ",r]}),t[n].status?(0,we.jsx)(uC,{className:"wifi"}):(0,we.jsx)(hC,{className:"noWifi"}),(0,we.jsxs)("span",{children:[t[n].speed," kph"]}),(0,we.jsxs)("span",{children:[t[n].soc,"%"]}),t[n].lock?(0,we.jsx)(dC,{}):(0,we.jsx)(pC,{})]},r))}s(e)}));const n=setInterval((()=>{er.emit("WantTracking")}),2500);return()=>{e.classList.remove("currentSubPage"),clearInterval(n)}}),[]),(0,we.jsxs)(Se,{id:"trackingView",children:[(0,we.jsxs)(ke,{className:"stats "+(void 0===a?"preload":""),children:[(0,we.jsx)(Se,{className:"title",children:(0,we.jsx)("span",{children:"Live Tracking"})}),(0,we.jsx)("span",{className:"loader"}),(0,we.jsxs)(ke,{className:"data",children:[(0,we.jsxs)(Pe,{className:"parameters",children:[(0,we.jsx)("span",{children:"Bike"}),(0,we.jsx)("span",{children:"Status"}),(0,we.jsx)("span",{children:"Speed"}),(0,we.jsx)("span",{children:"SOC"}),(0,we.jsx)("span",{children:"Lock"})]}),a]}),(0,we.jsxs)(ke,{className:"mapSettings",children:[(0,we.jsx)("span",{className:"title",children:"Map settings"}),(0,we.jsxs)(Se,{className:"options",children:[(0,we.jsx)(ke,{className:"bikes",children:(0,we.jsx)(p,{})}),(0,we.jsxs)(ke,{className:"buttonWrapper",children:[(0,we.jsx)(cC,{className:"traceButton",onChange:()=>c((t=>!t)),disableRipple:!0,children:(0,we.jsxs)("span",{children:[l?"Untrace":"Trace"," Path"]})}),(0,we.jsx)(cC,{className:"tileButton",onChange:()=>h((t=>"Map"===t?"Satelite":"Map")),disableRipple:!0,children:(0,we.jsxs)("span",{children:["Switch to ","Map"===u?"Satelite":"Map"," view"]})})]})]})]})]}),(0,we.jsxs)(Ae,{id:"map",center:[10.9025,76.9001],minZoom:2,zoom:16,zoomControl:!1,scrollWheelZoom:!0,children:["Satelite"===u?(0,we.jsx)(eC,{attribution:Oe[1].attribution,url:Oe[1].URL}):(0,we.jsx)(Te,{attribution:Oe[0].attribution,url:Oe[0].URL}),(0,we.jsx)(d,{})]})]})}const gC=Wl((0,we.jsx)("path",{d:"M18 19H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h5c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.11 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1v5c0 .55-.45 1-1 1M14 4c0 .55.45 1 1 1h2.59l-9.13 9.13c-.39.39-.39 1.02 0 1.41s1.02.39 1.41 0L19 6.41V9c0 .55.45 1 1 1s1-.45 1-1V4c0-.55-.45-1-1-1h-5c-.55 0-1 .45-1 1"}),"OpenInNewRounded");function yC(){const t=nt(),e=Q(),[n,i]=(0,r.useState)();function o(e){let{target:n}=e;const r=n.dataset.id;t(r)}return(0,r.useEffect)((()=>{const t=document.querySelector(`#mainNav [data-href="${e.pathname}"]`);return t.classList.add("currentSubPage"),er.on("TakePastBookings",(t=>{const e=[];t.forEach((t=>{e.push((0,we.jsxs)(Pe,{className:"values","data-id":t.user,onClick:o,children:[(0,we.jsx)("span",{children:t.date}),(0,we.jsx)("span",{children:t.bike}),(0,we.jsx)("span",{children:t.user}),(0,we.jsx)("span",{children:t.distance}),(0,we.jsx)("span",{children:t.duration}),(0,we.jsx)(gC,{})]},t.key))})),i(e)})),er.emit("WantPastBookings"),()=>t.classList.remove("currentSubPage")}),[]),(0,we.jsxs)(ke,{id:"sessionsView",children:[(0,we.jsx)("span",{className:"title",children:"Bookings"}),(0,we.jsxs)(ke,{className:"data",children:[(0,we.jsxs)(Pe,{className:"parameters",children:[(0,we.jsx)("span",{children:"Date"}),(0,we.jsx)("span",{children:"Bike"}),(0,we.jsx)("span",{children:"User"}),(0,we.jsx)("span",{children:"Distance"}),(0,we.jsx)("span",{children:"Duration"}),(0,we.jsx)("span",{children:"More Info"})]}),(0,we.jsx)(ke,{className:"tableValues",children:n})]})]})}function vC(t){return il("MuiIconButton",t)}const _C=ol("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),bC=Ts(yl,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,"default"!==n.color&&e[`color${vl(n.color)}`],n.edge&&e[`edge${vl(n.edge)}`],e[`size${vl(n.size)}`]]}})(As((t=>{let{theme:e}=t;return{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}})),As((t=>{let{theme:e}=t;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(_l()).map((t=>{let[n]=t;return{props:{color:n},style:{color:(e.vars||e).palette[n].main}}})),...Object.entries(e.palette).filter(_l()).map((t=>{let[n]=t;return{props:{color:n},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fr((e.vars||e).palette[n].main,e.palette.action.hoverOpacity)}}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${_C.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${_C.loading}`]:{color:"transparent"}}}))),xC=Ts("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})((t=>{let{theme:e}=t;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}})),wC=r.forwardRef((function(t,e){const n=Is({props:t,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:a="default",disabled:s=!1,disableFocusRipple:l=!1,size:c="medium",id:u,loading:h=null,loadingIndicator:d,...p}=n,f=Sr(u),m=d??(0,we.jsx)(Ml,{"aria-labelledby":f,color:"inherit",size:16}),g={...n,edge:r,color:a,disabled:s,disableFocusRipple:l,loading:h,loadingIndicator:m,size:c},y=(t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:a}=t;return or({root:["root",a&&"loading",n&&"disabled","default"!==r&&`color${vl(r)}`,i&&`edge${vl(i)}`,`size${vl(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},vC,e)})(g);return(0,we.jsxs)(bC,{id:f,className:rr(y.root,o),centerRipple:!0,focusRipple:!l,disabled:s||h,ref:e,...p,ownerState:g,children:["boolean"===typeof h&&(0,we.jsx)("span",{className:y.loadingWrapper,style:{display:"contents"},children:(0,we.jsx)(xC,{className:y.loadingIndicator,ownerState:g,children:h&&m})}),i]})})),SC=wC,kC=Wl((0,we.jsx)("path",{d:"M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42a.996.996 0 0 0-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1"}),"ArrowBackRounded");function PC(){var t,e,n,i,o,a;const s=Q(),l=function(){let{matches:t}=r.useContext(K),e=t[t.length-1];return e?e.params:{}}(),c=nt(),[u,h]=(0,r.useState)({coordinates:[]}),[d,p]=(0,r.useState)(!0),[f,m]=(0,r.useState)("Map");return(0,r.useEffect)((()=>{const t=s.pathname.split("/");t.pop();const e=document.querySelector(`#mainNav [data-href="${t.join("/")}"]`);return e.classList.add("currentSubPage"),er.on("TakeEbikeSession",(t=>h(t))),er.emit("WantEbikeSession",{session:l.id}),()=>e.classList.remove("currentSubPage")}),[]),(0,we.jsxs)(Se,{id:"sessionView",children:[(0,we.jsxs)(ke,{className:"stats",children:[(0,we.jsxs)(ke,{className:"details",children:[(0,we.jsxs)(Se,{className:"title",children:[(0,we.jsx)(SC,{onClick:()=>c(-1),children:(0,we.jsx)(kC,{htmlColor:"var(--color)"})}),(0,we.jsx)("span",{children:"Session details"})]}),(0,we.jsxs)(Pe,{className:"table",children:[(0,we.jsx)("span",{children:"Booking Number"}),(0,we.jsxs)("span",{children:["#",u.bookingNumber]}),(0,we.jsx)("span",{children:"Booking Date"}),(0,we.jsx)("span",{children:u.bookingDate}),(0,we.jsx)("span",{children:"Bike number"}),(0,we.jsx)("span",{children:u.bike}),(0,we.jsx)("span",{children:"Used by"}),(0,we.jsx)("span",{children:u.user}),(0,we.jsx)("span",{children:"Start time"}),(0,we.jsx)("span",{children:null===(t=u.time)||void 0===t?void 0:t.start}),(0,we.jsx)("span",{children:"End time"}),(0,we.jsx)("span",{children:null===(e=u.time)||void 0===e?void 0:e.end}),(0,we.jsx)("span",{children:"Travel distance"}),(0,we.jsxs)("span",{children:[u.distance," m"]}),(0,we.jsx)("span",{children:"Travel time"}),(0,we.jsx)("span",{children:null===(n=u.time)||void 0===n?void 0:n.elapsed}),(0,we.jsx)("span",{children:"Average speed"}),(0,we.jsxs)("span",{children:[u.avgSpeed," kph"]}),(0,we.jsx)("span",{children:"Initial charge"}),(0,we.jsxs)("span",{children:[null===(i=u.charge)||void 0===i?void 0:i.start," %"]}),(0,we.jsx)("span",{children:"Final charge"}),(0,we.jsxs)("span",{children:[null===(o=u.charge)||void 0===o?void 0:o.end," %"]}),(0,we.jsx)("span",{children:"Net discharge"}),(0,we.jsxs)("span",{children:[null===(a=u.charge)||void 0===a?void 0:a.net," %"]})]})]}),(0,we.jsxs)(ke,{className:"mapSettings",children:[(0,we.jsx)("span",{className:"title",children:"Map settings"}),(0,we.jsxs)(ke,{className:"buttonWrapper",children:[(0,we.jsx)(cC,{className:"traceButton",onChange:()=>p((t=>!t)),disableRipple:!0,children:(0,we.jsxs)("span",{children:[d?"Untrace":"Trace"," Path"]})}),(0,we.jsx)(cC,{className:"tileButton",onChange:()=>m((t=>"Map"===t?"Satelite":"Map")),disableRipple:!0,children:(0,we.jsxs)("span",{children:["Switch to ","Map"===f?"Satelite":"Map"," view"]})})]})]})]}),(0,we.jsxs)(Ae,{id:"map",center:[10.9025,76.9001],minZoom:2,zoom:16,zoomControl:!1,scrollWheelZoom:!0,children:["Satelite"===f?(0,we.jsx)(eC,{attribution:Oe[1].attribution,url:Oe[1].URL}):(0,we.jsx)(Te,{attribution:Oe[0].attribution,url:Oe[0].URL}),d?(0,we.jsx)(tC,{lineCap:"round",lineJoin:"round",weight:3,color:"red",positions:u.coordinates}):null]})]})}const TC=Wl((0,we.jsx)("path",{d:"M19 7h-.82l-1.7-4.68C16.19 1.53 15.44 1 14.6 1H13c-.55 0-1 .45-1 1s.45 1 1 1h1.6l1.46 4h-4.81l-.36-1h.09c.55 0 1-.45 1-1s-.45-1-1-1H8c-.55 0-1 .45-1 1s.45 1 1 1h.75l1.82 5H9.9c-.44-2.23-2.31-3.88-4.65-3.99C2.45 6.87 0 9.2 0 12s2.2 5 5 5c2.46 0 4.45-1.69 4.9-4h4.2c.44 2.23 2.31 3.88 4.65 3.99 2.8.13 5.25-2.19 5.25-5C24 9.2 21.8 7 19 7M6 13h1.82c-.42 1.23-1.6 2.08-3.02 1.99-1.49-.09-2.73-1.35-2.8-2.85C1.93 10.39 3.27 9 5 9c1.33 0 2.42.83 2.82 2H6c-.55 0-1 .45-1 1s.45 1 1 1m8.1-2h-1.4l-.73-2H15c-.44.58-.76 1.25-.9 2m4.78 4c-1.54-.06-2.84-1.37-2.88-2.92-.02-.96.39-1.8 1.05-2.36l.62 1.7c.19.52.76.79 1.28.6s.79-.76.6-1.28l-.63-1.73.01-.01c1.71-.04 3.07 1.29 3.07 3 0 1.72-1.38 3.06-3.12 3M11 20H7l6 3v-2h4l-6-3z"}),"ElectricBikeRounded"),EC=Wl((0,we.jsx)("path",{d:"M12 9h4c.55 0 1-.45 1-1s-.45-1-1-1h-4c-.55 0-1 .45-1 1s.45 1 1 1m0 4h4c.55 0 1-.45 1-1s-.45-1-1-1h-4c-.55 0-1 .45-1 1s.45 1 1 1m0 4h4c.55 0 1-.45 1-1s-.45-1-1-1h-4c-.55 0-1 .45-1 1s.45 1 1 1M7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7zM20 3H4c-.55 0-1 .45-1 1v16c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1m-1 16H5V5h14z"}),"ListAltRounded"),CC=Wl((0,we.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m-5.5-2.5 7.51-3.49L17.5 6.5 9.99 9.99zm5.5-6.6c.61 0 1.1.49 1.1 1.1s-.49 1.1-1.1 1.1-1.1-.49-1.1-1.1.49-1.1 1.1-1.1"}),"ExploreOutlined"),AC=Wl((0,we.jsx)("path",{d:"m19.77 7.23.01-.01-3.19-3.19c-.29-.29-.77-.29-1.06 0s-.29.77 0 1.06l1.58 1.58c-1.05.4-1.76 1.47-1.58 2.71.16 1.1 1.1 1.99 2.2 2.11.47.05.88-.03 1.27-.2v7.21c0 .55-.45 1-1 1s-1-.45-1-1V14c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v15c0 .55.45 1 1 1h8c.55 0 1-.45 1-1v-6.5h1.5v4.86c0 1.31.94 2.5 2.24 2.63 1.5.15 2.76-1.02 2.76-2.49V9c0-.69-.28-1.32-.73-1.77M18 10c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1M8 16.12V13.5H6.83c-.38 0-.62-.4-.44-.74l2.67-5c.24-.45.94-.28.94.24v3h1.14c.38 0 .62.41.43.75l-2.64 4.62c-.25.44-.93.26-.93-.25"}),"EvStationRounded"),MC=Wl((0,we.jsx)("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 9V8c0-.55-.45-1-1-1s-1 .45-1 1v3c0 .55.45 1 1 1s1-.45 1-1m6 0V8c0-.55-.45-1-1-1s-1 .45-1 1v3c0 .55.45 1 1 1s1-.45 1-1m-2 5c0-1.1-.9-2-2-2s-2 .9-2 2v2h4z"}),"OutletOutlined"),OC=Wl((0,we.jsx)("path",{d:"M12 2.02c-5.51 0-9.98 4.47-9.98 9.98s4.47 9.98 9.98 9.98 9.98-4.47 9.98-9.98S17.51 2.02 12 2.02m-.52 15.86v-4.14H8.82c-.37 0-.62-.4-.44-.73l3.68-7.17c.23-.47.94-.3.94.23v4.19h2.54c.37 0 .61.39.45.72l-3.56 7.12c-.24.48-.95.31-.95-.22"}),"OfflineBoltRounded");let IC=0;const zC=[],LC=[{href:"/e-bikes",name:"E-Bikes",logo:(0,we.jsx)(TC,{}),subPages:[{href:"/overview",name:"Overview",component:(0,we.jsx)(QE,{}),logo:(0,we.jsx)(EC,{})},{href:"/tracking",name:"Live tracking",component:(0,we.jsx)(mC,{}),logo:(0,we.jsx)(CC,{})},{href:"/sessions",name:"Drive sessions",component:(0,we.jsx)(yC,{}),logo:(0,we.jsx)(Gl,{})}]},{href:"/charging-station",name:"Charging Station",logo:(0,we.jsx)(AC,{}),subPages:[{href:"/overview",name:"Overview",component:(0,we.jsx)(Ee,{}),logo:(0,we.jsx)(EC,{})},{href:"/outlets",name:"Outlets",component:(0,we.jsx)(Ee,{}),logo:(0,we.jsx)(MC,{})},{href:"/sessions",name:"Charge sessions",component:(0,we.jsx)(Ee,{}),logo:(0,we.jsx)(OC,{})}]},{href:"/e-bikes/sessions/:id",component:(0,we.jsx)(PC,{})}];LC.forEach((t=>{var e;zC.push((0,we.jsx)(vt,{path:t.href,element:void 0===t.component?(0,we.jsx)(yt,{to:`${t.href}${t.subPages[0].href}`}):t.component},IC++)),null===t||void 0===t||null===(e=t.subPages)||void 0===e||e.forEach((e=>{zC.push((0,we.jsx)(vt,{path:`${t.href}${e.href}`,element:e.component},IC++))}))})),zC.unshift((0,we.jsx)(vt,{path:"/",element:(0,we.jsx)(yt,{to:zC[0].props.path})},IC++));const DC=Wl((0,we.jsx)("path",{d:"M11.73 2C7.05 2.14 3.15 6.03 3 10.71c-.13 4.04 2.42 7.5 6 8.77V21c0 .55.45 1 1 1s1-.45 1-1v-1.06c.33.04.66.06 1 .06s.67-.02 1-.06V21c0 .55.45 1 1 1s1-.45 1-1v-1.53c3.49-1.24 6-4.57 6-8.47 0-5.05-4.18-9.15-9.27-9m1.81 12.71L12 16.25c-.41.41-1.09.41-1.5 0s-.41-1.09 0-1.5l.5-.5-.54-.54a.996.996 0 0 1 0-1.41L12 10.75c.41-.41 1.09-.41 1.5 0s.41 1.09 0 1.5l-.5.5.54.54c.39.39.39 1.03 0 1.42M15 9H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1"}),"ElectricMeterRounded");function jC(){const t=nt();let e=0;const n=[];return LC.forEach((r=>{void 0!==r.name&&n.push((0,we.jsxs)(ke,{className:"pageHolder",children:[(0,we.jsxs)(Se,{className:"page",onClick:()=>t(r.href),children:[r.logo,(0,we.jsx)("span",{children:r.name})]}),r.subPages.map((n=>(0,we.jsxs)(Se,{className:"subpage",onClick:()=>t(`${r.href}${n.href}`),"data-href":`${r.href}${n.href}`,children:[n.logo,(0,we.jsx)("span",{children:n.name})]},e++)))]},e++))})),(0,we.jsxs)("nav",{id:"mainNav",children:[(0,we.jsxs)(Se,{className:"appTitle",children:[(0,we.jsx)(DC,{}),(0,we.jsx)("span",{children:"Amrita EV"})]}),(0,we.jsx)(ke,{style:{gap:"2em"},children:n}),(0,we.jsxs)(Se,{className:"user",children:[(0,we.jsx)(DC,{}),(0,we.jsx)("span",{children:"User"})]})]})}o.createRoot(document.body).render((0,we.jsx)(r.StrictMode,{children:(0,we.jsxs)(te,{children:[(0,we.jsx)(jC,{}),(0,we.jsx)(Se,{id:"main",children:(0,we.jsx)(bt,{children:zC})})]})})),er.connect(),a()})()})();
//# sourceMappingURL=main.53298931.js.map